function Kk(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var Pp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function h0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function bw(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var PP={exports:{}},p0={},RP={exports:{}},Ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jd=Symbol.for("react.element"),Yk=Symbol.for("react.portal"),Qk=Symbol.for("react.fragment"),qk=Symbol.for("react.strict_mode"),Zk=Symbol.for("react.profiler"),$k=Symbol.for("react.provider"),eF=Symbol.for("react.context"),tF=Symbol.for("react.forward_ref"),nF=Symbol.for("react.suspense"),iF=Symbol.for("react.memo"),rF=Symbol.for("react.lazy"),bb=Symbol.iterator;function sF(n){return n===null||typeof n!="object"?null:(n=bb&&n[bb]||n["@@iterator"],typeof n=="function"?n:null)}var BP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},LP=Object.assign,DP={};function Tu(n,e,t){this.props=n,this.context=e,this.refs=DP,this.updater=t||BP}Tu.prototype.isReactComponent={};Tu.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Tu.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function IP(){}IP.prototype=Tu.prototype;function Cw(n,e,t){this.props=n,this.context=e,this.refs=DP,this.updater=t||BP}var Tw=Cw.prototype=new IP;Tw.constructor=Cw;LP(Tw,Tu.prototype);Tw.isPureReactComponent=!0;var Cb=Array.isArray,OP=Object.prototype.hasOwnProperty,Ew={current:null},kP={key:!0,ref:!0,__self:!0,__source:!0};function FP(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)OP.call(e,i)&&!kP.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:jd,type:n,key:s,ref:o,props:r,_owner:Ew.current}}function oF(n,e){return{$$typeof:jd,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Pw(n){return typeof n=="object"&&n!==null&&n.$$typeof===jd}function aF(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Tb=/\/+/g;function yy(n,e){return typeof n=="object"&&n!==null&&n.key!=null?aF(""+n.key):e.toString(36)}function Wm(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case jd:case Yk:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+yy(o,0):i,Cb(r)?(t="",n!=null&&(t=n.replace(Tb,"$&/")+"/"),Wm(r,e,t,"",function(c){return c})):r!=null&&(Pw(r)&&(r=oF(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Tb,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",Cb(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+yy(s,a);o+=Wm(s,e,t,l,r)}else if(l=sF(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+yy(s,a++),o+=Wm(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Rp(n,e,t){if(n==null)return n;var i=[],r=0;return Wm(n,i,"","",function(s){return e.call(t,s,r++)}),i}function lF(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Bi={current:null},jm={transition:null},cF={ReactCurrentDispatcher:Bi,ReactCurrentBatchConfig:jm,ReactCurrentOwner:Ew};function NP(){throw Error("act(...) is not supported in production builds of React.")}Ct.Children={map:Rp,forEach:function(n,e,t){Rp(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Rp(n,function(){e++}),e},toArray:function(n){return Rp(n,function(e){return e})||[]},only:function(n){if(!Pw(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ct.Component=Tu;Ct.Fragment=Qk;Ct.Profiler=Zk;Ct.PureComponent=Cw;Ct.StrictMode=qk;Ct.Suspense=nF;Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cF;Ct.act=NP;Ct.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=LP({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ew.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)OP.call(e,l)&&!kP.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:jd,type:n.type,key:r,ref:s,props:i,_owner:o}};Ct.createContext=function(n){return n={$$typeof:eF,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:$k,_context:n},n.Consumer=n};Ct.createElement=FP;Ct.createFactory=function(n){var e=FP.bind(null,n);return e.type=n,e};Ct.createRef=function(){return{current:null}};Ct.forwardRef=function(n){return{$$typeof:tF,render:n}};Ct.isValidElement=Pw;Ct.lazy=function(n){return{$$typeof:rF,_payload:{_status:-1,_result:n},_init:lF}};Ct.memo=function(n,e){return{$$typeof:iF,type:n,compare:e===void 0?null:e}};Ct.startTransition=function(n){var e=jm.transition;jm.transition={};try{n()}finally{jm.transition=e}};Ct.unstable_act=NP;Ct.useCallback=function(n,e){return Bi.current.useCallback(n,e)};Ct.useContext=function(n){return Bi.current.useContext(n)};Ct.useDebugValue=function(){};Ct.useDeferredValue=function(n){return Bi.current.useDeferredValue(n)};Ct.useEffect=function(n,e){return Bi.current.useEffect(n,e)};Ct.useId=function(){return Bi.current.useId()};Ct.useImperativeHandle=function(n,e,t){return Bi.current.useImperativeHandle(n,e,t)};Ct.useInsertionEffect=function(n,e){return Bi.current.useInsertionEffect(n,e)};Ct.useLayoutEffect=function(n,e){return Bi.current.useLayoutEffect(n,e)};Ct.useMemo=function(n,e){return Bi.current.useMemo(n,e)};Ct.useReducer=function(n,e,t){return Bi.current.useReducer(n,e,t)};Ct.useRef=function(n){return Bi.current.useRef(n)};Ct.useState=function(n){return Bi.current.useState(n)};Ct.useSyncExternalStore=function(n,e,t){return Bi.current.useSyncExternalStore(n,e,t)};Ct.useTransition=function(){return Bi.current.useTransition()};Ct.version="18.3.1";RP.exports=Ct;var F=RP.exports;const pt=h0(F),uF=Kk({__proto__:null,default:pt},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fF=F,dF=Symbol.for("react.element"),hF=Symbol.for("react.fragment"),pF=Object.prototype.hasOwnProperty,mF=fF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gF={key:!0,ref:!0,__self:!0,__source:!0};function zP(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)pF.call(e,i)&&!gF.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:dF,type:n,key:s,ref:o,props:r,_owner:mF.current}}p0.Fragment=hF;p0.jsx=zP;p0.jsxs=zP;PP.exports=p0;var Rw=PP.exports;const m0=Rw.Fragment,W=Rw.jsx,ze=Rw.jsxs,vF=Object.freeze(Object.defineProperty({__proto__:null,Fragment:m0,jsx:W,jsxs:ze},Symbol.toStringTag,{value:"Module"}));var a_={},UP={exports:{}},ar={},GP={exports:{}},HP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(k,K){var J=k.length;k.push(K);e:for(;0<J;){var te=J-1>>>1,X=k[te];if(0<r(X,K))k[te]=K,k[J]=X,J=te;else break e}}function t(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var K=k[0],J=k.pop();if(J!==K){k[0]=J;e:for(var te=0,X=k.length,ie=X>>>1;te<ie;){var ve=2*(te+1)-1,q=k[ve],we=ve+1,Ae=k[we];if(0>r(q,J))we<X&&0>r(Ae,q)?(k[te]=Ae,k[we]=J,te=we):(k[te]=q,k[ve]=J,te=ve);else if(we<X&&0>r(Ae,J))k[te]=Ae,k[we]=J,te=we;else break e}}return K}function r(k,K){var J=k.sortIndex-K.sortIndex;return J!==0?J:k.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,m=!1,y=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(k){for(var K=t(c);K!==null;){if(K.callback===null)i(c);else if(K.startTime<=k)i(c),K.sortIndex=K.expirationTime,e(l,K);else break;K=t(c)}}function M(k){if(g=!1,S(k),!y)if(t(l)!==null)y=!0,ee(T);else{var K=t(c);K!==null&&oe(M,K.startTime-k)}}function T(k,K){y=!1,g&&(g=!1,w(C),C=-1),m=!0;var J=p;try{for(S(K),h=t(l);h!==null&&(!(h.expirationTime>K)||k&&!O());){var te=h.callback;if(typeof te=="function"){h.callback=null,p=h.priorityLevel;var X=te(h.expirationTime<=K);K=n.unstable_now(),typeof X=="function"?h.callback=X:h===t(l)&&i(l),S(K)}else i(l);h=t(l)}if(h!==null)var ie=!0;else{var ve=t(c);ve!==null&&oe(M,ve.startTime-K),ie=!1}return ie}finally{h=null,p=J,m=!1}}var E=!1,B=null,C=-1,R=5,L=-1;function O(){return!(n.unstable_now()-L<R)}function V(){if(B!==null){var k=n.unstable_now();L=k;var K=!0;try{K=B(!0,k)}finally{K?H():(E=!1,B=null)}}else E=!1}var H;if(typeof _=="function")H=function(){_(V)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,$=G.port2;G.port1.onmessage=V,H=function(){$.postMessage(null)}}else H=function(){x(V,0)};function ee(k){B=k,E||(E=!0,H())}function oe(k,K){C=x(function(){k(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,ee(T))},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(k){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var J=p;p=K;try{return k()}finally{p=J}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,K){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var J=p;p=k;try{return K()}finally{p=J}},n.unstable_scheduleCallback=function(k,K,J){var te=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?te+J:te):J=te,k){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=J+X,k={id:d++,callback:K,priorityLevel:k,startTime:J,expirationTime:X,sortIndex:-1},J>te?(k.sortIndex=J,e(c,k),t(l)===null&&k===t(c)&&(g?(w(C),C=-1):g=!0,oe(M,J-te))):(k.sortIndex=X,e(l,k),y||m||(y=!0,ee(T))),k},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(k){var K=p;return function(){var J=p;p=K;try{return k.apply(this,arguments)}finally{p=J}}}})(HP);GP.exports=HP;var yF=GP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xF=F,rr=yF;function Se(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var VP=new Set,ad={};function Dl(n,e){ou(n,e),ou(n+"Capture",e)}function ou(n,e){for(ad[n]=e,n=0;n<e.length;n++)VP.add(e[n])}var no=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l_=Object.prototype.hasOwnProperty,_F=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Eb={},Pb={};function wF(n){return l_.call(Pb,n)?!0:l_.call(Eb,n)?!1:_F.test(n)?Pb[n]=!0:(Eb[n]=!0,!1)}function SF(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function AF(n,e,t,i){if(e===null||typeof e>"u"||SF(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Li(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var si={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){si[n]=new Li(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];si[e]=new Li(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){si[n]=new Li(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){si[n]=new Li(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){si[n]=new Li(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){si[n]=new Li(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){si[n]=new Li(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){si[n]=new Li(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){si[n]=new Li(n,5,!1,n.toLowerCase(),null,!1,!1)});var Bw=/[\-:]([a-z])/g;function Lw(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Bw,Lw);si[e]=new Li(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Bw,Lw);si[e]=new Li(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Bw,Lw);si[e]=new Li(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){si[n]=new Li(n,1,!1,n.toLowerCase(),null,!1,!1)});si.xlinkHref=new Li("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){si[n]=new Li(n,1,!1,n.toLowerCase(),null,!0,!0)});function Dw(n,e,t,i){var r=si.hasOwnProperty(e)?si[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(AF(e,t,r,i)&&(t=null),i||r===null?wF(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var fo=xF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bp=Symbol.for("react.element"),Cc=Symbol.for("react.portal"),Tc=Symbol.for("react.fragment"),Iw=Symbol.for("react.strict_mode"),c_=Symbol.for("react.profiler"),WP=Symbol.for("react.provider"),jP=Symbol.for("react.context"),Ow=Symbol.for("react.forward_ref"),u_=Symbol.for("react.suspense"),f_=Symbol.for("react.suspense_list"),kw=Symbol.for("react.memo"),Do=Symbol.for("react.lazy"),JP=Symbol.for("react.offscreen"),Rb=Symbol.iterator;function lf(n){return n===null||typeof n!="object"?null:(n=Rb&&n[Rb]||n["@@iterator"],typeof n=="function"?n:null)}var mn=Object.assign,xy;function Ff(n){if(xy===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);xy=e&&e[1]||""}return`
`+xy+n}var _y=!1;function wy(n,e){if(!n||_y)return"";_y=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{_y=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Ff(n):""}function MF(n){switch(n.tag){case 5:return Ff(n.type);case 16:return Ff("Lazy");case 13:return Ff("Suspense");case 19:return Ff("SuspenseList");case 0:case 2:case 15:return n=wy(n.type,!1),n;case 11:return n=wy(n.type.render,!1),n;case 1:return n=wy(n.type,!0),n;default:return""}}function d_(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Tc:return"Fragment";case Cc:return"Portal";case c_:return"Profiler";case Iw:return"StrictMode";case u_:return"Suspense";case f_:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case jP:return(n.displayName||"Context")+".Consumer";case WP:return(n._context.displayName||"Context")+".Provider";case Ow:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case kw:return e=n.displayName||null,e!==null?e:d_(n.type)||"Memo";case Do:e=n._payload,n=n._init;try{return d_(n(e))}catch{}}return null}function bF(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return d_(e);case 8:return e===Iw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ra(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function XP(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function CF(n){var e=XP(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Lp(n){n._valueTracker||(n._valueTracker=CF(n))}function KP(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=XP(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function mg(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function h_(n,e){var t=e.checked;return mn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function Bb(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=ra(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function YP(n,e){e=e.checked,e!=null&&Dw(n,"checked",e,!1)}function p_(n,e){YP(n,e);var t=ra(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?m_(n,e.type,t):e.hasOwnProperty("defaultValue")&&m_(n,e.type,ra(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Lb(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function m_(n,e,t){(e!=="number"||mg(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Nf=Array.isArray;function Xc(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+ra(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function g_(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Se(91));return mn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Db(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Se(92));if(Nf(t)){if(1<t.length)throw Error(Se(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:ra(t)}}function QP(n,e){var t=ra(e.value),i=ra(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function Ib(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function qP(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function v_(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?qP(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Dp,ZP=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Dp=Dp||document.createElement("div"),Dp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Dp.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function ld(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Wf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TF=["Webkit","ms","Moz","O"];Object.keys(Wf).forEach(function(n){TF.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Wf[e]=Wf[n]})});function $P(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Wf.hasOwnProperty(n)&&Wf[n]?(""+e).trim():e+"px"}function e3(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=$P(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var EF=mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function y_(n,e){if(e){if(EF[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Se(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Se(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Se(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Se(62))}}function x_(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var __=null;function Fw(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var w_=null,Kc=null,Yc=null;function Ob(n){if(n=Kd(n)){if(typeof w_!="function")throw Error(Se(280));var e=n.stateNode;e&&(e=_0(e),w_(n.stateNode,n.type,e))}}function t3(n){Kc?Yc?Yc.push(n):Yc=[n]:Kc=n}function n3(){if(Kc){var n=Kc,e=Yc;if(Yc=Kc=null,Ob(n),e)for(n=0;n<e.length;n++)Ob(e[n])}}function i3(n,e){return n(e)}function r3(){}var Sy=!1;function s3(n,e,t){if(Sy)return n(e,t);Sy=!0;try{return i3(n,e,t)}finally{Sy=!1,(Kc!==null||Yc!==null)&&(r3(),n3())}}function cd(n,e){var t=n.stateNode;if(t===null)return null;var i=_0(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Se(231,e,typeof t));return t}var S_=!1;if(no)try{var cf={};Object.defineProperty(cf,"passive",{get:function(){S_=!0}}),window.addEventListener("test",cf,cf),window.removeEventListener("test",cf,cf)}catch{S_=!1}function PF(n,e,t,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(d){this.onError(d)}}var jf=!1,gg=null,vg=!1,A_=null,RF={onError:function(n){jf=!0,gg=n}};function BF(n,e,t,i,r,s,o,a,l){jf=!1,gg=null,PF.apply(RF,arguments)}function LF(n,e,t,i,r,s,o,a,l){if(BF.apply(this,arguments),jf){if(jf){var c=gg;jf=!1,gg=null}else throw Error(Se(198));vg||(vg=!0,A_=c)}}function Il(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function o3(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function kb(n){if(Il(n)!==n)throw Error(Se(188))}function DF(n){var e=n.alternate;if(!e){if(e=Il(n),e===null)throw Error(Se(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return kb(r),n;if(s===i)return kb(r),e;s=s.sibling}throw Error(Se(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(Se(189))}}if(t.alternate!==i)throw Error(Se(190))}if(t.tag!==3)throw Error(Se(188));return t.stateNode.current===t?n:e}function a3(n){return n=DF(n),n!==null?l3(n):null}function l3(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=l3(n);if(e!==null)return e;n=n.sibling}return null}var c3=rr.unstable_scheduleCallback,Fb=rr.unstable_cancelCallback,IF=rr.unstable_shouldYield,OF=rr.unstable_requestPaint,En=rr.unstable_now,kF=rr.unstable_getCurrentPriorityLevel,Nw=rr.unstable_ImmediatePriority,u3=rr.unstable_UserBlockingPriority,yg=rr.unstable_NormalPriority,FF=rr.unstable_LowPriority,f3=rr.unstable_IdlePriority,g0=null,vs=null;function NF(n){if(vs&&typeof vs.onCommitFiberRoot=="function")try{vs.onCommitFiberRoot(g0,n,void 0,(n.current.flags&128)===128)}catch{}}var Kr=Math.clz32?Math.clz32:GF,zF=Math.log,UF=Math.LN2;function GF(n){return n>>>=0,n===0?32:31-(zF(n)/UF|0)|0}var Ip=64,Op=4194304;function zf(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function xg(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=zf(a):(s&=o,s!==0&&(i=zf(s)))}else o=t&~r,o!==0?i=zf(o):s!==0&&(i=zf(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Kr(e),r=1<<t,i|=n[t],e&=~r;return i}function HF(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VF(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Kr(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=HF(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function M_(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function d3(){var n=Ip;return Ip<<=1,!(Ip&4194240)&&(Ip=64),n}function Ay(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Jd(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Kr(e),n[e]=t}function WF(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Kr(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function zw(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Kr(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var Wt=0;function h3(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var p3,Uw,m3,g3,v3,b_=!1,kp=[],Wo=null,jo=null,Jo=null,ud=new Map,fd=new Map,Fo=[],jF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nb(n,e){switch(n){case"focusin":case"focusout":Wo=null;break;case"dragenter":case"dragleave":jo=null;break;case"mouseover":case"mouseout":Jo=null;break;case"pointerover":case"pointerout":ud.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fd.delete(e.pointerId)}}function uf(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Kd(e),e!==null&&Uw(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function JF(n,e,t,i,r){switch(e){case"focusin":return Wo=uf(Wo,n,e,t,i,r),!0;case"dragenter":return jo=uf(jo,n,e,t,i,r),!0;case"mouseover":return Jo=uf(Jo,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return ud.set(s,uf(ud.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,fd.set(s,uf(fd.get(s)||null,n,e,t,i,r)),!0}return!1}function y3(n){var e=Za(n.target);if(e!==null){var t=Il(e);if(t!==null){if(e=t.tag,e===13){if(e=o3(t),e!==null){n.blockedOn=e,v3(n.priority,function(){m3(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Jm(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=C_(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);__=i,t.target.dispatchEvent(i),__=null}else return e=Kd(t),e!==null&&Uw(e),n.blockedOn=t,!1;e.shift()}return!0}function zb(n,e,t){Jm(n)&&t.delete(e)}function XF(){b_=!1,Wo!==null&&Jm(Wo)&&(Wo=null),jo!==null&&Jm(jo)&&(jo=null),Jo!==null&&Jm(Jo)&&(Jo=null),ud.forEach(zb),fd.forEach(zb)}function ff(n,e){n.blockedOn===e&&(n.blockedOn=null,b_||(b_=!0,rr.unstable_scheduleCallback(rr.unstable_NormalPriority,XF)))}function dd(n){function e(r){return ff(r,n)}if(0<kp.length){ff(kp[0],n);for(var t=1;t<kp.length;t++){var i=kp[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Wo!==null&&ff(Wo,n),jo!==null&&ff(jo,n),Jo!==null&&ff(Jo,n),ud.forEach(e),fd.forEach(e),t=0;t<Fo.length;t++)i=Fo[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Fo.length&&(t=Fo[0],t.blockedOn===null);)y3(t),t.blockedOn===null&&Fo.shift()}var Qc=fo.ReactCurrentBatchConfig,_g=!0;function KF(n,e,t,i){var r=Wt,s=Qc.transition;Qc.transition=null;try{Wt=1,Gw(n,e,t,i)}finally{Wt=r,Qc.transition=s}}function YF(n,e,t,i){var r=Wt,s=Qc.transition;Qc.transition=null;try{Wt=4,Gw(n,e,t,i)}finally{Wt=r,Qc.transition=s}}function Gw(n,e,t,i){if(_g){var r=C_(n,e,t,i);if(r===null)Dy(n,e,i,wg,t),Nb(n,i);else if(JF(r,n,e,t,i))i.stopPropagation();else if(Nb(n,i),e&4&&-1<jF.indexOf(n)){for(;r!==null;){var s=Kd(r);if(s!==null&&p3(s),s=C_(n,e,t,i),s===null&&Dy(n,e,i,wg,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else Dy(n,e,i,null,t)}}var wg=null;function C_(n,e,t,i){if(wg=null,n=Fw(i),n=Za(n),n!==null)if(e=Il(n),e===null)n=null;else if(t=e.tag,t===13){if(n=o3(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return wg=n,null}function x3(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kF()){case Nw:return 1;case u3:return 4;case yg:case FF:return 16;case f3:return 536870912;default:return 16}default:return 16}}var zo=null,Hw=null,Xm=null;function _3(){if(Xm)return Xm;var n,e=Hw,t=e.length,i,r="value"in zo?zo.value:zo.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return Xm=r.slice(n,1<i?1-i:void 0)}function Km(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Fp(){return!0}function Ub(){return!1}function lr(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Fp:Ub,this.isPropagationStopped=Ub,this}return mn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Fp)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Fp)},persist:function(){},isPersistent:Fp}),e}var Eu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vw=lr(Eu),Xd=mn({},Eu,{view:0,detail:0}),QF=lr(Xd),My,by,df,v0=mn({},Xd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ww,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==df&&(df&&n.type==="mousemove"?(My=n.screenX-df.screenX,by=n.screenY-df.screenY):by=My=0,df=n),My)},movementY:function(n){return"movementY"in n?n.movementY:by}}),Gb=lr(v0),qF=mn({},v0,{dataTransfer:0}),ZF=lr(qF),$F=mn({},Xd,{relatedTarget:0}),Cy=lr($F),eN=mn({},Eu,{animationName:0,elapsedTime:0,pseudoElement:0}),tN=lr(eN),nN=mn({},Eu,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),iN=lr(nN),rN=mn({},Eu,{data:0}),Hb=lr(rN),sN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lN(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=aN[n])?!!e[n]:!1}function Ww(){return lN}var cN=mn({},Xd,{key:function(n){if(n.key){var e=sN[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Km(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?oN[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ww,charCode:function(n){return n.type==="keypress"?Km(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Km(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),uN=lr(cN),fN=mn({},v0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vb=lr(fN),dN=mn({},Xd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ww}),hN=lr(dN),pN=mn({},Eu,{propertyName:0,elapsedTime:0,pseudoElement:0}),mN=lr(pN),gN=mn({},v0,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),vN=lr(gN),yN=[9,13,27,32],jw=no&&"CompositionEvent"in window,Jf=null;no&&"documentMode"in document&&(Jf=document.documentMode);var xN=no&&"TextEvent"in window&&!Jf,w3=no&&(!jw||Jf&&8<Jf&&11>=Jf),Wb=String.fromCharCode(32),jb=!1;function S3(n,e){switch(n){case"keyup":return yN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function A3(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ec=!1;function _N(n,e){switch(n){case"compositionend":return A3(e);case"keypress":return e.which!==32?null:(jb=!0,Wb);case"textInput":return n=e.data,n===Wb&&jb?null:n;default:return null}}function wN(n,e){if(Ec)return n==="compositionend"||!jw&&S3(n,e)?(n=_3(),Xm=Hw=zo=null,Ec=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return w3&&e.locale!=="ko"?null:e.data;default:return null}}var SN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jb(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!SN[n.type]:e==="textarea"}function M3(n,e,t,i){t3(i),e=Sg(e,"onChange"),0<e.length&&(t=new Vw("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Xf=null,hd=null;function AN(n){O3(n,0)}function y0(n){var e=Bc(n);if(KP(e))return n}function MN(n,e){if(n==="change")return e}var b3=!1;if(no){var Ty;if(no){var Ey="oninput"in document;if(!Ey){var Xb=document.createElement("div");Xb.setAttribute("oninput","return;"),Ey=typeof Xb.oninput=="function"}Ty=Ey}else Ty=!1;b3=Ty&&(!document.documentMode||9<document.documentMode)}function Kb(){Xf&&(Xf.detachEvent("onpropertychange",C3),hd=Xf=null)}function C3(n){if(n.propertyName==="value"&&y0(hd)){var e=[];M3(e,hd,n,Fw(n)),s3(AN,e)}}function bN(n,e,t){n==="focusin"?(Kb(),Xf=e,hd=t,Xf.attachEvent("onpropertychange",C3)):n==="focusout"&&Kb()}function CN(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return y0(hd)}function TN(n,e){if(n==="click")return y0(e)}function EN(n,e){if(n==="input"||n==="change")return y0(e)}function PN(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Zr=typeof Object.is=="function"?Object.is:PN;function pd(n,e){if(Zr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!l_.call(e,r)||!Zr(n[r],e[r]))return!1}return!0}function Yb(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Qb(n,e){var t=Yb(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Yb(t)}}function T3(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?T3(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function E3(){for(var n=window,e=mg();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=mg(n.document)}return e}function Jw(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function RN(n){var e=E3(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&T3(t.ownerDocument.documentElement,t)){if(i!==null&&Jw(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=Qb(t,s);var o=Qb(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var BN=no&&"documentMode"in document&&11>=document.documentMode,Pc=null,T_=null,Kf=null,E_=!1;function qb(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;E_||Pc==null||Pc!==mg(i)||(i=Pc,"selectionStart"in i&&Jw(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Kf&&pd(Kf,i)||(Kf=i,i=Sg(T_,"onSelect"),0<i.length&&(e=new Vw("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Pc)))}function Np(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Rc={animationend:Np("Animation","AnimationEnd"),animationiteration:Np("Animation","AnimationIteration"),animationstart:Np("Animation","AnimationStart"),transitionend:Np("Transition","TransitionEnd")},Py={},P3={};no&&(P3=document.createElement("div").style,"AnimationEvent"in window||(delete Rc.animationend.animation,delete Rc.animationiteration.animation,delete Rc.animationstart.animation),"TransitionEvent"in window||delete Rc.transitionend.transition);function x0(n){if(Py[n])return Py[n];if(!Rc[n])return n;var e=Rc[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in P3)return Py[n]=e[t];return n}var R3=x0("animationend"),B3=x0("animationiteration"),L3=x0("animationstart"),D3=x0("transitionend"),I3=new Map,Zb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pa(n,e){I3.set(n,e),Dl(e,[n])}for(var Ry=0;Ry<Zb.length;Ry++){var By=Zb[Ry],LN=By.toLowerCase(),DN=By[0].toUpperCase()+By.slice(1);pa(LN,"on"+DN)}pa(R3,"onAnimationEnd");pa(B3,"onAnimationIteration");pa(L3,"onAnimationStart");pa("dblclick","onDoubleClick");pa("focusin","onFocus");pa("focusout","onBlur");pa(D3,"onTransitionEnd");ou("onMouseEnter",["mouseout","mouseover"]);ou("onMouseLeave",["mouseout","mouseover"]);ou("onPointerEnter",["pointerout","pointerover"]);ou("onPointerLeave",["pointerout","pointerover"]);Dl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uf));function $b(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,LF(i,e,void 0,n),n.currentTarget=null}function O3(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;$b(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;$b(r,a,c),s=l}}}if(vg)throw n=A_,vg=!1,A_=null,n}function qt(n,e){var t=e[D_];t===void 0&&(t=e[D_]=new Set);var i=n+"__bubble";t.has(i)||(k3(e,n,2,!1),t.add(i))}function Ly(n,e,t){var i=0;e&&(i|=4),k3(t,n,i,e)}var zp="_reactListening"+Math.random().toString(36).slice(2);function md(n){if(!n[zp]){n[zp]=!0,VP.forEach(function(t){t!=="selectionchange"&&(IN.has(t)||Ly(t,!1,n),Ly(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[zp]||(e[zp]=!0,Ly("selectionchange",!1,e))}}function k3(n,e,t,i){switch(x3(e)){case 1:var r=KF;break;case 4:r=YF;break;default:r=Gw}t=r.bind(null,e,t,n),r=void 0,!S_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function Dy(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Za(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}s3(function(){var c=s,d=Fw(t),h=[];e:{var p=I3.get(n);if(p!==void 0){var m=Vw,y=n;switch(n){case"keypress":if(Km(t)===0)break e;case"keydown":case"keyup":m=uN;break;case"focusin":y="focus",m=Cy;break;case"focusout":y="blur",m=Cy;break;case"beforeblur":case"afterblur":m=Cy;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Gb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=ZF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=hN;break;case R3:case B3:case L3:m=tN;break;case D3:m=mN;break;case"scroll":m=QF;break;case"wheel":m=vN;break;case"copy":case"cut":case"paste":m=iN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Vb}var g=(e&4)!==0,x=!g&&n==="scroll",w=g?p!==null?p+"Capture":null:p;g=[];for(var _=c,S;_!==null;){S=_;var M=S.stateNode;if(S.tag===5&&M!==null&&(S=M,w!==null&&(M=cd(_,w),M!=null&&g.push(gd(_,M,S)))),x)break;_=_.return}0<g.length&&(p=new m(p,y,null,t,d),h.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==__&&(y=t.relatedTarget||t.fromElement)&&(Za(y)||y[io]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=t.relatedTarget||t.toElement,m=c,y=y?Za(y):null,y!==null&&(x=Il(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(g=Gb,M="onMouseLeave",w="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(g=Vb,M="onPointerLeave",w="onPointerEnter",_="pointer"),x=m==null?p:Bc(m),S=y==null?p:Bc(y),p=new g(M,_+"leave",m,t,d),p.target=x,p.relatedTarget=S,M=null,Za(d)===c&&(g=new g(w,_+"enter",y,t,d),g.target=S,g.relatedTarget=x,M=g),x=M,m&&y)t:{for(g=m,w=y,_=0,S=g;S;S=nc(S))_++;for(S=0,M=w;M;M=nc(M))S++;for(;0<_-S;)g=nc(g),_--;for(;0<S-_;)w=nc(w),S--;for(;_--;){if(g===w||w!==null&&g===w.alternate)break t;g=nc(g),w=nc(w)}g=null}else g=null;m!==null&&eC(h,p,m,g,!1),y!==null&&x!==null&&eC(h,x,y,g,!0)}}e:{if(p=c?Bc(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var T=MN;else if(Jb(p))if(b3)T=EN;else{T=CN;var E=bN}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=TN);if(T&&(T=T(n,c))){M3(h,T,t,d);break e}E&&E(n,p,c),n==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&m_(p,"number",p.value)}switch(E=c?Bc(c):window,n){case"focusin":(Jb(E)||E.contentEditable==="true")&&(Pc=E,T_=c,Kf=null);break;case"focusout":Kf=T_=Pc=null;break;case"mousedown":E_=!0;break;case"contextmenu":case"mouseup":case"dragend":E_=!1,qb(h,t,d);break;case"selectionchange":if(BN)break;case"keydown":case"keyup":qb(h,t,d)}var B;if(jw)e:{switch(n){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ec?S3(n,t)&&(C="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(C="onCompositionStart");C&&(w3&&t.locale!=="ko"&&(Ec||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ec&&(B=_3()):(zo=d,Hw="value"in zo?zo.value:zo.textContent,Ec=!0)),E=Sg(c,C),0<E.length&&(C=new Hb(C,n,null,t,d),h.push({event:C,listeners:E}),B?C.data=B:(B=A3(t),B!==null&&(C.data=B)))),(B=xN?_N(n,t):wN(n,t))&&(c=Sg(c,"onBeforeInput"),0<c.length&&(d=new Hb("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:c}),d.data=B))}O3(h,e)})}function gd(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Sg(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=cd(n,t),s!=null&&i.unshift(gd(n,s,r)),s=cd(n,e),s!=null&&i.push(gd(n,s,r))),n=n.return}return i}function nc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function eC(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=cd(t,s),l!=null&&o.unshift(gd(t,l,a))):r||(l=cd(t,s),l!=null&&o.push(gd(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var ON=/\r\n?/g,kN=/\u0000|\uFFFD/g;function tC(n){return(typeof n=="string"?n:""+n).replace(ON,`
`).replace(kN,"")}function Up(n,e,t){if(e=tC(e),tC(n)!==e&&t)throw Error(Se(425))}function Ag(){}var P_=null,R_=null;function B_(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var L_=typeof setTimeout=="function"?setTimeout:void 0,FN=typeof clearTimeout=="function"?clearTimeout:void 0,nC=typeof Promise=="function"?Promise:void 0,NN=typeof queueMicrotask=="function"?queueMicrotask:typeof nC<"u"?function(n){return nC.resolve(null).then(n).catch(zN)}:L_;function zN(n){setTimeout(function(){throw n})}function Iy(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),dd(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);dd(e)}function Xo(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function iC(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Pu=Math.random().toString(36).slice(2),gs="__reactFiber$"+Pu,vd="__reactProps$"+Pu,io="__reactContainer$"+Pu,D_="__reactEvents$"+Pu,UN="__reactListeners$"+Pu,GN="__reactHandles$"+Pu;function Za(n){var e=n[gs];if(e)return e;for(var t=n.parentNode;t;){if(e=t[io]||t[gs]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=iC(n);n!==null;){if(t=n[gs])return t;n=iC(n)}return e}n=t,t=n.parentNode}return null}function Kd(n){return n=n[gs]||n[io],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Bc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Se(33))}function _0(n){return n[vd]||null}var I_=[],Lc=-1;function ma(n){return{current:n}}function Zt(n){0>Lc||(n.current=I_[Lc],I_[Lc]=null,Lc--)}function Qt(n,e){Lc++,I_[Lc]=n.current,n.current=e}var sa={},yi=ma(sa),Hi=ma(!1),yl=sa;function au(n,e){var t=n.type.contextTypes;if(!t)return sa;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Vi(n){return n=n.childContextTypes,n!=null}function Mg(){Zt(Hi),Zt(yi)}function rC(n,e,t){if(yi.current!==sa)throw Error(Se(168));Qt(yi,e),Qt(Hi,t)}function F3(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Se(108,bF(n)||"Unknown",r));return mn({},t,i)}function bg(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||sa,yl=yi.current,Qt(yi,n),Qt(Hi,Hi.current),!0}function sC(n,e,t){var i=n.stateNode;if(!i)throw Error(Se(169));t?(n=F3(n,e,yl),i.__reactInternalMemoizedMergedChildContext=n,Zt(Hi),Zt(yi),Qt(yi,n)):Zt(Hi),Qt(Hi,t)}var Gs=null,w0=!1,Oy=!1;function N3(n){Gs===null?Gs=[n]:Gs.push(n)}function HN(n){w0=!0,N3(n)}function ga(){if(!Oy&&Gs!==null){Oy=!0;var n=0,e=Wt;try{var t=Gs;for(Wt=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Gs=null,w0=!1}catch(r){throw Gs!==null&&(Gs=Gs.slice(n+1)),c3(Nw,ga),r}finally{Wt=e,Oy=!1}}return null}var Dc=[],Ic=0,Cg=null,Tg=0,Mr=[],br=0,xl=null,Ws=1,js="";function Va(n,e){Dc[Ic++]=Tg,Dc[Ic++]=Cg,Cg=n,Tg=e}function z3(n,e,t){Mr[br++]=Ws,Mr[br++]=js,Mr[br++]=xl,xl=n;var i=Ws;n=js;var r=32-Kr(i)-1;i&=~(1<<r),t+=1;var s=32-Kr(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Ws=1<<32-Kr(e)+r|t<<r|i,js=s+n}else Ws=1<<s|t<<r|i,js=n}function Xw(n){n.return!==null&&(Va(n,1),z3(n,1,0))}function Kw(n){for(;n===Cg;)Cg=Dc[--Ic],Dc[Ic]=null,Tg=Dc[--Ic],Dc[Ic]=null;for(;n===xl;)xl=Mr[--br],Mr[br]=null,js=Mr[--br],Mr[br]=null,Ws=Mr[--br],Mr[br]=null}var nr=null,er=null,sn=!1,jr=null;function U3(n,e){var t=Tr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function oC(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,nr=n,er=Xo(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,nr=n,er=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=xl!==null?{id:Ws,overflow:js}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Tr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,nr=n,er=null,!0):!1;default:return!1}}function O_(n){return(n.mode&1)!==0&&(n.flags&128)===0}function k_(n){if(sn){var e=er;if(e){var t=e;if(!oC(n,e)){if(O_(n))throw Error(Se(418));e=Xo(t.nextSibling);var i=nr;e&&oC(n,e)?U3(i,t):(n.flags=n.flags&-4097|2,sn=!1,nr=n)}}else{if(O_(n))throw Error(Se(418));n.flags=n.flags&-4097|2,sn=!1,nr=n}}}function aC(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;nr=n}function Gp(n){if(n!==nr)return!1;if(!sn)return aC(n),sn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!B_(n.type,n.memoizedProps)),e&&(e=er)){if(O_(n))throw G3(),Error(Se(418));for(;e;)U3(n,e),e=Xo(e.nextSibling)}if(aC(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Se(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){er=Xo(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}er=null}}else er=nr?Xo(n.stateNode.nextSibling):null;return!0}function G3(){for(var n=er;n;)n=Xo(n.nextSibling)}function lu(){er=nr=null,sn=!1}function Yw(n){jr===null?jr=[n]:jr.push(n)}var VN=fo.ReactCurrentBatchConfig;function hf(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Se(309));var i=t.stateNode}if(!i)throw Error(Se(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Se(284));if(!t._owner)throw Error(Se(290,n))}return n}function Hp(n,e){throw n=Object.prototype.toString.call(e),Error(Se(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function lC(n){var e=n._init;return e(n._payload)}function H3(n){function e(w,_){if(n){var S=w.deletions;S===null?(w.deletions=[_],w.flags|=16):S.push(_)}}function t(w,_){if(!n)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function i(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function r(w,_){return w=qo(w,_),w.index=0,w.sibling=null,w}function s(w,_,S){return w.index=S,n?(S=w.alternate,S!==null?(S=S.index,S<_?(w.flags|=2,_):S):(w.flags|=2,_)):(w.flags|=1048576,_)}function o(w){return n&&w.alternate===null&&(w.flags|=2),w}function a(w,_,S,M){return _===null||_.tag!==6?(_=Hy(S,w.mode,M),_.return=w,_):(_=r(_,S),_.return=w,_)}function l(w,_,S,M){var T=S.type;return T===Tc?d(w,_,S.props.children,M,S.key):_!==null&&(_.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Do&&lC(T)===_.type)?(M=r(_,S.props),M.ref=hf(w,_,S),M.return=w,M):(M=tg(S.type,S.key,S.props,null,w.mode,M),M.ref=hf(w,_,S),M.return=w,M)}function c(w,_,S,M){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=Vy(S,w.mode,M),_.return=w,_):(_=r(_,S.children||[]),_.return=w,_)}function d(w,_,S,M,T){return _===null||_.tag!==7?(_=ul(S,w.mode,M,T),_.return=w,_):(_=r(_,S),_.return=w,_)}function h(w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Hy(""+_,w.mode,S),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Bp:return S=tg(_.type,_.key,_.props,null,w.mode,S),S.ref=hf(w,null,_),S.return=w,S;case Cc:return _=Vy(_,w.mode,S),_.return=w,_;case Do:var M=_._init;return h(w,M(_._payload),S)}if(Nf(_)||lf(_))return _=ul(_,w.mode,S,null),_.return=w,_;Hp(w,_)}return null}function p(w,_,S,M){var T=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return T!==null?null:a(w,_,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Bp:return S.key===T?l(w,_,S,M):null;case Cc:return S.key===T?c(w,_,S,M):null;case Do:return T=S._init,p(w,_,T(S._payload),M)}if(Nf(S)||lf(S))return T!==null?null:d(w,_,S,M,null);Hp(w,S)}return null}function m(w,_,S,M,T){if(typeof M=="string"&&M!==""||typeof M=="number")return w=w.get(S)||null,a(_,w,""+M,T);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Bp:return w=w.get(M.key===null?S:M.key)||null,l(_,w,M,T);case Cc:return w=w.get(M.key===null?S:M.key)||null,c(_,w,M,T);case Do:var E=M._init;return m(w,_,S,E(M._payload),T)}if(Nf(M)||lf(M))return w=w.get(S)||null,d(_,w,M,T,null);Hp(_,M)}return null}function y(w,_,S,M){for(var T=null,E=null,B=_,C=_=0,R=null;B!==null&&C<S.length;C++){B.index>C?(R=B,B=null):R=B.sibling;var L=p(w,B,S[C],M);if(L===null){B===null&&(B=R);break}n&&B&&L.alternate===null&&e(w,B),_=s(L,_,C),E===null?T=L:E.sibling=L,E=L,B=R}if(C===S.length)return t(w,B),sn&&Va(w,C),T;if(B===null){for(;C<S.length;C++)B=h(w,S[C],M),B!==null&&(_=s(B,_,C),E===null?T=B:E.sibling=B,E=B);return sn&&Va(w,C),T}for(B=i(w,B);C<S.length;C++)R=m(B,w,C,S[C],M),R!==null&&(n&&R.alternate!==null&&B.delete(R.key===null?C:R.key),_=s(R,_,C),E===null?T=R:E.sibling=R,E=R);return n&&B.forEach(function(O){return e(w,O)}),sn&&Va(w,C),T}function g(w,_,S,M){var T=lf(S);if(typeof T!="function")throw Error(Se(150));if(S=T.call(S),S==null)throw Error(Se(151));for(var E=T=null,B=_,C=_=0,R=null,L=S.next();B!==null&&!L.done;C++,L=S.next()){B.index>C?(R=B,B=null):R=B.sibling;var O=p(w,B,L.value,M);if(O===null){B===null&&(B=R);break}n&&B&&O.alternate===null&&e(w,B),_=s(O,_,C),E===null?T=O:E.sibling=O,E=O,B=R}if(L.done)return t(w,B),sn&&Va(w,C),T;if(B===null){for(;!L.done;C++,L=S.next())L=h(w,L.value,M),L!==null&&(_=s(L,_,C),E===null?T=L:E.sibling=L,E=L);return sn&&Va(w,C),T}for(B=i(w,B);!L.done;C++,L=S.next())L=m(B,w,C,L.value,M),L!==null&&(n&&L.alternate!==null&&B.delete(L.key===null?C:L.key),_=s(L,_,C),E===null?T=L:E.sibling=L,E=L);return n&&B.forEach(function(V){return e(w,V)}),sn&&Va(w,C),T}function x(w,_,S,M){if(typeof S=="object"&&S!==null&&S.type===Tc&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Bp:e:{for(var T=S.key,E=_;E!==null;){if(E.key===T){if(T=S.type,T===Tc){if(E.tag===7){t(w,E.sibling),_=r(E,S.props.children),_.return=w,w=_;break e}}else if(E.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Do&&lC(T)===E.type){t(w,E.sibling),_=r(E,S.props),_.ref=hf(w,E,S),_.return=w,w=_;break e}t(w,E);break}else e(w,E);E=E.sibling}S.type===Tc?(_=ul(S.props.children,w.mode,M,S.key),_.return=w,w=_):(M=tg(S.type,S.key,S.props,null,w.mode,M),M.ref=hf(w,_,S),M.return=w,w=M)}return o(w);case Cc:e:{for(E=S.key;_!==null;){if(_.key===E)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){t(w,_.sibling),_=r(_,S.children||[]),_.return=w,w=_;break e}else{t(w,_);break}else e(w,_);_=_.sibling}_=Vy(S,w.mode,M),_.return=w,w=_}return o(w);case Do:return E=S._init,x(w,_,E(S._payload),M)}if(Nf(S))return y(w,_,S,M);if(lf(S))return g(w,_,S,M);Hp(w,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(t(w,_.sibling),_=r(_,S),_.return=w,w=_):(t(w,_),_=Hy(S,w.mode,M),_.return=w,w=_),o(w)):t(w,_)}return x}var cu=H3(!0),V3=H3(!1),Eg=ma(null),Pg=null,Oc=null,Qw=null;function qw(){Qw=Oc=Pg=null}function Zw(n){var e=Eg.current;Zt(Eg),n._currentValue=e}function F_(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function qc(n,e){Pg=n,Qw=Oc=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Gi=!0),n.firstContext=null)}function Pr(n){var e=n._currentValue;if(Qw!==n)if(n={context:n,memoizedValue:e,next:null},Oc===null){if(Pg===null)throw Error(Se(308));Oc=n,Pg.dependencies={lanes:0,firstContext:n}}else Oc=Oc.next=n;return e}var $a=null;function $w(n){$a===null?$a=[n]:$a.push(n)}function W3(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,$w(e)):(t.next=r.next,r.next=t),e.interleaved=t,ro(n,i)}function ro(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Io=!1;function eS(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function j3(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function qs(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Ko(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Dt&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,ro(n,t)}return r=i.interleaved,r===null?(e.next=e,$w(i)):(e.next=r.next,r.next=e),i.interleaved=e,ro(n,t)}function Ym(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,zw(n,t)}}function cC(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Rg(n,e,t,i){var r=n.updateQueue;Io=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,g=a;switch(p=e,m=t,g.tag){case 1:if(y=g.payload,typeof y=="function"){h=y.call(m,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,p=typeof y=="function"?y.call(m,h,p):y,p==null)break e;h=mn({},h,p);break e;case 2:Io=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(1);if(d===null&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);wl|=o,n.lanes=o,n.memoizedState=h}}function uC(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(Se(191,r));r.call(i)}}}var Yd={},ys=ma(Yd),yd=ma(Yd),xd=ma(Yd);function el(n){if(n===Yd)throw Error(Se(174));return n}function tS(n,e){switch(Qt(xd,e),Qt(yd,n),Qt(ys,Yd),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:v_(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=v_(e,n)}Zt(ys),Qt(ys,e)}function uu(){Zt(ys),Zt(yd),Zt(xd)}function J3(n){el(xd.current);var e=el(ys.current),t=v_(e,n.type);e!==t&&(Qt(yd,n),Qt(ys,t))}function nS(n){yd.current===n&&(Zt(ys),Zt(yd))}var un=ma(0);function Bg(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ky=[];function iS(){for(var n=0;n<ky.length;n++)ky[n]._workInProgressVersionPrimary=null;ky.length=0}var Qm=fo.ReactCurrentDispatcher,Fy=fo.ReactCurrentBatchConfig,_l=0,pn=null,Un=null,Kn=null,Lg=!1,Yf=!1,_d=0,WN=0;function fi(){throw Error(Se(321))}function rS(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Zr(n[t],e[t]))return!1;return!0}function sS(n,e,t,i,r,s){if(_l=s,pn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qm.current=n===null||n.memoizedState===null?KN:YN,n=t(i,r),Yf){s=0;do{if(Yf=!1,_d=0,25<=s)throw Error(Se(301));s+=1,Kn=Un=null,e.updateQueue=null,Qm.current=QN,n=t(i,r)}while(Yf)}if(Qm.current=Dg,e=Un!==null&&Un.next!==null,_l=0,Kn=Un=pn=null,Lg=!1,e)throw Error(Se(300));return n}function oS(){var n=_d!==0;return _d=0,n}function ms(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kn===null?pn.memoizedState=Kn=n:Kn=Kn.next=n,Kn}function Rr(){if(Un===null){var n=pn.alternate;n=n!==null?n.memoizedState:null}else n=Un.next;var e=Kn===null?pn.memoizedState:Kn.next;if(e!==null)Kn=e,Un=n;else{if(n===null)throw Error(Se(310));Un=n,n={memoizedState:Un.memoizedState,baseState:Un.baseState,baseQueue:Un.baseQueue,queue:Un.queue,next:null},Kn===null?pn.memoizedState=Kn=n:Kn=Kn.next=n}return Kn}function wd(n,e){return typeof e=="function"?e(n):e}function Ny(n){var e=Rr(),t=e.queue;if(t===null)throw Error(Se(311));t.lastRenderedReducer=n;var i=Un,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((_l&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,pn.lanes|=d,wl|=d}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,Zr(i,e.memoizedState)||(Gi=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,pn.lanes|=s,wl|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function zy(n){var e=Rr(),t=e.queue;if(t===null)throw Error(Se(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);Zr(s,e.memoizedState)||(Gi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function X3(){}function K3(n,e){var t=pn,i=Rr(),r=e(),s=!Zr(i.memoizedState,r);if(s&&(i.memoizedState=r,Gi=!0),i=i.queue,aS(q3.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Kn!==null&&Kn.memoizedState.tag&1){if(t.flags|=2048,Sd(9,Q3.bind(null,t,i,r,e),void 0,null),Qn===null)throw Error(Se(349));_l&30||Y3(t,e,r)}return r}function Y3(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=pn.updateQueue,e===null?(e={lastEffect:null,stores:null},pn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function Q3(n,e,t,i){e.value=t,e.getSnapshot=i,Z3(e)&&$3(n)}function q3(n,e,t){return t(function(){Z3(e)&&$3(n)})}function Z3(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Zr(n,t)}catch{return!0}}function $3(n){var e=ro(n,1);e!==null&&Yr(e,n,1,-1)}function fC(n){var e=ms();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wd,lastRenderedState:n},e.queue=n,n=n.dispatch=XN.bind(null,pn,n),[e.memoizedState,n]}function Sd(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=pn.updateQueue,e===null?(e={lastEffect:null,stores:null},pn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function eR(){return Rr().memoizedState}function qm(n,e,t,i){var r=ms();pn.flags|=n,r.memoizedState=Sd(1|e,t,void 0,i===void 0?null:i)}function S0(n,e,t,i){var r=Rr();i=i===void 0?null:i;var s=void 0;if(Un!==null){var o=Un.memoizedState;if(s=o.destroy,i!==null&&rS(i,o.deps)){r.memoizedState=Sd(e,t,s,i);return}}pn.flags|=n,r.memoizedState=Sd(1|e,t,s,i)}function dC(n,e){return qm(8390656,8,n,e)}function aS(n,e){return S0(2048,8,n,e)}function tR(n,e){return S0(4,2,n,e)}function nR(n,e){return S0(4,4,n,e)}function iR(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function rR(n,e,t){return t=t!=null?t.concat([n]):null,S0(4,4,iR.bind(null,e,n),t)}function lS(){}function sR(n,e){var t=Rr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&rS(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function oR(n,e){var t=Rr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&rS(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function aR(n,e,t){return _l&21?(Zr(t,e)||(t=d3(),pn.lanes|=t,wl|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Gi=!0),n.memoizedState=t)}function jN(n,e){var t=Wt;Wt=t!==0&&4>t?t:4,n(!0);var i=Fy.transition;Fy.transition={};try{n(!1),e()}finally{Wt=t,Fy.transition=i}}function lR(){return Rr().memoizedState}function JN(n,e,t){var i=Qo(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},cR(n))uR(e,t);else if(t=W3(n,e,t,i),t!==null){var r=Pi();Yr(t,n,i,r),fR(t,e,i)}}function XN(n,e,t){var i=Qo(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(cR(n))uR(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,Zr(a,o)){var l=e.interleaved;l===null?(r.next=r,$w(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=W3(n,e,r,i),t!==null&&(r=Pi(),Yr(t,n,i,r),fR(t,e,i))}}function cR(n){var e=n.alternate;return n===pn||e!==null&&e===pn}function uR(n,e){Yf=Lg=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function fR(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,zw(n,t)}}var Dg={readContext:Pr,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useInsertionEffect:fi,useLayoutEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useMutableSource:fi,useSyncExternalStore:fi,useId:fi,unstable_isNewReconciler:!1},KN={readContext:Pr,useCallback:function(n,e){return ms().memoizedState=[n,e===void 0?null:e],n},useContext:Pr,useEffect:dC,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,qm(4194308,4,iR.bind(null,e,n),t)},useLayoutEffect:function(n,e){return qm(4194308,4,n,e)},useInsertionEffect:function(n,e){return qm(4,2,n,e)},useMemo:function(n,e){var t=ms();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=ms();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=JN.bind(null,pn,n),[i.memoizedState,n]},useRef:function(n){var e=ms();return n={current:n},e.memoizedState=n},useState:fC,useDebugValue:lS,useDeferredValue:function(n){return ms().memoizedState=n},useTransition:function(){var n=fC(!1),e=n[0];return n=jN.bind(null,n[1]),ms().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=pn,r=ms();if(sn){if(t===void 0)throw Error(Se(407));t=t()}else{if(t=e(),Qn===null)throw Error(Se(349));_l&30||Y3(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,dC(q3.bind(null,i,s,n),[n]),i.flags|=2048,Sd(9,Q3.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=ms(),e=Qn.identifierPrefix;if(sn){var t=js,i=Ws;t=(i&~(1<<32-Kr(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=_d++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=WN++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},YN={readContext:Pr,useCallback:sR,useContext:Pr,useEffect:aS,useImperativeHandle:rR,useInsertionEffect:tR,useLayoutEffect:nR,useMemo:oR,useReducer:Ny,useRef:eR,useState:function(){return Ny(wd)},useDebugValue:lS,useDeferredValue:function(n){var e=Rr();return aR(e,Un.memoizedState,n)},useTransition:function(){var n=Ny(wd)[0],e=Rr().memoizedState;return[n,e]},useMutableSource:X3,useSyncExternalStore:K3,useId:lR,unstable_isNewReconciler:!1},QN={readContext:Pr,useCallback:sR,useContext:Pr,useEffect:aS,useImperativeHandle:rR,useInsertionEffect:tR,useLayoutEffect:nR,useMemo:oR,useReducer:zy,useRef:eR,useState:function(){return zy(wd)},useDebugValue:lS,useDeferredValue:function(n){var e=Rr();return Un===null?e.memoizedState=n:aR(e,Un.memoizedState,n)},useTransition:function(){var n=zy(wd)[0],e=Rr().memoizedState;return[n,e]},useMutableSource:X3,useSyncExternalStore:K3,useId:lR,unstable_isNewReconciler:!1};function Gr(n,e){if(n&&n.defaultProps){e=mn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function N_(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:mn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var A0={isMounted:function(n){return(n=n._reactInternals)?Il(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=Pi(),r=Qo(n),s=qs(i,r);s.payload=e,t!=null&&(s.callback=t),e=Ko(n,s,r),e!==null&&(Yr(e,n,r,i),Ym(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=Pi(),r=Qo(n),s=qs(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Ko(n,s,r),e!==null&&(Yr(e,n,r,i),Ym(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Pi(),i=Qo(n),r=qs(t,i);r.tag=2,e!=null&&(r.callback=e),e=Ko(n,r,i),e!==null&&(Yr(e,n,i,t),Ym(e,n,i))}};function hC(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!pd(t,i)||!pd(r,s):!0}function dR(n,e,t){var i=!1,r=sa,s=e.contextType;return typeof s=="object"&&s!==null?s=Pr(s):(r=Vi(e)?yl:yi.current,i=e.contextTypes,s=(i=i!=null)?au(n,r):sa),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=A0,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function pC(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&A0.enqueueReplaceState(e,e.state,null)}function z_(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},eS(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Pr(s):(s=Vi(e)?yl:yi.current,r.context=au(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(N_(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&A0.enqueueReplaceState(r,r.state,null),Rg(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function fu(n,e){try{var t="",i=e;do t+=MF(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function Uy(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function U_(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var qN=typeof WeakMap=="function"?WeakMap:Map;function hR(n,e,t){t=qs(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Og||(Og=!0,Q_=i),U_(n,e)},t}function pR(n,e,t){t=qs(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){U_(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){U_(n,e),typeof i!="function"&&(Yo===null?Yo=new Set([this]):Yo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function mC(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new qN;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=f4.bind(null,n,e,t),e.then(n,n))}function gC(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function vC(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=qs(-1,1),e.tag=2,Ko(t,e,1))),t.lanes|=1),n)}var ZN=fo.ReactCurrentOwner,Gi=!1;function Ti(n,e,t,i){e.child=n===null?V3(e,null,t,i):cu(e,n.child,t,i)}function yC(n,e,t,i,r){t=t.render;var s=e.ref;return qc(e,r),i=sS(n,e,t,i,s,r),t=oS(),n!==null&&!Gi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,so(n,e,r)):(sn&&t&&Xw(e),e.flags|=1,Ti(n,e,i,r),e.child)}function xC(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!gS(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,mR(n,e,s,i,r)):(n=tg(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:pd,t(o,i)&&n.ref===e.ref)return so(n,e,r)}return e.flags|=1,n=qo(s,i),n.ref=e.ref,n.return=e,e.child=n}function mR(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(pd(s,i)&&n.ref===e.ref)if(Gi=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(Gi=!0);else return e.lanes=n.lanes,so(n,e,r)}return G_(n,e,t,i,r)}function gR(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qt(Fc,$i),$i|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Qt(Fc,$i),$i|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Qt(Fc,$i),$i|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Qt(Fc,$i),$i|=i;return Ti(n,e,r,t),e.child}function vR(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function G_(n,e,t,i,r){var s=Vi(t)?yl:yi.current;return s=au(e,s),qc(e,r),t=sS(n,e,t,i,s,r),i=oS(),n!==null&&!Gi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,so(n,e,r)):(sn&&i&&Xw(e),e.flags|=1,Ti(n,e,t,r),e.child)}function _C(n,e,t,i,r){if(Vi(t)){var s=!0;bg(e)}else s=!1;if(qc(e,r),e.stateNode===null)Zm(n,e),dR(e,t,i),z_(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Pr(c):(c=Vi(t)?yl:yi.current,c=au(e,c));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&pC(e,o,i,c),Io=!1;var p=e.memoizedState;o.state=p,Rg(e,i,o,r),l=e.memoizedState,a!==i||p!==l||Hi.current||Io?(typeof d=="function"&&(N_(e,t,d,i),l=e.memoizedState),(a=Io||hC(e,t,a,i,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,j3(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Gr(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Pr(l):(l=Vi(t)?yl:yi.current,l=au(e,l));var m=t.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&pC(e,o,i,l),Io=!1,p=e.memoizedState,o.state=p,Rg(e,i,o,r);var y=e.memoizedState;a!==h||p!==y||Hi.current||Io?(typeof m=="function"&&(N_(e,t,m,i),y=e.memoizedState),(c=Io||hC(e,t,c,i,p,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),o.props=i,o.state=y,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return H_(n,e,t,i,s,r)}function H_(n,e,t,i,r,s){vR(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&sC(e,t,!1),so(n,e,s);i=e.stateNode,ZN.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=cu(e,n.child,null,s),e.child=cu(e,null,a,s)):Ti(n,e,a,s),e.memoizedState=i.state,r&&sC(e,t,!0),e.child}function yR(n){var e=n.stateNode;e.pendingContext?rC(n,e.pendingContext,e.pendingContext!==e.context):e.context&&rC(n,e.context,!1),tS(n,e.containerInfo)}function wC(n,e,t,i,r){return lu(),Yw(r),e.flags|=256,Ti(n,e,t,i),e.child}var V_={dehydrated:null,treeContext:null,retryLane:0};function W_(n){return{baseLanes:n,cachePool:null,transitions:null}}function xR(n,e,t){var i=e.pendingProps,r=un.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Qt(un,r&1),n===null)return k_(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=C0(o,i,0,null),n=ul(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=W_(t),e.memoizedState=V_,n):cS(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return $N(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=qo(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=qo(a,s):(s=ul(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?W_(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=V_,i}return s=n.child,n=s.sibling,i=qo(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function cS(n,e){return e=C0({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Vp(n,e,t,i){return i!==null&&Yw(i),cu(e,n.child,null,t),n=cS(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function $N(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=Uy(Error(Se(422))),Vp(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=C0({mode:"visible",children:i.children},r,0,null),s=ul(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&cu(e,n.child,null,o),e.child.memoizedState=W_(o),e.memoizedState=V_,s);if(!(e.mode&1))return Vp(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Se(419)),i=Uy(s,i,void 0),Vp(n,e,o,i)}if(a=(o&n.childLanes)!==0,Gi||a){if(i=Qn,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,ro(n,r),Yr(i,n,r,-1))}return mS(),i=Uy(Error(Se(421))),Vp(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=d4.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,er=Xo(r.nextSibling),nr=e,sn=!0,jr=null,n!==null&&(Mr[br++]=Ws,Mr[br++]=js,Mr[br++]=xl,Ws=n.id,js=n.overflow,xl=e),e=cS(e,i.children),e.flags|=4096,e)}function SC(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),F_(n.return,e,t)}function Gy(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function _R(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Ti(n,e,i.children,t),i=un.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&SC(n,t,e);else if(n.tag===19)SC(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Qt(un,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&Bg(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Gy(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&Bg(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}Gy(e,!0,t,null,s);break;case"together":Gy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zm(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function so(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),wl|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Se(153));if(e.child!==null){for(n=e.child,t=qo(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=qo(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function e4(n,e,t){switch(e.tag){case 3:yR(e),lu();break;case 5:J3(e);break;case 1:Vi(e.type)&&bg(e);break;case 4:tS(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Qt(Eg,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Qt(un,un.current&1),e.flags|=128,null):t&e.child.childLanes?xR(n,e,t):(Qt(un,un.current&1),n=so(n,e,t),n!==null?n.sibling:null);Qt(un,un.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return _R(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Qt(un,un.current),i)break;return null;case 22:case 23:return e.lanes=0,gR(n,e,t)}return so(n,e,t)}var wR,j_,SR,AR;wR=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};j_=function(){};SR=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,el(ys.current);var s=null;switch(t){case"input":r=h_(n,r),i=h_(n,i),s=[];break;case"select":r=mn({},r,{value:void 0}),i=mn({},i,{value:void 0}),s=[];break;case"textarea":r=g_(n,r),i=g_(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=Ag)}y_(t,i);var o;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ad.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ad.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&qt("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};AR=function(n,e,t,i){t!==i&&(e.flags|=4)};function pf(n,e){if(!sn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function di(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function t4(n,e,t){var i=e.pendingProps;switch(Kw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return di(e),null;case 1:return Vi(e.type)&&Mg(),di(e),null;case 3:return i=e.stateNode,uu(),Zt(Hi),Zt(yi),iS(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Gp(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jr!==null&&($_(jr),jr=null))),j_(n,e),di(e),null;case 5:nS(e);var r=el(xd.current);if(t=e.type,n!==null&&e.stateNode!=null)SR(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Se(166));return di(e),null}if(n=el(ys.current),Gp(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[gs]=e,i[vd]=s,n=(e.mode&1)!==0,t){case"dialog":qt("cancel",i),qt("close",i);break;case"iframe":case"object":case"embed":qt("load",i);break;case"video":case"audio":for(r=0;r<Uf.length;r++)qt(Uf[r],i);break;case"source":qt("error",i);break;case"img":case"image":case"link":qt("error",i),qt("load",i);break;case"details":qt("toggle",i);break;case"input":Bb(i,s),qt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},qt("invalid",i);break;case"textarea":Db(i,s),qt("invalid",i)}y_(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Up(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Up(i.textContent,a,n),r=["children",""+a]):ad.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&qt("scroll",i)}switch(t){case"input":Lp(i),Lb(i,s,!0);break;case"textarea":Lp(i),Ib(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Ag)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=qP(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[gs]=e,n[vd]=i,wR(n,e,!1,!1),e.stateNode=n;e:{switch(o=x_(t,i),t){case"dialog":qt("cancel",n),qt("close",n),r=i;break;case"iframe":case"object":case"embed":qt("load",n),r=i;break;case"video":case"audio":for(r=0;r<Uf.length;r++)qt(Uf[r],n);r=i;break;case"source":qt("error",n),r=i;break;case"img":case"image":case"link":qt("error",n),qt("load",n),r=i;break;case"details":qt("toggle",n),r=i;break;case"input":Bb(n,i),r=h_(n,i),qt("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=mn({},i,{value:void 0}),qt("invalid",n);break;case"textarea":Db(n,i),r=g_(n,i),qt("invalid",n);break;default:r=i}y_(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?e3(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ZP(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&ld(n,l):typeof l=="number"&&ld(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ad.hasOwnProperty(s)?l!=null&&s==="onScroll"&&qt("scroll",n):l!=null&&Dw(n,s,l,o))}switch(t){case"input":Lp(n),Lb(n,i,!1);break;case"textarea":Lp(n),Ib(n);break;case"option":i.value!=null&&n.setAttribute("value",""+ra(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Xc(n,!!i.multiple,s,!1):i.defaultValue!=null&&Xc(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Ag)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return di(e),null;case 6:if(n&&e.stateNode!=null)AR(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Se(166));if(t=el(xd.current),el(ys.current),Gp(e)){if(i=e.stateNode,t=e.memoizedProps,i[gs]=e,(s=i.nodeValue!==t)&&(n=nr,n!==null))switch(n.tag){case 3:Up(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Up(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[gs]=e,e.stateNode=i}return di(e),null;case 13:if(Zt(un),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(sn&&er!==null&&e.mode&1&&!(e.flags&128))G3(),lu(),e.flags|=98560,s=!1;else if(s=Gp(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Se(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Se(317));s[gs]=e}else lu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;di(e),s=!1}else jr!==null&&($_(jr),jr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||un.current&1?Gn===0&&(Gn=3):mS())),e.updateQueue!==null&&(e.flags|=4),di(e),null);case 4:return uu(),j_(n,e),n===null&&md(e.stateNode.containerInfo),di(e),null;case 10:return Zw(e.type._context),di(e),null;case 17:return Vi(e.type)&&Mg(),di(e),null;case 19:if(Zt(un),s=e.memoizedState,s===null)return di(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)pf(s,!1);else{if(Gn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Bg(n),o!==null){for(e.flags|=128,pf(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Qt(un,un.current&1|2),e.child}n=n.sibling}s.tail!==null&&En()>du&&(e.flags|=128,i=!0,pf(s,!1),e.lanes=4194304)}else{if(!i)if(n=Bg(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),pf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!sn)return di(e),null}else 2*En()-s.renderingStartTime>du&&t!==1073741824&&(e.flags|=128,i=!0,pf(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=En(),e.sibling=null,t=un.current,Qt(un,i?t&1|2:t&1),e):(di(e),null);case 22:case 23:return pS(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?$i&1073741824&&(di(e),e.subtreeFlags&6&&(e.flags|=8192)):di(e),null;case 24:return null;case 25:return null}throw Error(Se(156,e.tag))}function n4(n,e){switch(Kw(e),e.tag){case 1:return Vi(e.type)&&Mg(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return uu(),Zt(Hi),Zt(yi),iS(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return nS(e),null;case 13:if(Zt(un),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Se(340));lu()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Zt(un),null;case 4:return uu(),null;case 10:return Zw(e.type._context),null;case 22:case 23:return pS(),null;case 24:return null;default:return null}}var Wp=!1,vi=!1,i4=typeof WeakSet=="function"?WeakSet:Set,He=null;function kc(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){Sn(n,e,i)}else t.current=null}function J_(n,e,t){try{t()}catch(i){Sn(n,e,i)}}var AC=!1;function r4(n,e){if(P_=_g,n=E3(),Jw(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=n,p=null;t:for(;;){for(var m;h!==t||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===n)break t;if(p===t&&++c===r&&(a=o),p===s&&++d===i&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(R_={focusedElem:n,selectionRange:t},_g=!1,He=e;He!==null;)if(e=He,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,He=n;else for(;He!==null;){e=He;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,x=y.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?g:Gr(e.type,g),x);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Se(163))}}catch(M){Sn(e,e.return,M)}if(n=e.sibling,n!==null){n.return=e.return,He=n;break}He=e.return}return y=AC,AC=!1,y}function Qf(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&J_(e,t,s)}r=r.next}while(r!==i)}}function M0(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function X_(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function MR(n){var e=n.alternate;e!==null&&(n.alternate=null,MR(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[gs],delete e[vd],delete e[D_],delete e[UN],delete e[GN])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function bR(n){return n.tag===5||n.tag===3||n.tag===4}function MC(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||bR(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function K_(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Ag));else if(i!==4&&(n=n.child,n!==null))for(K_(n,e,t),n=n.sibling;n!==null;)K_(n,e,t),n=n.sibling}function Y_(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(Y_(n,e,t),n=n.sibling;n!==null;)Y_(n,e,t),n=n.sibling}var ei=null,Vr=!1;function Ao(n,e,t){for(t=t.child;t!==null;)CR(n,e,t),t=t.sibling}function CR(n,e,t){if(vs&&typeof vs.onCommitFiberUnmount=="function")try{vs.onCommitFiberUnmount(g0,t)}catch{}switch(t.tag){case 5:vi||kc(t,e);case 6:var i=ei,r=Vr;ei=null,Ao(n,e,t),ei=i,Vr=r,ei!==null&&(Vr?(n=ei,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):ei.removeChild(t.stateNode));break;case 18:ei!==null&&(Vr?(n=ei,t=t.stateNode,n.nodeType===8?Iy(n.parentNode,t):n.nodeType===1&&Iy(n,t),dd(n)):Iy(ei,t.stateNode));break;case 4:i=ei,r=Vr,ei=t.stateNode.containerInfo,Vr=!0,Ao(n,e,t),ei=i,Vr=r;break;case 0:case 11:case 14:case 15:if(!vi&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&J_(t,e,o),r=r.next}while(r!==i)}Ao(n,e,t);break;case 1:if(!vi&&(kc(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){Sn(t,e,a)}Ao(n,e,t);break;case 21:Ao(n,e,t);break;case 22:t.mode&1?(vi=(i=vi)||t.memoizedState!==null,Ao(n,e,t),vi=i):Ao(n,e,t);break;default:Ao(n,e,t)}}function bC(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new i4),e.forEach(function(i){var r=h4.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function Fr(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ei=a.stateNode,Vr=!1;break e;case 3:ei=a.stateNode.containerInfo,Vr=!0;break e;case 4:ei=a.stateNode.containerInfo,Vr=!0;break e}a=a.return}if(ei===null)throw Error(Se(160));CR(s,o,r),ei=null,Vr=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Sn(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)TR(e,n),e=e.sibling}function TR(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Fr(e,n),ds(n),i&4){try{Qf(3,n,n.return),M0(3,n)}catch(g){Sn(n,n.return,g)}try{Qf(5,n,n.return)}catch(g){Sn(n,n.return,g)}}break;case 1:Fr(e,n),ds(n),i&512&&t!==null&&kc(t,t.return);break;case 5:if(Fr(e,n),ds(n),i&512&&t!==null&&kc(t,t.return),n.flags&32){var r=n.stateNode;try{ld(r,"")}catch(g){Sn(n,n.return,g)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&YP(r,s),x_(a,o);var c=x_(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?e3(r,h):d==="dangerouslySetInnerHTML"?ZP(r,h):d==="children"?ld(r,h):Dw(r,d,h,c)}switch(a){case"input":p_(r,s);break;case"textarea":QP(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Xc(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Xc(r,!!s.multiple,s.defaultValue,!0):Xc(r,!!s.multiple,s.multiple?[]:"",!1))}r[vd]=s}catch(g){Sn(n,n.return,g)}}break;case 6:if(Fr(e,n),ds(n),i&4){if(n.stateNode===null)throw Error(Se(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(g){Sn(n,n.return,g)}}break;case 3:if(Fr(e,n),ds(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{dd(e.containerInfo)}catch(g){Sn(n,n.return,g)}break;case 4:Fr(e,n),ds(n);break;case 13:Fr(e,n),ds(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(dS=En())),i&4&&bC(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(vi=(c=vi)||d,Fr(e,n),vi=c):Fr(e,n),ds(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!d&&n.mode&1)for(He=n,d=n.child;d!==null;){for(h=He=d;He!==null;){switch(p=He,m=p.child,p.tag){case 0:case 11:case 14:case 15:Qf(4,p,p.return);break;case 1:kc(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){Sn(i,t,g)}}break;case 5:kc(p,p.return);break;case 22:if(p.memoizedState!==null){TC(h);continue}}m!==null?(m.return=p,He=m):TC(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=$P("display",o))}catch(g){Sn(n,n.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){Sn(n,n.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Fr(e,n),ds(n),i&4&&bC(n);break;case 21:break;default:Fr(e,n),ds(n)}}function ds(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(bR(t)){var i=t;break e}t=t.return}throw Error(Se(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(ld(r,""),i.flags&=-33);var s=MC(n);Y_(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=MC(n);K_(n,a,o);break;default:throw Error(Se(161))}}catch(l){Sn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function s4(n,e,t){He=n,ER(n)}function ER(n,e,t){for(var i=(n.mode&1)!==0;He!==null;){var r=He,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Wp;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||vi;a=Wp;var c=vi;if(Wp=o,(vi=l)&&!c)for(He=r;He!==null;)o=He,l=o.child,o.tag===22&&o.memoizedState!==null?EC(r):l!==null?(l.return=o,He=l):EC(r);for(;s!==null;)He=s,ER(s),s=s.sibling;He=r,Wp=a,vi=c}CC(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,He=s):CC(n)}}function CC(n){for(;He!==null;){var e=He;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vi||M0(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!vi)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Gr(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&uC(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}uC(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&dd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Se(163))}vi||e.flags&512&&X_(e)}catch(p){Sn(e,e.return,p)}}if(e===n){He=null;break}if(t=e.sibling,t!==null){t.return=e.return,He=t;break}He=e.return}}function TC(n){for(;He!==null;){var e=He;if(e===n){He=null;break}var t=e.sibling;if(t!==null){t.return=e.return,He=t;break}He=e.return}}function EC(n){for(;He!==null;){var e=He;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{M0(4,e)}catch(l){Sn(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Sn(e,r,l)}}var s=e.return;try{X_(e)}catch(l){Sn(e,s,l)}break;case 5:var o=e.return;try{X_(e)}catch(l){Sn(e,o,l)}}}catch(l){Sn(e,e.return,l)}if(e===n){He=null;break}var a=e.sibling;if(a!==null){a.return=e.return,He=a;break}He=e.return}}var o4=Math.ceil,Ig=fo.ReactCurrentDispatcher,uS=fo.ReactCurrentOwner,Er=fo.ReactCurrentBatchConfig,Dt=0,Qn=null,On=null,ri=0,$i=0,Fc=ma(0),Gn=0,Ad=null,wl=0,b0=0,fS=0,qf=null,zi=null,dS=0,du=1/0,zs=null,Og=!1,Q_=null,Yo=null,jp=!1,Uo=null,kg=0,Zf=0,q_=null,$m=-1,eg=0;function Pi(){return Dt&6?En():$m!==-1?$m:$m=En()}function Qo(n){return n.mode&1?Dt&2&&ri!==0?ri&-ri:VN.transition!==null?(eg===0&&(eg=d3()),eg):(n=Wt,n!==0||(n=window.event,n=n===void 0?16:x3(n.type)),n):1}function Yr(n,e,t,i){if(50<Zf)throw Zf=0,q_=null,Error(Se(185));Jd(n,t,i),(!(Dt&2)||n!==Qn)&&(n===Qn&&(!(Dt&2)&&(b0|=t),Gn===4&&No(n,ri)),Wi(n,i),t===1&&Dt===0&&!(e.mode&1)&&(du=En()+500,w0&&ga()))}function Wi(n,e){var t=n.callbackNode;VF(n,e);var i=xg(n,n===Qn?ri:0);if(i===0)t!==null&&Fb(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&Fb(t),e===1)n.tag===0?HN(PC.bind(null,n)):N3(PC.bind(null,n)),NN(function(){!(Dt&6)&&ga()}),t=null;else{switch(h3(i)){case 1:t=Nw;break;case 4:t=u3;break;case 16:t=yg;break;case 536870912:t=f3;break;default:t=yg}t=kR(t,PR.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function PR(n,e){if($m=-1,eg=0,Dt&6)throw Error(Se(327));var t=n.callbackNode;if(Zc()&&n.callbackNode!==t)return null;var i=xg(n,n===Qn?ri:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=Fg(n,i);else{e=i;var r=Dt;Dt|=2;var s=BR();(Qn!==n||ri!==e)&&(zs=null,du=En()+500,cl(n,e));do try{c4();break}catch(a){RR(n,a)}while(1);qw(),Ig.current=s,Dt=r,On!==null?e=0:(Qn=null,ri=0,e=Gn)}if(e!==0){if(e===2&&(r=M_(n),r!==0&&(i=r,e=Z_(n,r))),e===1)throw t=Ad,cl(n,0),No(n,i),Wi(n,En()),t;if(e===6)No(n,i);else{if(r=n.current.alternate,!(i&30)&&!a4(r)&&(e=Fg(n,i),e===2&&(s=M_(n),s!==0&&(i=s,e=Z_(n,s))),e===1))throw t=Ad,cl(n,0),No(n,i),Wi(n,En()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(Se(345));case 2:Wa(n,zi,zs);break;case 3:if(No(n,i),(i&130023424)===i&&(e=dS+500-En(),10<e)){if(xg(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){Pi(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=L_(Wa.bind(null,n,zi,zs),e);break}Wa(n,zi,zs);break;case 4:if(No(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-Kr(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=En()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*o4(i/1960))-i,10<i){n.timeoutHandle=L_(Wa.bind(null,n,zi,zs),i);break}Wa(n,zi,zs);break;case 5:Wa(n,zi,zs);break;default:throw Error(Se(329))}}}return Wi(n,En()),n.callbackNode===t?PR.bind(null,n):null}function Z_(n,e){var t=qf;return n.current.memoizedState.isDehydrated&&(cl(n,e).flags|=256),n=Fg(n,e),n!==2&&(e=zi,zi=t,e!==null&&$_(e)),n}function $_(n){zi===null?zi=n:zi.push.apply(zi,n)}function a4(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!Zr(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function No(n,e){for(e&=~fS,e&=~b0,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Kr(e),i=1<<t;n[t]=-1,e&=~i}}function PC(n){if(Dt&6)throw Error(Se(327));Zc();var e=xg(n,0);if(!(e&1))return Wi(n,En()),null;var t=Fg(n,e);if(n.tag!==0&&t===2){var i=M_(n);i!==0&&(e=i,t=Z_(n,i))}if(t===1)throw t=Ad,cl(n,0),No(n,e),Wi(n,En()),t;if(t===6)throw Error(Se(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Wa(n,zi,zs),Wi(n,En()),null}function hS(n,e){var t=Dt;Dt|=1;try{return n(e)}finally{Dt=t,Dt===0&&(du=En()+500,w0&&ga())}}function Sl(n){Uo!==null&&Uo.tag===0&&!(Dt&6)&&Zc();var e=Dt;Dt|=1;var t=Er.transition,i=Wt;try{if(Er.transition=null,Wt=1,n)return n()}finally{Wt=i,Er.transition=t,Dt=e,!(Dt&6)&&ga()}}function pS(){$i=Fc.current,Zt(Fc)}function cl(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,FN(t)),On!==null)for(t=On.return;t!==null;){var i=t;switch(Kw(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Mg();break;case 3:uu(),Zt(Hi),Zt(yi),iS();break;case 5:nS(i);break;case 4:uu();break;case 13:Zt(un);break;case 19:Zt(un);break;case 10:Zw(i.type._context);break;case 22:case 23:pS()}t=t.return}if(Qn=n,On=n=qo(n.current,null),ri=$i=e,Gn=0,Ad=null,fS=b0=wl=0,zi=qf=null,$a!==null){for(e=0;e<$a.length;e++)if(t=$a[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}$a=null}return n}function RR(n,e){do{var t=On;try{if(qw(),Qm.current=Dg,Lg){for(var i=pn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Lg=!1}if(_l=0,Kn=Un=pn=null,Yf=!1,_d=0,uS.current=null,t===null||t.return===null){Gn=1,Ad=e,On=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=ri,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=gC(o);if(m!==null){m.flags&=-257,vC(m,o,a,s,e),m.mode&1&&mC(s,c,e),e=m,l=c;var y=e.updateQueue;if(y===null){var g=new Set;g.add(l),e.updateQueue=g}else y.add(l);break e}else{if(!(e&1)){mC(s,c,e),mS();break e}l=Error(Se(426))}}else if(sn&&a.mode&1){var x=gC(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),vC(x,o,a,s,e),Yw(fu(l,a));break e}}s=l=fu(l,a),Gn!==4&&(Gn=2),qf===null?qf=[s]:qf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=hR(s,l,e);cC(s,w);break e;case 1:a=l;var _=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Yo===null||!Yo.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=pR(s,a,e);cC(s,M);break e}}s=s.return}while(s!==null)}DR(t)}catch(T){e=T,On===t&&t!==null&&(On=t=t.return);continue}break}while(1)}function BR(){var n=Ig.current;return Ig.current=Dg,n===null?Dg:n}function mS(){(Gn===0||Gn===3||Gn===2)&&(Gn=4),Qn===null||!(wl&268435455)&&!(b0&268435455)||No(Qn,ri)}function Fg(n,e){var t=Dt;Dt|=2;var i=BR();(Qn!==n||ri!==e)&&(zs=null,cl(n,e));do try{l4();break}catch(r){RR(n,r)}while(1);if(qw(),Dt=t,Ig.current=i,On!==null)throw Error(Se(261));return Qn=null,ri=0,Gn}function l4(){for(;On!==null;)LR(On)}function c4(){for(;On!==null&&!IF();)LR(On)}function LR(n){var e=OR(n.alternate,n,$i);n.memoizedProps=n.pendingProps,e===null?DR(n):On=e,uS.current=null}function DR(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=n4(t,e),t!==null){t.flags&=32767,On=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Gn=6,On=null;return}}else if(t=t4(t,e,$i),t!==null){On=t;return}if(e=e.sibling,e!==null){On=e;return}On=e=n}while(e!==null);Gn===0&&(Gn=5)}function Wa(n,e,t){var i=Wt,r=Er.transition;try{Er.transition=null,Wt=1,u4(n,e,t,i)}finally{Er.transition=r,Wt=i}return null}function u4(n,e,t,i){do Zc();while(Uo!==null);if(Dt&6)throw Error(Se(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Se(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(WF(n,s),n===Qn&&(On=Qn=null,ri=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||jp||(jp=!0,kR(yg,function(){return Zc(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Er.transition,Er.transition=null;var o=Wt;Wt=1;var a=Dt;Dt|=4,uS.current=null,r4(n,t),TR(t,n),RN(R_),_g=!!P_,R_=P_=null,n.current=t,s4(t),OF(),Dt=a,Wt=o,Er.transition=s}else n.current=t;if(jp&&(jp=!1,Uo=n,kg=r),s=n.pendingLanes,s===0&&(Yo=null),NF(t.stateNode),Wi(n,En()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(Og)throw Og=!1,n=Q_,Q_=null,n;return kg&1&&n.tag!==0&&Zc(),s=n.pendingLanes,s&1?n===q_?Zf++:(Zf=0,q_=n):Zf=0,ga(),null}function Zc(){if(Uo!==null){var n=h3(kg),e=Er.transition,t=Wt;try{if(Er.transition=null,Wt=16>n?16:n,Uo===null)var i=!1;else{if(n=Uo,Uo=null,kg=0,Dt&6)throw Error(Se(331));var r=Dt;for(Dt|=4,He=n.current;He!==null;){var s=He,o=s.child;if(He.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(He=c;He!==null;){var d=He;switch(d.tag){case 0:case 11:case 15:Qf(8,d,s)}var h=d.child;if(h!==null)h.return=d,He=h;else for(;He!==null;){d=He;var p=d.sibling,m=d.return;if(MR(d),d===c){He=null;break}if(p!==null){p.return=m,He=p;break}He=m}}}var y=s.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}He=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,He=o;else e:for(;He!==null;){if(s=He,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Qf(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,He=w;break e}He=s.return}}var _=n.current;for(He=_;He!==null;){o=He;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,He=S;else e:for(o=_;He!==null;){if(a=He,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:M0(9,a)}}catch(T){Sn(a,a.return,T)}if(a===o){He=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,He=M;break e}He=a.return}}if(Dt=r,ga(),vs&&typeof vs.onPostCommitFiberRoot=="function")try{vs.onPostCommitFiberRoot(g0,n)}catch{}i=!0}return i}finally{Wt=t,Er.transition=e}}return!1}function RC(n,e,t){e=fu(t,e),e=hR(n,e,1),n=Ko(n,e,1),e=Pi(),n!==null&&(Jd(n,1,e),Wi(n,e))}function Sn(n,e,t){if(n.tag===3)RC(n,n,t);else for(;e!==null;){if(e.tag===3){RC(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Yo===null||!Yo.has(i))){n=fu(t,n),n=pR(e,n,1),e=Ko(e,n,1),n=Pi(),e!==null&&(Jd(e,1,n),Wi(e,n));break}}e=e.return}}function f4(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=Pi(),n.pingedLanes|=n.suspendedLanes&t,Qn===n&&(ri&t)===t&&(Gn===4||Gn===3&&(ri&130023424)===ri&&500>En()-dS?cl(n,0):fS|=t),Wi(n,e)}function IR(n,e){e===0&&(n.mode&1?(e=Op,Op<<=1,!(Op&130023424)&&(Op=4194304)):e=1);var t=Pi();n=ro(n,e),n!==null&&(Jd(n,e,t),Wi(n,t))}function d4(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),IR(n,t)}function h4(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Se(314))}i!==null&&i.delete(e),IR(n,t)}var OR;OR=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Hi.current)Gi=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Gi=!1,e4(n,e,t);Gi=!!(n.flags&131072)}else Gi=!1,sn&&e.flags&1048576&&z3(e,Tg,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Zm(n,e),n=e.pendingProps;var r=au(e,yi.current);qc(e,t),r=sS(null,e,i,n,r,t);var s=oS();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vi(i)?(s=!0,bg(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,eS(e),r.updater=A0,e.stateNode=r,r._reactInternals=e,z_(e,i,n,t),e=H_(null,e,i,!0,s,t)):(e.tag=0,sn&&s&&Xw(e),Ti(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(Zm(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=m4(i),n=Gr(i,n),r){case 0:e=G_(null,e,i,n,t);break e;case 1:e=_C(null,e,i,n,t);break e;case 11:e=yC(null,e,i,n,t);break e;case 14:e=xC(null,e,i,Gr(i.type,n),t);break e}throw Error(Se(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Gr(i,r),G_(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Gr(i,r),_C(n,e,i,r,t);case 3:e:{if(yR(e),n===null)throw Error(Se(387));i=e.pendingProps,s=e.memoizedState,r=s.element,j3(n,e),Rg(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=fu(Error(Se(423)),e),e=wC(n,e,i,t,r);break e}else if(i!==r){r=fu(Error(Se(424)),e),e=wC(n,e,i,t,r);break e}else for(er=Xo(e.stateNode.containerInfo.firstChild),nr=e,sn=!0,jr=null,t=V3(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(lu(),i===r){e=so(n,e,t);break e}Ti(n,e,i,t)}e=e.child}return e;case 5:return J3(e),n===null&&k_(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,B_(i,r)?o=null:s!==null&&B_(i,s)&&(e.flags|=32),vR(n,e),Ti(n,e,o,t),e.child;case 6:return n===null&&k_(e),null;case 13:return xR(n,e,t);case 4:return tS(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=cu(e,null,i,t):Ti(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Gr(i,r),yC(n,e,i,r,t);case 7:return Ti(n,e,e.pendingProps,t),e.child;case 8:return Ti(n,e,e.pendingProps.children,t),e.child;case 12:return Ti(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Qt(Eg,i._currentValue),i._currentValue=o,s!==null)if(Zr(s.value,o)){if(s.children===r.children&&!Hi.current){e=so(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=qs(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),F_(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Se(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),F_(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ti(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,qc(e,t),r=Pr(r),i=i(r),e.flags|=1,Ti(n,e,i,t),e.child;case 14:return i=e.type,r=Gr(i,e.pendingProps),r=Gr(i.type,r),xC(n,e,i,r,t);case 15:return mR(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Gr(i,r),Zm(n,e),e.tag=1,Vi(i)?(n=!0,bg(e)):n=!1,qc(e,t),dR(e,i,r),z_(e,i,r,t),H_(null,e,i,!0,n,t);case 19:return _R(n,e,t);case 22:return gR(n,e,t)}throw Error(Se(156,e.tag))};function kR(n,e){return c3(n,e)}function p4(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tr(n,e,t,i){return new p4(n,e,t,i)}function gS(n){return n=n.prototype,!(!n||!n.isReactComponent)}function m4(n){if(typeof n=="function")return gS(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Ow)return 11;if(n===kw)return 14}return 2}function qo(n,e){var t=n.alternate;return t===null?(t=Tr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function tg(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")gS(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Tc:return ul(t.children,r,s,e);case Iw:o=8,r|=8;break;case c_:return n=Tr(12,t,e,r|2),n.elementType=c_,n.lanes=s,n;case u_:return n=Tr(13,t,e,r),n.elementType=u_,n.lanes=s,n;case f_:return n=Tr(19,t,e,r),n.elementType=f_,n.lanes=s,n;case JP:return C0(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case WP:o=10;break e;case jP:o=9;break e;case Ow:o=11;break e;case kw:o=14;break e;case Do:o=16,i=null;break e}throw Error(Se(130,n==null?n:typeof n,""))}return e=Tr(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function ul(n,e,t,i){return n=Tr(7,n,i,e),n.lanes=t,n}function C0(n,e,t,i){return n=Tr(22,n,i,e),n.elementType=JP,n.lanes=t,n.stateNode={isHidden:!1},n}function Hy(n,e,t){return n=Tr(6,n,null,e),n.lanes=t,n}function Vy(n,e,t){return e=Tr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function g4(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ay(0),this.expirationTimes=Ay(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ay(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function vS(n,e,t,i,r,s,o,a,l){return n=new g4(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Tr(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},eS(s),n}function v4(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cc,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function FR(n){if(!n)return sa;n=n._reactInternals;e:{if(Il(n)!==n||n.tag!==1)throw Error(Se(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Se(171))}if(n.tag===1){var t=n.type;if(Vi(t))return F3(n,t,e)}return e}function NR(n,e,t,i,r,s,o,a,l){return n=vS(t,i,!0,n,r,s,o,a,l),n.context=FR(null),t=n.current,i=Pi(),r=Qo(t),s=qs(i,r),s.callback=e??null,Ko(t,s,r),n.current.lanes=r,Jd(n,r,i),Wi(n,i),n}function T0(n,e,t,i){var r=e.current,s=Pi(),o=Qo(r);return t=FR(t),e.context===null?e.context=t:e.pendingContext=t,e=qs(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Ko(r,e,o),n!==null&&(Yr(n,r,o,s),Ym(n,r,o)),o}function Ng(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function BC(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function yS(n,e){BC(n,e),(n=n.alternate)&&BC(n,e)}function y4(){return null}var zR=typeof reportError=="function"?reportError:function(n){console.error(n)};function xS(n){this._internalRoot=n}E0.prototype.render=xS.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Se(409));T0(n,e,null,null)};E0.prototype.unmount=xS.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Sl(function(){T0(null,n,null,null)}),e[io]=null}};function E0(n){this._internalRoot=n}E0.prototype.unstable_scheduleHydration=function(n){if(n){var e=g3();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Fo.length&&e!==0&&e<Fo[t].priority;t++);Fo.splice(t,0,n),t===0&&y3(n)}};function _S(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function P0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function LC(){}function x4(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Ng(o);s.call(c)}}var o=NR(e,i,n,0,null,!1,!1,"",LC);return n._reactRootContainer=o,n[io]=o.current,md(n.nodeType===8?n.parentNode:n),Sl(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=Ng(l);a.call(c)}}var l=vS(n,0,!1,null,null,!1,!1,"",LC);return n._reactRootContainer=l,n[io]=l.current,md(n.nodeType===8?n.parentNode:n),Sl(function(){T0(e,l,t,i)}),l}function R0(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Ng(o);a.call(l)}}T0(e,o,n,r)}else o=x4(t,e,n,r,i);return Ng(o)}p3=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=zf(e.pendingLanes);t!==0&&(zw(e,t|1),Wi(e,En()),!(Dt&6)&&(du=En()+500,ga()))}break;case 13:Sl(function(){var i=ro(n,1);if(i!==null){var r=Pi();Yr(i,n,1,r)}}),yS(n,1)}};Uw=function(n){if(n.tag===13){var e=ro(n,134217728);if(e!==null){var t=Pi();Yr(e,n,134217728,t)}yS(n,134217728)}};m3=function(n){if(n.tag===13){var e=Qo(n),t=ro(n,e);if(t!==null){var i=Pi();Yr(t,n,e,i)}yS(n,e)}};g3=function(){return Wt};v3=function(n,e){var t=Wt;try{return Wt=n,e()}finally{Wt=t}};w_=function(n,e,t){switch(e){case"input":if(p_(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=_0(i);if(!r)throw Error(Se(90));KP(i),p_(i,r)}}}break;case"textarea":QP(n,t);break;case"select":e=t.value,e!=null&&Xc(n,!!t.multiple,e,!1)}};i3=hS;r3=Sl;var _4={usingClientEntryPoint:!1,Events:[Kd,Bc,_0,t3,n3,hS]},mf={findFiberByHostInstance:Za,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w4={bundleType:mf.bundleType,version:mf.version,rendererPackageName:mf.rendererPackageName,rendererConfig:mf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fo.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=a3(n),n===null?null:n.stateNode},findFiberByHostInstance:mf.findFiberByHostInstance||y4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jp.isDisabled&&Jp.supportsFiber)try{g0=Jp.inject(w4),vs=Jp}catch{}}ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_4;ar.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_S(e))throw Error(Se(200));return v4(n,e,null,t)};ar.createRoot=function(n,e){if(!_S(n))throw Error(Se(299));var t=!1,i="",r=zR;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=vS(n,1,!1,null,null,t,!1,i,r),n[io]=e.current,md(n.nodeType===8?n.parentNode:n),new xS(e)};ar.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Se(188)):(n=Object.keys(n).join(","),Error(Se(268,n)));return n=a3(e),n=n===null?null:n.stateNode,n};ar.flushSync=function(n){return Sl(n)};ar.hydrate=function(n,e,t){if(!P0(e))throw Error(Se(200));return R0(null,n,e,!0,t)};ar.hydrateRoot=function(n,e,t){if(!_S(n))throw Error(Se(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=zR;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=NR(e,null,n,1,t??null,r,!1,s,o),n[io]=e.current,md(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new E0(e)};ar.render=function(n,e,t){if(!P0(e))throw Error(Se(200));return R0(null,n,e,!1,t)};ar.unmountComponentAtNode=function(n){if(!P0(n))throw Error(Se(40));return n._reactRootContainer?(Sl(function(){R0(null,null,n,!1,function(){n._reactRootContainer=null,n[io]=null})}),!0):!1};ar.unstable_batchedUpdates=hS;ar.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!P0(t))throw Error(Se(200));if(n==null||n._reactInternals===void 0)throw Error(Se(38));return R0(n,e,t,!1,i)};ar.version="18.3.1-next-f1338f8080-20240426";function UR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UR)}catch(n){console.error(n)}}UR(),UP.exports=ar;var S4=UP.exports,GR,DC=S4;GR=a_.createRoot=DC.createRoot,a_.hydrateRoot=DC.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Md(){return Md=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Md.apply(this,arguments)}var Go;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Go||(Go={}));const IC="popstate";function A4(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return e1("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:zg(r)}return b4(e,t,null,n)}function kn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function HR(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function M4(){return Math.random().toString(36).substr(2,8)}function OC(n,e){return{usr:n.state,key:n.key,idx:e}}function e1(n,e,t,i){return t===void 0&&(t=null),Md({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Ru(e):e,{state:t,key:e&&e.key||i||M4()})}function zg(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Ru(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function b4(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Go.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Md({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Go.Pop;let x=d(),w=x==null?null:x-c;c=x,l&&l({action:a,location:g.location,delta:w})}function p(x,w){a=Go.Push;let _=e1(g.location,x,w);t&&t(_,x),c=d()+1;let S=OC(_,c),M=g.createHref(_);try{o.pushState(S,"",M)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;r.location.assign(M)}s&&l&&l({action:a,location:g.location,delta:1})}function m(x,w){a=Go.Replace;let _=e1(g.location,x,w);t&&t(_,x),c=d();let S=OC(_,c),M=g.createHref(_);o.replaceState(S,"",M),s&&l&&l({action:a,location:g.location,delta:0})}function y(x){let w=r.location.origin!=="null"?r.location.origin:r.location.href,_=typeof x=="string"?x:zg(x);return _=_.replace(/ $/,"%20"),kn(w,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,w)}let g={get action(){return a},get location(){return n(r,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(IC,h),l=x,()=>{r.removeEventListener(IC,h),l=null}},createHref(x){return e(r,x)},createURL:y,encodeLocation(x){let w=y(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:m,go(x){return o.go(x)}};return g}var kC;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(kC||(kC={}));function C4(n,e,t){return t===void 0&&(t="/"),T4(n,e,t,!1)}function T4(n,e,t,i){let r=typeof e=="string"?Ru(e):e,s=wS(r.pathname||"/",t);if(s==null)return null;let o=VR(n);E4(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=z4(s);a=F4(o[l],c,i)}return a}function VR(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(kn(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=Zo([i,l.relativePath]),d=t.concat(l);s.children&&s.children.length>0&&(kn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),VR(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:O4(c,s.index),routesMeta:d})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of WR(s.path))r(s,o,l)}),e}function WR(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=WR(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function E4(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:k4(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const P4=/^:[\w-]+$/,R4=3,B4=2,L4=1,D4=10,I4=-2,FC=n=>n==="*";function O4(n,e){let t=n.split("/"),i=t.length;return t.some(FC)&&(i+=I4),e&&(i+=B4),t.filter(r=>!FC(r)).reduce((r,s)=>r+(P4.test(s)?R4:s===""?L4:D4),i)}function k4(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function F4(n,e,t){t===void 0&&(t=!1);let{routesMeta:i}=n,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=NC({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h&&c&&t&&!i[i.length-1].route.index&&(h=NC({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:Zo([s,h.pathname]),pathnameBase:V4(Zo([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=Zo([s,h.pathnameBase]))}return o}function NC(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=N4(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,d,h)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let g=a[h]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const y=a[h];return m&&!y?c[p]=void 0:c[p]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:n}}function N4(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),HR(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function z4(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return HR(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function wS(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function U4(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Ru(n):n;return{pathname:t?t.startsWith("/")?t:G4(t,e):e,search:W4(i),hash:j4(r)}}function G4(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Wy(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function H4(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function jR(n,e){let t=H4(n);return e?t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function JR(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=Ru(n):(r=Md({},n),kn(!r.pathname||!r.pathname.includes("?"),Wy("?","pathname","search",r)),kn(!r.pathname||!r.pathname.includes("#"),Wy("#","pathname","hash",r)),kn(!r.search||!r.search.includes("#"),Wy("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=t;else{let h=e.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;r.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=U4(r,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Zo=n=>n.join("/").replace(/\/\/+/g,"/"),V4=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),W4=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,j4=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function J4(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const XR=["post","put","patch","delete"];new Set(XR);const X4=["get",...XR];new Set(X4);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bd(){return bd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},bd.apply(this,arguments)}const SS=F.createContext(null),K4=F.createContext(null),Ol=F.createContext(null),B0=F.createContext(null),kl=F.createContext({outlet:null,matches:[],isDataRoute:!1}),KR=F.createContext(null);function Y4(n,e){let{relative:t}=e===void 0?{}:e;Qd()||kn(!1);let{basename:i,navigator:r}=F.useContext(Ol),{hash:s,pathname:o,search:a}=QR(n,{relative:t}),l=o;return i!=="/"&&(l=o==="/"?i:Zo([i,o])),r.createHref({pathname:l,search:a,hash:s})}function Qd(){return F.useContext(B0)!=null}function qd(){return Qd()||kn(!1),F.useContext(B0).location}function YR(n){F.useContext(Ol).static||F.useLayoutEffect(n)}function Q4(){let{isDataRoute:n}=F.useContext(kl);return n?cz():q4()}function q4(){Qd()||kn(!1);let n=F.useContext(SS),{basename:e,future:t,navigator:i}=F.useContext(Ol),{matches:r}=F.useContext(kl),{pathname:s}=qd(),o=JSON.stringify(jR(r,t.v7_relativeSplatPath)),a=F.useRef(!1);return YR(()=>{a.current=!0}),F.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){i.go(c);return}let h=JR(c,JSON.parse(o),s,d.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Zo([e,h.pathname])),(d.replace?i.replace:i.push)(h,d.state,d)},[e,i,o,s,n])}function QR(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=F.useContext(Ol),{matches:r}=F.useContext(kl),{pathname:s}=qd(),o=JSON.stringify(jR(r,i.v7_relativeSplatPath));return F.useMemo(()=>JR(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function Z4(n,e){return $4(n,e)}function $4(n,e,t,i){Qd()||kn(!1);let{navigator:r}=F.useContext(Ol),{matches:s}=F.useContext(kl),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=qd(),d;if(e){var h;let x=typeof e=="string"?Ru(e):e;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||kn(!1),d=x}else d=c;let p=d.pathname||"/",m=p;if(l!=="/"){let x=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=C4(n,{pathname:m}),g=rz(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Zo([l,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Zo([l,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,t,i);return e&&g?F.createElement(B0.Provider,{value:{location:bd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Go.Pop}},g):g}function ez(){let n=lz(),e=J4(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:r},t):null,s)}const tz=F.createElement(ez,null);class nz extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?F.createElement(kl.Provider,{value:this.props.routeContext},F.createElement(KR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iz(n){let{routeContext:e,match:t,children:i}=n,r=F.useContext(SS);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),F.createElement(kl.Provider,{value:e},i)}function rz(n,e,t,i){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(r=t)==null?void 0:r.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||kn(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(t&&i&&i.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:m}=t,y=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let m,y=!1,g=null,x=null;t&&(m=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||tz,l&&(c<0&&p===0?(uz("route-fallback",!1),y=!0,x=null):c===p&&(y=!0,x=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,p+1)),_=()=>{let S;return m?S=g:y?S=x:h.route.Component?S=F.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=d,F.createElement(iz,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:t!=null},children:S})};return t&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?F.createElement(nz,{location:t.location,revalidation:t.revalidation,component:g,error:m,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):_()},null)}var qR=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(qR||{}),Ug=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Ug||{});function sz(n){let e=F.useContext(SS);return e||kn(!1),e}function oz(n){let e=F.useContext(K4);return e||kn(!1),e}function az(n){let e=F.useContext(kl);return e||kn(!1),e}function ZR(n){let e=az(),t=e.matches[e.matches.length-1];return t.route.id||kn(!1),t.route.id}function lz(){var n;let e=F.useContext(KR),t=oz(Ug.UseRouteError),i=ZR(Ug.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function cz(){let{router:n}=sz(qR.UseNavigateStable),e=ZR(Ug.UseNavigateStable),t=F.useRef(!1);return YR(()=>{t.current=!0}),F.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,bd({fromRouteId:e},s)))},[n,e])}const zC={};function uz(n,e,t){!e&&!zC[n]&&(zC[n]=!0)}const UC={};function fz(n,e){UC[e]||(UC[e]=!0,console.warn(e))}const ic=(n,e,t)=>fz(n," React Router Future Flag Warning: "+e+". "+("You can use the `"+n+"` future flag to opt-in early. ")+("For more information, see "+t+"."));function dz(n,e){n!=null&&n.v7_startTransition||ic("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(n!=null&&n.v7_relativeSplatPath)&&(!e||!e.v7_relativeSplatPath)&&ic("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),e&&(e.v7_fetcherPersist||ic("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),e.v7_normalizeFormMethod||ic("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),e.v7_partialHydration||ic("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),e.v7_skipActionErrorRevalidation||ic("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function Ac(n){kn(!1)}function hz(n){let{basename:e="/",children:t=null,location:i,navigationType:r=Go.Pop,navigator:s,static:o=!1,future:a}=n;Qd()&&kn(!1);let l=e.replace(/^\/*/,"/"),c=F.useMemo(()=>({basename:l,navigator:s,static:o,future:bd({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=Ru(i));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:y="default"}=i,g=F.useMemo(()=>{let x=wS(d,l);return x==null?null:{location:{pathname:x,search:h,hash:p,state:m,key:y},navigationType:r}},[l,d,h,p,m,y,r]);return g==null?null:F.createElement(Ol.Provider,{value:c},F.createElement(B0.Provider,{children:t,value:g}))}function pz(n){let{children:e,location:t}=n;return Z4(t1(e),t)}new Promise(()=>{});function t1(n,e){e===void 0&&(e=[]);let t=[];return F.Children.forEach(n,(i,r)=>{if(!F.isValidElement(i))return;let s=[...e,r];if(i.type===F.Fragment){t.push.apply(t,t1(i.props.children,s));return}i.type!==Ac&&kn(!1),!i.props.index||!i.props.children||kn(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=t1(i.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function n1(){return n1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},n1.apply(this,arguments)}function mz(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function gz(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function vz(n,e){return n.button===0&&(!e||e==="_self")&&!gz(n)}const yz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xz="6";try{window.__reactRouterVersion=xz}catch{}const _z="startTransition",GC=uF[_z];function wz(n){let{basename:e,children:t,future:i,window:r}=n,s=F.useRef();s.current==null&&(s.current=A4({window:r,v5Compat:!0}));let o=s.current,[a,l]=F.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},d=F.useCallback(h=>{c&&GC?GC(()=>l(h)):l(h)},[l,c]);return F.useLayoutEffect(()=>o.listen(d),[o,d]),F.useEffect(()=>dz(i),[i]),F.createElement(hz,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:i})}const Sz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Az=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ti=F.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,p=mz(e,yz),{basename:m}=F.useContext(Ol),y,g=!1;if(typeof c=="string"&&Az.test(c)&&(y=c,Sz))try{let S=new URL(window.location.href),M=c.startsWith("//")?new URL(S.protocol+c):new URL(c),T=wS(M.pathname,m);M.origin===S.origin&&T!=null?c=T+M.search+M.hash:g=!0}catch{}let x=Y4(c,{relative:r}),w=Mz(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:r,viewTransition:h});function _(S){i&&i(S),S.defaultPrevented||w(S)}return F.createElement("a",n1({},p,{href:y||x,onClick:g||s?i:_,ref:t,target:l}))});var HC;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(HC||(HC={}));var VC;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(VC||(VC={}));function Mz(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Q4(),c=qd(),d=QR(n,{relative:o});return F.useCallback(h=>{if(vz(h,t)){h.preventDefault();let p=i!==void 0?i:zg(c)===zg(d);l(n,{replace:p,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,d,i,r,t,n,s,o,a])}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Bu="150",ja={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Ja={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},$R=0,i1=1,eB=2,bz=3,tB=0,L0=1,$f=2,tl=3,ws=0,ji=1,Xr=2,Cz=2,Zs=0,fl=1,r1=2,s1=3,o1=4,nB=5,Qa=100,iB=101,rB=102,a1=103,l1=104,sB=200,oB=201,aB=202,lB=203,AS=204,MS=205,cB=206,uB=207,fB=208,dB=209,hB=210,pB=0,mB=1,gB=2,Gg=3,vB=4,yB=5,xB=6,_B=7,Zd=0,wB=1,SB=2,Qr=0,AB=1,MB=2,bB=3,bS=4,CB=5,D0=300,oa=301,aa=302,Cd=303,Td=304,Lu=306,la=1e3,ni=1001,hu=1002,An=1003,Ed=1004,Tz=1004,$c=1005,Ez=1005,fn=1006,I0=1007,Pz=1007,Ss=1008,Rz=1008,oo=1009,TB=1010,EB=1011,CS=1012,PB=1013,Ho=1014,Js=1015,pu=1016,RB=1017,BB=1018,dl=1020,LB=1021,Ui=1023,DB=1024,IB=1025,$o=1026,Al=1027,OB=1028,kB=1029,FB=1030,NB=1031,zB=1033,ng=33776,ig=33777,rg=33778,sg=33779,c1=35840,u1=35841,f1=35842,d1=35843,UB=36196,h1=37492,p1=37496,m1=37808,g1=37809,v1=37810,y1=37811,x1=37812,_1=37813,w1=37814,S1=37815,A1=37816,M1=37817,b1=37818,C1=37819,T1=37820,E1=37821,og=36492,GB=36283,P1=36284,R1=36285,B1=36286,HB=2200,VB=2201,WB=2202,mu=2300,Ml=2301,ag=2302,nl=2400,il=2401,Pd=2402,O0=2500,TS=2501,jB=0,ES=1,Hg=2,ca=3e3,Kt=3001,JB=3200,XB=3201,va=0,KB=1,Bz="",Wr="srgb",gu="srgb-linear",PS="display-p3",Lz=0,lg=7680,Dz=7681,Iz=7682,Oz=7683,kz=34055,Fz=34056,Nz=5386,zz=512,Uz=513,Gz=514,Hz=515,Vz=516,Wz=517,jz=518,YB=519,Rd=35044,hl=35048,Jz=35040,Xz=35045,Kz=35049,Yz=35041,Qz=35046,qz=35050,Zz=35042,$z="100",L1="300 es",Vg=1035;let ho=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}};const hi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let WC=1234567;const pl=Math.PI/180,Bd=180/Math.PI;function ir(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(hi[n&255]+hi[n>>8&255]+hi[n>>16&255]+hi[n>>24&255]+"-"+hi[e&255]+hi[e>>8&255]+"-"+hi[e>>16&15|64]+hi[e>>24&255]+"-"+hi[t&63|128]+hi[t>>8&255]+"-"+hi[t>>16&255]+hi[t>>24&255]+hi[i&255]+hi[i>>8&255]+hi[i>>16&255]+hi[i>>24&255]).toLowerCase()}function Pn(n,e,t){return Math.max(e,Math.min(t,n))}function RS(n,e){return(n%e+e)%e}function e5(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function t5(n,e,t){return n!==e?(t-n)/(e-n):0}function ed(n,e,t){return(1-t)*n+t*e}function n5(n,e,t,i){return ed(n,e,1-Math.exp(-t*i))}function i5(n,e=1){return e-Math.abs(RS(n,e*2)-e)}function r5(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function s5(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function o5(n,e){return n+Math.floor(Math.random()*(e-n+1))}function a5(n,e){return n+Math.random()*(e-n)}function l5(n){return n*(.5-Math.random())}function c5(n){n!==void 0&&(WC=n);let e=WC+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function u5(n){return n*pl}function f5(n){return n*Bd}function D1(n){return(n&n-1)===0&&n!==0}function QB(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function qB(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function d5(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+i)/2),d=o((e+i)/2),h=s((e-i)/2),p=o((e-i)/2),m=s((i-e)/2),y=o((i-e)/2);switch(r){case"XYX":n.set(a*d,l*h,l*p,a*c);break;case"YZY":n.set(l*p,a*d,l*h,a*c);break;case"ZXZ":n.set(l*h,l*p,a*d,a*c);break;case"XZX":n.set(a*d,l*y,l*m,a*c);break;case"YXY":n.set(l*m,a*d,l*y,a*c);break;case"ZYZ":n.set(l*y,l*m,a*d,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Xs(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Xt(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const ZB={DEG2RAD:pl,RAD2DEG:Bd,generateUUID:ir,clamp:Pn,euclideanModulo:RS,mapLinear:e5,inverseLerp:t5,lerp:ed,damp:n5,pingpong:i5,smoothstep:r5,smootherstep:s5,randInt:o5,randFloat:a5,randFloatSpread:l5,seededRandom:c5,degToRad:u5,radToDeg:f5,isPowerOfTwo:D1,ceilPowerOfTwo:QB,floorPowerOfTwo:qB,setQuaternionFromProperEuler:d5,normalize:Xt,denormalize:Xs};class pe{constructor(e=0,t=0){pe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ii{constructor(){ii.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,i,r,s,o,a,l,c){const d=this.elements;return d[0]=e,d[1]=r,d[2]=a,d[3]=t,d[4]=s,d[5]=l,d[6]=i,d[7]=o,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],d=i[4],h=i[7],p=i[2],m=i[5],y=i[8],g=r[0],x=r[3],w=r[6],_=r[1],S=r[4],M=r[7],T=r[2],E=r[5],B=r[8];return s[0]=o*g+a*_+l*T,s[3]=o*x+a*S+l*E,s[6]=o*w+a*M+l*B,s[1]=c*g+d*_+h*T,s[4]=c*x+d*S+h*E,s[7]=c*w+d*M+h*B,s[2]=p*g+m*_+y*T,s[5]=p*x+m*S+y*E,s[8]=p*w+m*M+y*B,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8];return t*o*d-t*a*c-i*s*d+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],h=d*o-a*c,p=a*l-d*s,m=c*s-o*l,y=t*h+i*p+r*m;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/y;return e[0]=h*g,e[1]=(r*c-d*i)*g,e[2]=(a*i-r*o)*g,e[3]=p*g,e[4]=(d*t-r*l)*g,e[5]=(r*s-a*t)*g,e[6]=m*g,e[7]=(i*l-c*t)*g,e[8]=(o*t-i*s)*g,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(jy.makeScale(e,t)),this}rotate(e){return this.premultiply(jy.makeRotation(-e)),this}translate(e,t){return this.premultiply(jy.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const jy=new ii;function $B(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const h5={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Nc(n,e){return new h5[n](e)}function Ld(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}class qn{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],c=i[r+1],d=i[r+2],h=i[r+3];const p=s[o+0],m=s[o+1],y=s[o+2],g=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=d,e[t+3]=h;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=y,e[t+3]=g;return}if(h!==g||l!==p||c!==m||d!==y){let x=1-a;const w=l*p+c*m+d*y+h*g,_=w>=0?1:-1,S=1-w*w;if(S>Number.EPSILON){const T=Math.sqrt(S),E=Math.atan2(T,w*_);x=Math.sin(x*E)/T,a=Math.sin(a*E)/T}const M=a*_;if(l=l*x+p*M,c=c*x+m*M,d=d*x+y*M,h=h*x+g*M,x===1-a){const T=1/Math.sqrt(l*l+c*c+d*d+h*h);l*=T,c*=T,d*=T,h*=T}}e[t]=l,e[t+1]=c,e[t+2]=d,e[t+3]=h}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],d=i[r+3],h=s[o],p=s[o+1],m=s[o+2],y=s[o+3];return e[t]=a*y+d*h+l*m-c*p,e[t+1]=l*y+d*p+c*h-a*m,e[t+2]=c*y+d*m+a*p-l*h,e[t+3]=d*y-a*h-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),d=a(r/2),h=a(s/2),p=l(i/2),m=l(r/2),y=l(s/2);switch(o){case"XYZ":this._x=p*d*h+c*m*y,this._y=c*m*h-p*d*y,this._z=c*d*y+p*m*h,this._w=c*d*h-p*m*y;break;case"YXZ":this._x=p*d*h+c*m*y,this._y=c*m*h-p*d*y,this._z=c*d*y-p*m*h,this._w=c*d*h+p*m*y;break;case"ZXY":this._x=p*d*h-c*m*y,this._y=c*m*h+p*d*y,this._z=c*d*y+p*m*h,this._w=c*d*h-p*m*y;break;case"ZYX":this._x=p*d*h-c*m*y,this._y=c*m*h+p*d*y,this._z=c*d*y-p*m*h,this._w=c*d*h+p*m*y;break;case"YZX":this._x=p*d*h+c*m*y,this._y=c*m*h+p*d*y,this._z=c*d*y-p*m*h,this._w=c*d*h-p*m*y;break;case"XZY":this._x=p*d*h-c*m*y,this._y=c*m*h-p*d*y,this._z=c*d*y+p*m*h,this._w=c*d*h+p*m*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],d=t[6],h=t[10],p=i+a+h;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(d-l)*m,this._y=(s-c)*m,this._z=(o-r)*m}else if(i>a&&i>h){const m=2*Math.sqrt(1+i-a-h);this._w=(d-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+c)/m}else if(a>h){const m=2*Math.sqrt(1+a-i-h);this._w=(s-c)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+d)/m}else{const m=2*Math.sqrt(1+h-i-a);this._w=(o-r)/m,this._x=(s+c)/m,this._y=(l+d)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Pn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,d=t._w;return this._x=i*d+o*a+r*c-s*l,this._y=r*d+o*l+s*a-i*c,this._z=s*d+o*c+i*l-r*a,this._w=o*d-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*i+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),d=Math.atan2(c,a),h=Math.sin((1-t)*d)/c,p=Math.sin(t*d)/c;return this._w=o*h+this._w*p,this._x=i*h+this._x*p,this._y=r*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class I{constructor(e=0,t=0,i=0){I.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(jC.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(jC.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*r-a*i,d=l*i+a*t-s*r,h=l*r+s*i-o*t,p=-s*t-o*i-a*r;return this.x=c*l+p*-s+d*-a-h*-o,this.y=d*l+p*-o+h*-s-c*-a,this.z=h*l+p*-a+c*-o-d*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Jy.copy(this).projectOnVector(e),this.sub(Jy)}reflect(e){return this.sub(Jy.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Pn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Jy=new I,jC=new qn;function eu(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Xy(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const p5=new ii().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),m5=new ii().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]),Vo=new I;function g5(n){return n.convertSRGBToLinear(),Vo.set(n.r,n.g,n.b).applyMatrix3(m5),n.setRGB(Vo.x,Vo.y,Vo.z)}function v5(n){return Vo.set(n.r,n.g,n.b).applyMatrix3(p5),n.setRGB(Vo.x,Vo.y,Vo.z).convertLinearToSRGB()}const y5={[gu]:n=>n,[Wr]:n=>n.convertSRGBToLinear(),[PS]:g5},x5={[gu]:n=>n,[Wr]:n=>n.convertLinearToSRGB(),[PS]:v5},mi={enabled:!1,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return gu},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const i=y5[e],r=x5[t];if(i===void 0||r===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let rc;class BS{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{rc===void 0&&(rc=Ld("canvas")),rc.width=e.width,rc.height=e.height;const i=rc.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=rc}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Ld("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=eu(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(eu(t[i]/255)*255):t[i]=eu(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class rl{constructor(e=null){this.isSource=!0,this.uuid=ir(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(Ky(r[o].image)):s.push(Ky(r[o]))}else s=Ky(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function Ky(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?BS.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let _5=0;class an extends ho{constructor(e=an.DEFAULT_IMAGE,t=an.DEFAULT_MAPPING,i=ni,r=ni,s=fn,o=Ss,a=Ui,l=oo,c=an.DEFAULT_ANISOTROPY,d=ca){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_5++}),this.uuid=ir(),this.name="",this.source=new rl(e),this.mipmaps=[],this.mapping=t,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new pe(0,0),this.repeat=new pe(1,1),this.center=new pe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ii,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==D0)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case la:e.x=e.x-Math.floor(e.x);break;case ni:e.x=e.x<0?0:1;break;case hu:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case la:e.y=e.y-Math.floor(e.y);break;case ni:e.y=e.y<0?0:1;break;case hu:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}an.DEFAULT_IMAGE=null;an.DEFAULT_MAPPING=D0;an.DEFAULT_ANISOTROPY=1;class Vt{constructor(e=0,t=0,i=0,r=1){Vt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,c=l[0],d=l[4],h=l[8],p=l[1],m=l[5],y=l[9],g=l[2],x=l[6],w=l[10];if(Math.abs(d-p)<.01&&Math.abs(h-g)<.01&&Math.abs(y-x)<.01){if(Math.abs(d+p)<.1&&Math.abs(h+g)<.1&&Math.abs(y+x)<.1&&Math.abs(c+m+w-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(c+1)/2,M=(m+1)/2,T=(w+1)/2,E=(d+p)/4,B=(h+g)/4,C=(y+x)/4;return S>M&&S>T?S<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(S),r=E/i,s=B/i):M>T?M<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(M),i=E/r,s=C/r):T<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(T),i=B/s,r=C/s),this.set(i,r,s,t),this}let _=Math.sqrt((x-y)*(x-y)+(h-g)*(h-g)+(p-d)*(p-d));return Math.abs(_)<.001&&(_=1),this.x=(x-y)/_,this.y=(h-g)/_,this.z=(p-d)/_,this.w=Math.acos((c+m+w-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class $r extends ho{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Vt(0,0,e,t),this.scissorTest=!1,this.viewport=new Vt(0,0,e,t);const r={width:e,height:t,depth:1};this.texture=new an(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:fn,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new rl(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class k0 extends an{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=An,this.minFilter=An,this.wrapR=ni,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class w5 extends $r{constructor(e=1,t=1,i=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new k0(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class LS extends an{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=An,this.minFilter=An,this.wrapR=ni,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class S5 extends $r{constructor(e=1,t=1,i=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new LS(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class A5 extends $r{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class ya{constructor(e=new I(1/0,1/0,1/0),t=new I(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const d=e[l],h=e[l+1],p=e[l+2];d<t&&(t=d),h<i&&(i=h),p<r&&(r=p),d>s&&(s=d),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const d=e.getX(l),h=e.getY(l),p=e.getZ(l);d<t&&(t=d),h<i&&(i=h),p<r&&(r=p),d>s&&(s=d),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=La.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0)if(t&&i.attributes!=null&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)La.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(La)}else i.boundingBox===null&&i.computeBoundingBox(),Yy.copy(i.boundingBox),Yy.applyMatrix4(e.matrixWorld),this.union(Yy);const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,La),La.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(gf),Xp.subVectors(this.max,gf),sc.subVectors(e.a,gf),oc.subVectors(e.b,gf),ac.subVectors(e.c,gf),Mo.subVectors(oc,sc),bo.subVectors(ac,oc),Da.subVectors(sc,ac);let t=[0,-Mo.z,Mo.y,0,-bo.z,bo.y,0,-Da.z,Da.y,Mo.z,0,-Mo.x,bo.z,0,-bo.x,Da.z,0,-Da.x,-Mo.y,Mo.x,0,-bo.y,bo.x,0,-Da.y,Da.x,0];return!Qy(t,sc,oc,ac,Xp)||(t=[1,0,0,0,1,0,0,0,1],!Qy(t,sc,oc,ac,Xp))?!1:(Kp.crossVectors(Mo,bo),t=[Kp.x,Kp.y,Kp.z],Qy(t,sc,oc,ac,Xp))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,La).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(La).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ds[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ds[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ds[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ds[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ds[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ds[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ds[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ds[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ds),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ds=[new I,new I,new I,new I,new I,new I,new I,new I],La=new I,Yy=new ya,sc=new I,oc=new I,ac=new I,Mo=new I,bo=new I,Da=new I,gf=new I,Xp=new I,Kp=new I,Ia=new I;function Qy(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){Ia.fromArray(n,s);const a=r.x*Math.abs(Ia.x)+r.y*Math.abs(Ia.y)+r.z*Math.abs(Ia.z),l=e.dot(Ia),c=t.dot(Ia),d=i.dot(Ia);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>a)return!1}return!0}const M5=new ya,vf=new I,qy=new I;class xa{constructor(e=new I,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):M5.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;vf.subVectors(e,this.center);const t=vf.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(vf,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(qy.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(vf.copy(e.center).add(qy)),this.expandByPoint(vf.copy(e.center).sub(qy))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Is=new I,Zy=new I,Yp=new I,Co=new I,$y=new I,Qp=new I,ex=new I;class Du{constructor(e=new I,t=new I(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Is)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Is.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Is.copy(this.origin).addScaledVector(this.direction,t),Is.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){Zy.copy(e).add(t).multiplyScalar(.5),Yp.copy(t).sub(e).normalize(),Co.copy(this.origin).sub(Zy);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Yp),a=Co.dot(this.direction),l=-Co.dot(Yp),c=Co.lengthSq(),d=Math.abs(1-o*o);let h,p,m,y;if(d>0)if(h=o*l-a,p=o*a-l,y=s*d,h>=0)if(p>=-y)if(p<=y){const g=1/d;h*=g,p*=g,m=h*(h+o*p+2*a)+p*(o*h+p+2*l)+c}else p=s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;else p=-s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;else p<=-y?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+c):p<=y?(h=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+c);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,h),r&&r.copy(Zy).addScaledVector(Yp,p),m}intersectSphere(e,t){Is.subVectors(e.center,this.origin);const i=Is.dot(this.direction),r=Is.dot(Is)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const c=1/this.direction.x,d=1/this.direction.y,h=1/this.direction.z,p=this.origin;return c>=0?(i=(e.min.x-p.x)*c,r=(e.max.x-p.x)*c):(i=(e.max.x-p.x)*c,r=(e.min.x-p.x)*c),d>=0?(s=(e.min.y-p.y)*d,o=(e.max.y-p.y)*d):(s=(e.max.y-p.y)*d,o=(e.min.y-p.y)*d),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Is)!==null}intersectTriangle(e,t,i,r,s){$y.subVectors(t,e),Qp.subVectors(i,e),ex.crossVectors($y,Qp);let o=this.direction.dot(ex),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Co.subVectors(this.origin,e);const l=a*this.direction.dot(Qp.crossVectors(Co,Qp));if(l<0)return null;const c=a*this.direction.dot($y.cross(Co));if(c<0||l+c>o)return null;const d=-a*Co.dot(ex);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ct{constructor(){ct.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,i,r,s,o,a,l,c,d,h,p,m,y,g,x){const w=this.elements;return w[0]=e,w[4]=t,w[8]=i,w[12]=r,w[1]=s,w[5]=o,w[9]=a,w[13]=l,w[2]=c,w[6]=d,w[10]=h,w[14]=p,w[3]=m,w[7]=y,w[11]=g,w[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ct().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/lc.setFromMatrixColumn(e,0).length(),s=1/lc.setFromMatrixColumn(e,1).length(),o=1/lc.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),d=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*d,m=o*h,y=a*d,g=a*h;t[0]=l*d,t[4]=-l*h,t[8]=c,t[1]=m+y*c,t[5]=p-g*c,t[9]=-a*l,t[2]=g-p*c,t[6]=y+m*c,t[10]=o*l}else if(e.order==="YXZ"){const p=l*d,m=l*h,y=c*d,g=c*h;t[0]=p+g*a,t[4]=y*a-m,t[8]=o*c,t[1]=o*h,t[5]=o*d,t[9]=-a,t[2]=m*a-y,t[6]=g+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*d,m=l*h,y=c*d,g=c*h;t[0]=p-g*a,t[4]=-o*h,t[8]=y+m*a,t[1]=m+y*a,t[5]=o*d,t[9]=g-p*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*d,m=o*h,y=a*d,g=a*h;t[0]=l*d,t[4]=y*c-m,t[8]=p*c+g,t[1]=l*h,t[5]=g*c+p,t[9]=m*c-y,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,y=a*l,g=a*c;t[0]=l*d,t[4]=g-p*h,t[8]=y*h+m,t[1]=h,t[5]=o*d,t[9]=-a*d,t[2]=-c*d,t[6]=m*h+y,t[10]=p-g*h}else if(e.order==="XZY"){const p=o*l,m=o*c,y=a*l,g=a*c;t[0]=l*d,t[4]=-h,t[8]=c*d,t[1]=p*h+g,t[5]=o*d,t[9]=m*h-y,t[2]=y*h-m,t[6]=a*d,t[10]=g*h+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(b5,e,C5)}lookAt(e,t,i){const r=this.elements;return qi.subVectors(e,t),qi.lengthSq()===0&&(qi.z=1),qi.normalize(),To.crossVectors(i,qi),To.lengthSq()===0&&(Math.abs(i.z)===1?qi.x+=1e-4:qi.z+=1e-4,qi.normalize(),To.crossVectors(i,qi)),To.normalize(),qp.crossVectors(qi,To),r[0]=To.x,r[4]=qp.x,r[8]=qi.x,r[1]=To.y,r[5]=qp.y,r[9]=qi.y,r[2]=To.z,r[6]=qp.z,r[10]=qi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],d=i[1],h=i[5],p=i[9],m=i[13],y=i[2],g=i[6],x=i[10],w=i[14],_=i[3],S=i[7],M=i[11],T=i[15],E=r[0],B=r[4],C=r[8],R=r[12],L=r[1],O=r[5],V=r[9],H=r[13],G=r[2],$=r[6],ee=r[10],oe=r[14],k=r[3],K=r[7],J=r[11],te=r[15];return s[0]=o*E+a*L+l*G+c*k,s[4]=o*B+a*O+l*$+c*K,s[8]=o*C+a*V+l*ee+c*J,s[12]=o*R+a*H+l*oe+c*te,s[1]=d*E+h*L+p*G+m*k,s[5]=d*B+h*O+p*$+m*K,s[9]=d*C+h*V+p*ee+m*J,s[13]=d*R+h*H+p*oe+m*te,s[2]=y*E+g*L+x*G+w*k,s[6]=y*B+g*O+x*$+w*K,s[10]=y*C+g*V+x*ee+w*J,s[14]=y*R+g*H+x*oe+w*te,s[3]=_*E+S*L+M*G+T*k,s[7]=_*B+S*O+M*$+T*K,s[11]=_*C+S*V+M*ee+T*J,s[15]=_*R+S*H+M*oe+T*te,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],d=e[2],h=e[6],p=e[10],m=e[14],y=e[3],g=e[7],x=e[11],w=e[15];return y*(+s*l*h-r*c*h-s*a*p+i*c*p+r*a*m-i*l*m)+g*(+t*l*m-t*c*p+s*o*p-r*o*m+r*c*d-s*l*d)+x*(+t*c*h-t*a*m-s*o*h+i*o*m+s*a*d-i*c*d)+w*(-r*a*d-t*l*h+t*a*p+r*o*h-i*o*p+i*l*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],h=e[9],p=e[10],m=e[11],y=e[12],g=e[13],x=e[14],w=e[15],_=h*x*c-g*p*c+g*l*m-a*x*m-h*l*w+a*p*w,S=y*p*c-d*x*c-y*l*m+o*x*m+d*l*w-o*p*w,M=d*g*c-y*h*c+y*a*m-o*g*m-d*a*w+o*h*w,T=y*h*l-d*g*l-y*a*p+o*g*p+d*a*x-o*h*x,E=t*_+i*S+r*M+s*T;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const B=1/E;return e[0]=_*B,e[1]=(g*p*s-h*x*s-g*r*m+i*x*m+h*r*w-i*p*w)*B,e[2]=(a*x*s-g*l*s+g*r*c-i*x*c-a*r*w+i*l*w)*B,e[3]=(h*l*s-a*p*s-h*r*c+i*p*c+a*r*m-i*l*m)*B,e[4]=S*B,e[5]=(d*x*s-y*p*s+y*r*m-t*x*m-d*r*w+t*p*w)*B,e[6]=(y*l*s-o*x*s-y*r*c+t*x*c+o*r*w-t*l*w)*B,e[7]=(o*p*s-d*l*s+d*r*c-t*p*c-o*r*m+t*l*m)*B,e[8]=M*B,e[9]=(y*h*s-d*g*s-y*i*m+t*g*m+d*i*w-t*h*w)*B,e[10]=(o*g*s-y*a*s+y*i*c-t*g*c-o*i*w+t*a*w)*B,e[11]=(d*a*s-o*h*s-d*i*c+t*h*c+o*i*m-t*a*m)*B,e[12]=T*B,e[13]=(d*g*r-y*h*r+y*i*p-t*g*p-d*i*x+t*h*x)*B,e[14]=(y*a*r-o*g*r-y*i*l+t*g*l+o*i*x-t*a*x)*B,e[15]=(o*h*r-d*a*r+d*i*l-t*h*l-o*i*p+t*a*p)*B,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,d=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,d*a+i,d*l-r*o,0,c*l-r*a,d*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,d=o+o,h=a+a,p=s*c,m=s*d,y=s*h,g=o*d,x=o*h,w=a*h,_=l*c,S=l*d,M=l*h,T=i.x,E=i.y,B=i.z;return r[0]=(1-(g+w))*T,r[1]=(m+M)*T,r[2]=(y-S)*T,r[3]=0,r[4]=(m-M)*E,r[5]=(1-(p+w))*E,r[6]=(x+_)*E,r[7]=0,r[8]=(y+S)*B,r[9]=(x-_)*B,r[10]=(1-(p+g))*B,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=lc.set(r[0],r[1],r[2]).length();const o=lc.set(r[4],r[5],r[6]).length(),a=lc.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Nr.copy(this);const c=1/s,d=1/o,h=1/a;return Nr.elements[0]*=c,Nr.elements[1]*=c,Nr.elements[2]*=c,Nr.elements[4]*=d,Nr.elements[5]*=d,Nr.elements[6]*=d,Nr.elements[8]*=h,Nr.elements[9]*=h,Nr.elements[10]*=h,t.setFromRotationMatrix(Nr),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o){const a=this.elements,l=2*s/(t-e),c=2*s/(i-r),d=(t+e)/(t-e),h=(i+r)/(i-r),p=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=d,a[12]=0,a[1]=0,a[5]=c,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,i,r,s,o){const a=this.elements,l=1/(t-e),c=1/(i-r),d=1/(o-s),h=(t+e)*l,p=(i+r)*c,m=(o+s)*d;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*d,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const lc=new I,Nr=new ct,b5=new I(0,0,0),C5=new I(1,1,1),To=new I,qp=new I,qi=new I,JC=new ct,XC=new qn;class $d{constructor(e=0,t=0,i=0,r=$d.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],d=r[9],h=r[2],p=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(Pn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Pn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Pn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Pn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Pn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Pn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-d,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return JC.makeRotationFromQuaternion(e),this.setFromRotationMatrix(JC,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return XC.setFromEuler(this),this.setFromQuaternion(XC,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}$d.DEFAULT_ORDER="XYZ";class ml{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let T5=0;const KC=new I,cc=new qn,Os=new ct,Zp=new I,yf=new I,E5=new I,P5=new qn,YC=new I(1,0,0),QC=new I(0,1,0),qC=new I(0,0,1),R5={type:"added"},ZC={type:"removed"};class Bt extends ho{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:T5++}),this.uuid=ir(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Bt.DEFAULT_UP.clone();const e=new I,t=new $d,i=new qn,r=new I(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new ct},normalMatrix:{value:new ii}}),this.matrix=new ct,this.matrixWorld=new ct,this.matrixAutoUpdate=Bt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Bt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new ml,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return cc.setFromAxisAngle(e,t),this.quaternion.multiply(cc),this}rotateOnWorldAxis(e,t){return cc.setFromAxisAngle(e,t),this.quaternion.premultiply(cc),this}rotateX(e){return this.rotateOnAxis(YC,e)}rotateY(e){return this.rotateOnAxis(QC,e)}rotateZ(e){return this.rotateOnAxis(qC,e)}translateOnAxis(e,t){return KC.copy(e).applyQuaternion(this.quaternion),this.position.add(KC.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(YC,e)}translateY(e){return this.translateOnAxis(QC,e)}translateZ(e){return this.translateOnAxis(qC,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Os.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?Zp.copy(e):Zp.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),yf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Os.lookAt(yf,Zp,this.up):Os.lookAt(Zp,yf,this.up),this.quaternion.setFromRotationMatrix(Os),r&&(Os.extractRotation(r.matrixWorld),cc.setFromRotationMatrix(Os),this.quaternion.premultiply(cc.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(R5)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(ZC)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(ZC)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Os.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Os.multiply(e.parent.matrixWorld)),e.applyMatrix4(Os),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let i=[];this[e]===t&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectsByProperty(e,t);o.length>0&&(i=i.concat(o))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(yf,e,E5),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(yf,P5,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,d=l.length;c<d;c++){const h=l[c];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),d=o(e.images),h=o(e.shapes),p=o(e.skeletons),m=o(e.animations),y=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),d.length>0&&(i.images=d),h.length>0&&(i.shapes=h),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m),y.length>0&&(i.nodes=y)}return i.object=r,i;function o(a){const l=[];for(const c in a){const d=a[c];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Bt.DEFAULT_UP=new I(0,1,0);Bt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Bt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const zr=new I,ks=new I,tx=new I,Fs=new I,uc=new I,fc=new I,$C=new I,nx=new I,ix=new I,rx=new I;class Cr{constructor(e=new I,t=new I,i=new I){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),zr.subVectors(e,t),r.cross(zr);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){zr.subVectors(r,t),ks.subVectors(i,t),tx.subVectors(e,t);const o=zr.dot(zr),a=zr.dot(ks),l=zr.dot(tx),c=ks.dot(ks),d=ks.dot(tx),h=o*c-a*a;if(h===0)return s.set(-2,-1,-1);const p=1/h,m=(c*l-a*d)*p,y=(o*d-a*l)*p;return s.set(1-m-y,y,m)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Fs),Fs.x>=0&&Fs.y>=0&&Fs.x+Fs.y<=1}static getUV(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,Fs),l.set(0,0),l.addScaledVector(s,Fs.x),l.addScaledVector(o,Fs.y),l.addScaledVector(a,Fs.z),l}static isFrontFacing(e,t,i,r){return zr.subVectors(i,t),ks.subVectors(e,t),zr.cross(ks).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return zr.subVectors(this.c,this.b),ks.subVectors(this.a,this.b),zr.cross(ks).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Cr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Cr.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return Cr.getUV(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Cr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Cr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;uc.subVectors(r,i),fc.subVectors(s,i),nx.subVectors(e,i);const l=uc.dot(nx),c=fc.dot(nx);if(l<=0&&c<=0)return t.copy(i);ix.subVectors(e,r);const d=uc.dot(ix),h=fc.dot(ix);if(d>=0&&h<=d)return t.copy(r);const p=l*h-d*c;if(p<=0&&l>=0&&d<=0)return o=l/(l-d),t.copy(i).addScaledVector(uc,o);rx.subVectors(e,s);const m=uc.dot(rx),y=fc.dot(rx);if(y>=0&&m<=y)return t.copy(s);const g=m*c-l*y;if(g<=0&&c>=0&&y<=0)return a=c/(c-y),t.copy(i).addScaledVector(fc,a);const x=d*y-m*h;if(x<=0&&h-d>=0&&m-y>=0)return $C.subVectors(s,r),a=(h-d)/(h-d+(m-y)),t.copy(r).addScaledVector($C,a);const w=1/(x+g+p);return o=g*w,a=p*w,t.copy(i).addScaledVector(uc,o).addScaledVector(fc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let B5=0;class Fn extends ho{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:B5++}),this.uuid=ir(),this.name="",this.type="Material",this.blending=fl,this.side=ws,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=AS,this.blendDst=MS,this.blendEquation=Qa,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Gg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=YB,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=lg,this.stencilZFail=lg,this.stencilZPass=lg,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==fl&&(i.blending=this.blending),this.side!==ws&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(i.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const eL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ur={h:0,s:0,l:0},$p={h:0,s:0,l:0};function sx(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Oe{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&i===void 0?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Wr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,mi.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=mi.workingColorSpace){return this.r=e,this.g=t,this.b=i,mi.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=mi.workingColorSpace){if(e=RS(e,1),t=Pn(t,0,1),i=Pn(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=sx(o,s,e+1/3),this.g=sx(o,s,e),this.b=sx(o,s,e-1/3)}return mi.toWorkingColorSpace(this,r),this}setStyle(e,t=Wr){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,mi.toWorkingColorSpace(this,t),i(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,mi.toWorkingColorSpace(this,t),i(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseFloat(s[2])/100,d=parseFloat(s[3])/100;return i(s[4]),this.setHSL(l,c,d,t)}break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,mi.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,mi.toWorkingColorSpace(this,t),this;console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Wr){const i=eL[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=eu(e.r),this.g=eu(e.g),this.b=eu(e.b),this}copyLinearToSRGB(e){return this.r=Xy(e.r),this.g=Xy(e.g),this.b=Xy(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Wr){return mi.fromWorkingColorSpace(pi.copy(this),e),Pn(pi.r*255,0,255)<<16^Pn(pi.g*255,0,255)<<8^Pn(pi.b*255,0,255)<<0}getHexString(e=Wr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=mi.workingColorSpace){mi.fromWorkingColorSpace(pi.copy(this),t);const i=pi.r,r=pi.g,s=pi.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const d=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=d<=.5?h/(o+a):h/(2-o-a),o){case i:l=(r-s)/h+(r<s?6:0);break;case r:l=(s-i)/h+2;break;case s:l=(i-r)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=d,e}getRGB(e,t=mi.workingColorSpace){return mi.fromWorkingColorSpace(pi.copy(this),t),e.r=pi.r,e.g=pi.g,e.b=pi.b,e}getStyle(e=Wr){mi.fromWorkingColorSpace(pi.copy(this),e);const t=pi.r,i=pi.g,r=pi.b;return e!==Wr?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${t*255|0},${i*255|0},${r*255|0})`}offsetHSL(e,t,i){return this.getHSL(Ur),Ur.h+=e,Ur.s+=t,Ur.l+=i,this.setHSL(Ur.h,Ur.s,Ur.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Ur),e.getHSL($p);const i=ed(Ur.h,$p.h,t),r=ed(Ur.s,$p.s,t),s=ed(Ur.l,$p.l,t);return this.setHSL(i,r,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const pi=new Oe;Oe.NAMES=eL;class tr extends Fn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Oe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Zd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Dn=new I,em=new pe;class Ft{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Rd,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)em.fromBufferAttribute(this,t),em.applyMatrix3(e),this.setXY(t,em.x,em.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Dn.fromBufferAttribute(this,t),Dn.applyMatrix3(e),this.setXYZ(t,Dn.x,Dn.y,Dn.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Dn.fromBufferAttribute(this,t),Dn.applyMatrix4(e),this.setXYZ(t,Dn.x,Dn.y,Dn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Dn.fromBufferAttribute(this,t),Dn.applyNormalMatrix(e),this.setXYZ(t,Dn.x,Dn.y,Dn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Dn.fromBufferAttribute(this,t),Dn.transformDirection(e),this.setXYZ(t,Dn.x,Dn.y,Dn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Xs(t,this.array)),t}setX(e,t){return this.normalized&&(t=Xt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Xs(t,this.array)),t}setY(e,t){return this.normalized&&(t=Xt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Xs(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Xt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Xs(t,this.array)),t}setW(e,t){return this.normalized&&(t=Xt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Xt(t,this.array),i=Xt(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Xt(t,this.array),i=Xt(i,this.array),r=Xt(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Xt(t,this.array),i=Xt(i,this.array),r=Xt(r,this.array),s=Xt(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Rd&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class L5 extends Ft{constructor(e,t,i){super(new Int8Array(e),t,i)}}class D5 extends Ft{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class I5 extends Ft{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class O5 extends Ft{constructor(e,t,i){super(new Int16Array(e),t,i)}}class DS extends Ft{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class k5 extends Ft{constructor(e,t,i){super(new Int32Array(e),t,i)}}class IS extends Ft{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class F5 extends Ft{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}}class Xe extends Ft{constructor(e,t,i){super(new Float32Array(e),t,i)}}class N5 extends Ft{constructor(e,t,i){super(new Float64Array(e),t,i)}}let z5=0;const vr=new ct,ox=new Bt,dc=new I,Zi=new ya,xf=new ya,Xn=new I;class ht extends ho{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:z5++}),this.uuid=ir(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new($B(e)?IS:DS)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new ii().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return vr.makeRotationFromQuaternion(e),this.applyMatrix4(vr),this}rotateX(e){return vr.makeRotationX(e),this.applyMatrix4(vr),this}rotateY(e){return vr.makeRotationY(e),this.applyMatrix4(vr),this}rotateZ(e){return vr.makeRotationZ(e),this.applyMatrix4(vr),this}translate(e,t,i){return vr.makeTranslation(e,t,i),this.applyMatrix4(vr),this}scale(e,t,i){return vr.makeScale(e,t,i),this.applyMatrix4(vr),this}lookAt(e){return ox.lookAt(e),ox.updateMatrix(),this.applyMatrix4(ox.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(dc).negate(),this.translate(dc.x,dc.y,dc.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Xe(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ya);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new I(-1/0,-1/0,-1/0),new I(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];Zi.setFromBufferAttribute(s),this.morphTargetsRelative?(Xn.addVectors(this.boundingBox.min,Zi.min),this.boundingBox.expandByPoint(Xn),Xn.addVectors(this.boundingBox.max,Zi.max),this.boundingBox.expandByPoint(Xn)):(this.boundingBox.expandByPoint(Zi.min),this.boundingBox.expandByPoint(Zi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new xa);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new I,1/0);return}if(e){const i=this.boundingSphere.center;if(Zi.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];xf.setFromBufferAttribute(a),this.morphTargetsRelative?(Xn.addVectors(Zi.min,xf.min),Zi.expandByPoint(Xn),Xn.addVectors(Zi.max,xf.max),Zi.expandByPoint(Xn)):(Zi.expandByPoint(xf.min),Zi.expandByPoint(xf.max))}Zi.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Xn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Xn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,d=a.count;c<d;c++)Xn.fromBufferAttribute(a,c),l&&(dc.fromBufferAttribute(e,c),Xn.add(dc)),r=Math.max(r,i.distanceToSquared(Xn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ft(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],d=[];for(let L=0;L<a;L++)c[L]=new I,d[L]=new I;const h=new I,p=new I,m=new I,y=new pe,g=new pe,x=new pe,w=new I,_=new I;function S(L,O,V){h.fromArray(r,L*3),p.fromArray(r,O*3),m.fromArray(r,V*3),y.fromArray(o,L*2),g.fromArray(o,O*2),x.fromArray(o,V*2),p.sub(h),m.sub(h),g.sub(y),x.sub(y);const H=1/(g.x*x.y-x.x*g.y);isFinite(H)&&(w.copy(p).multiplyScalar(x.y).addScaledVector(m,-g.y).multiplyScalar(H),_.copy(m).multiplyScalar(g.x).addScaledVector(p,-x.x).multiplyScalar(H),c[L].add(w),c[O].add(w),c[V].add(w),d[L].add(_),d[O].add(_),d[V].add(_))}let M=this.groups;M.length===0&&(M=[{start:0,count:i.length}]);for(let L=0,O=M.length;L<O;++L){const V=M[L],H=V.start,G=V.count;for(let $=H,ee=H+G;$<ee;$+=3)S(i[$+0],i[$+1],i[$+2])}const T=new I,E=new I,B=new I,C=new I;function R(L){B.fromArray(s,L*3),C.copy(B);const O=c[L];T.copy(O),T.sub(B.multiplyScalar(B.dot(O))).normalize(),E.crossVectors(C,O);const H=E.dot(d[L])<0?-1:1;l[L*4]=T.x,l[L*4+1]=T.y,l[L*4+2]=T.z,l[L*4+3]=H}for(let L=0,O=M.length;L<O;++L){const V=M[L],H=V.start,G=V.count;for(let $=H,ee=H+G;$<ee;$+=3)R(i[$+0]),R(i[$+1]),R(i[$+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Ft(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const r=new I,s=new I,o=new I,a=new I,l=new I,c=new I,d=new I,h=new I;if(e)for(let p=0,m=e.count;p<m;p+=3){const y=e.getX(p+0),g=e.getX(p+1),x=e.getX(p+2);r.fromBufferAttribute(t,y),s.fromBufferAttribute(t,g),o.fromBufferAttribute(t,x),d.subVectors(o,s),h.subVectors(r,s),d.cross(h),a.fromBufferAttribute(i,y),l.fromBufferAttribute(i,g),c.fromBufferAttribute(i,x),a.add(d),l.add(d),c.add(d),i.setXYZ(y,a.x,a.y,a.z),i.setXYZ(g,l.x,l.y,l.z),i.setXYZ(x,c.x,c.y,c.z)}else for(let p=0,m=t.count;p<m;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),d.subVectors(o,s),h.subVectors(r,s),d.cross(h),i.setXYZ(p+0,d.x,d.y,d.z),i.setXYZ(p+1,d.x,d.y,d.z),i.setXYZ(p+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Xn.fromBufferAttribute(e,t),Xn.normalize(),e.setXYZ(t,Xn.x,Xn.y,Xn.z)}toNonIndexed(){function e(a,l){const c=a.array,d=a.itemSize,h=a.normalized,p=new c.constructor(l.length*d);let m=0,y=0;for(let g=0,x=l.length;g<x;g++){a.isInterleavedBufferAttribute?m=l[g]*a.data.stride+a.offset:m=l[g]*d;for(let w=0;w<d;w++)p[y++]=c[m++]}return new Ft(p,d,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ht,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let d=0,h=c.length;d<h;d++){const p=c[d],m=e(p,i);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],d=[];for(let h=0,p=c.length;h<p;h++){const m=c[h];d.push(m.toJSON(e.data))}d.length>0&&(r[l]=d,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r){const d=r[c];this.setAttribute(c,d.clone(t))}const s=e.morphAttributes;for(const c in s){const d=[],h=s[c];for(let p=0,m=h.length;p<m;p++)d.push(h[p].clone(t));this.morphAttributes[c]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,d=o.length;c<d;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const eT=new ct,hs=new Du,tm=new xa,tT=new I,_f=new I,wf=new I,Sf=new I,ax=new I,nm=new I,im=new pe,rm=new pe,sm=new pe,lx=new I,om=new I;class Yn extends Bt{constructor(e=new ht,t=new tr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){nm.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const d=a[l],h=s[l];d!==0&&(ax.fromBufferAttribute(h,e),o?nm.addScaledVector(ax,d):nm.addScaledVector(ax.sub(t),d))}t.add(nm)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;if(r===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),tm.copy(i.boundingSphere),tm.applyMatrix4(s),hs.copy(e.ray).recast(e.near),tm.containsPoint(hs.origin)===!1&&(hs.intersectSphere(tm,tT)===null||hs.origin.distanceToSquared(tT)>(e.far-e.near)**2))||(eT.copy(s).invert(),hs.copy(e.ray).applyMatrix4(eT),i.boundingBox!==null&&hs.intersectsBox(i.boundingBox)===!1))return;let o;const a=i.index,l=i.attributes.position,c=i.attributes.uv,d=i.attributes.uv2,h=i.groups,p=i.drawRange;if(a!==null)if(Array.isArray(r))for(let m=0,y=h.length;m<y;m++){const g=h[m],x=r[g.materialIndex],w=Math.max(g.start,p.start),_=Math.min(a.count,Math.min(g.start+g.count,p.start+p.count));for(let S=w,M=_;S<M;S+=3){const T=a.getX(S),E=a.getX(S+1),B=a.getX(S+2);o=am(this,x,e,hs,c,d,T,E,B),o&&(o.faceIndex=Math.floor(S/3),o.face.materialIndex=g.materialIndex,t.push(o))}}else{const m=Math.max(0,p.start),y=Math.min(a.count,p.start+p.count);for(let g=m,x=y;g<x;g+=3){const w=a.getX(g),_=a.getX(g+1),S=a.getX(g+2);o=am(this,r,e,hs,c,d,w,_,S),o&&(o.faceIndex=Math.floor(g/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(r))for(let m=0,y=h.length;m<y;m++){const g=h[m],x=r[g.materialIndex],w=Math.max(g.start,p.start),_=Math.min(l.count,Math.min(g.start+g.count,p.start+p.count));for(let S=w,M=_;S<M;S+=3){const T=S,E=S+1,B=S+2;o=am(this,x,e,hs,c,d,T,E,B),o&&(o.faceIndex=Math.floor(S/3),o.face.materialIndex=g.materialIndex,t.push(o))}}else{const m=Math.max(0,p.start),y=Math.min(l.count,p.start+p.count);for(let g=m,x=y;g<x;g+=3){const w=g,_=g+1,S=g+2;o=am(this,r,e,hs,c,d,w,_,S),o&&(o.faceIndex=Math.floor(g/3),t.push(o))}}}}function U5(n,e,t,i,r,s,o,a){let l;if(e.side===ji?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===ws,a),l===null)return null;om.copy(a),om.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(om);return c<t.near||c>t.far?null:{distance:c,point:om.clone(),object:n}}function am(n,e,t,i,r,s,o,a,l){n.getVertexPosition(o,_f),n.getVertexPosition(a,wf),n.getVertexPosition(l,Sf);const c=U5(n,e,t,i,_f,wf,Sf,lx);if(c){r&&(im.fromBufferAttribute(r,o),rm.fromBufferAttribute(r,a),sm.fromBufferAttribute(r,l),c.uv=Cr.getUV(lx,_f,wf,Sf,im,rm,sm,new pe)),s&&(im.fromBufferAttribute(s,o),rm.fromBufferAttribute(s,a),sm.fromBufferAttribute(s,l),c.uv2=Cr.getUV(lx,_f,wf,Sf,im,rm,sm,new pe));const d={a:o,b:a,c:l,normal:new I,materialIndex:0};Cr.getNormal(_f,wf,Sf,d.normal),c.face=d}return c}class _a extends ht{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],d=[],h=[];let p=0,m=0;y("z","y","x",-1,-1,i,t,e,o,s,0),y("z","y","x",1,-1,i,t,-e,o,s,1),y("x","z","y",1,1,e,i,t,r,o,2),y("x","z","y",1,-1,e,i,-t,r,o,3),y("x","y","z",1,-1,e,t,i,r,s,4),y("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Xe(c,3)),this.setAttribute("normal",new Xe(d,3)),this.setAttribute("uv",new Xe(h,2));function y(g,x,w,_,S,M,T,E,B,C,R){const L=M/B,O=T/C,V=M/2,H=T/2,G=E/2,$=B+1,ee=C+1;let oe=0,k=0;const K=new I;for(let J=0;J<ee;J++){const te=J*O-H;for(let X=0;X<$;X++){const ie=X*L-V;K[g]=ie*_,K[x]=te*S,K[w]=G,c.push(K.x,K.y,K.z),K[g]=0,K[x]=0,K[w]=E>0?1:-1,d.push(K.x,K.y,K.z),h.push(X/B),h.push(1-J/C),oe+=1}}for(let J=0;J<C;J++)for(let te=0;te<B;te++){const X=p+te+$*J,ie=p+te+$*(J+1),ve=p+(te+1)+$*(J+1),q=p+(te+1)+$*J;l.push(X,ie,q),l.push(ie,ve,q),k+=6}a.addGroup(m,k,R),m+=k,p+=oe}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _a(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function vu(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function bi(n){const e={};for(let t=0;t<n.length;t++){const i=vu(n[t]);for(const r in i)e[r]=i[r]}return e}function G5(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function tL(n){return n.getRenderTarget()===null&&n.outputEncoding===Kt?Wr:gu}const nL={clone:vu,merge:bi};var H5=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,V5=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class As extends Fn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=H5,this.fragmentShader=V5,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=vu(e.uniforms),this.uniformsGroups=G5(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class eh extends Bt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ct,this.projectionMatrix=new ct,this.projectionMatrixInverse=new ct}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class on extends eh{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Bd*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(pl*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Bd*2*Math.atan(Math.tan(pl*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(pl*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const hc=-90,pc=1;class OS extends Bt{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i;const r=new on(hc,pc,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const s=new on(hc,pc,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new on(hc,pc,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new on(hc,pc,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new on(hc,pc,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const c=new on(hc,pc,e,t);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,-1),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,o,a,l,c]=this.children,d=e.getRenderTarget(),h=e.toneMapping,p=e.xr.enabled;e.toneMapping=Qr,e.xr.enabled=!1;const m=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=m,e.setRenderTarget(i,5),e.render(t,c),e.setRenderTarget(d),e.toneMapping=h,e.xr.enabled=p,i.texture.needsPMREMUpdate=!0}}class th extends an{constructor(e,t,i,r,s,o,a,l,c,d){e=e!==void 0?e:[],t=t!==void 0?t:oa,super(e,t,i,r,s,o,a,l,c,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class kS extends $r{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new th(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:fn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new _a(5,5,5),s=new As({name:"CubemapFromEquirect",uniforms:vu(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:ji,blending:Zs});s.uniforms.tEquirect.value=t;const o=new Yn(r,s),a=t.minFilter;return t.minFilter===Ss&&(t.minFilter=fn),new OS(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const cx=new I,W5=new I,j5=new ii;class Hs{constructor(e=new I(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=cx.subVectors(i,t).cross(W5.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(cx),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||j5.getNormalMatrix(e),r=this.coplanarPoint(cx).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const mc=new xa,lm=new I;class F0{constructor(e=new Hs,t=new Hs,i=new Hs,r=new Hs,s=new Hs,o=new Hs){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],c=i[5],d=i[6],h=i[7],p=i[8],m=i[9],y=i[10],g=i[11],x=i[12],w=i[13],_=i[14],S=i[15];return t[0].setComponents(a-r,h-l,g-p,S-x).normalize(),t[1].setComponents(a+r,h+l,g+p,S+x).normalize(),t[2].setComponents(a+s,h+c,g+m,S+w).normalize(),t[3].setComponents(a-s,h-c,g-m,S-w).normalize(),t[4].setComponents(a-o,h-d,g-y,S-_).normalize(),t[5].setComponents(a+o,h+d,g+y,S+_).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),mc.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(mc)}intersectsSprite(e){return mc.center.set(0,0,0),mc.radius=.7071067811865476,mc.applyMatrix4(e.matrixWorld),this.intersectsSphere(mc)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(lm.x=r.normal.x>0?e.max.x:e.min.x,lm.y=r.normal.y>0?e.max.y:e.min.y,lm.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(lm)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function iL(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function J5(n,e){const t=e.isWebGL2,i=new WeakMap;function r(c,d){const h=c.array,p=c.usage,m=n.createBuffer();n.bindBuffer(d,m),n.bufferData(d,h,p),c.onUploadCallback();let y;if(h instanceof Float32Array)y=5126;else if(h instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)y=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=5123;else if(h instanceof Int16Array)y=5122;else if(h instanceof Uint32Array)y=5125;else if(h instanceof Int32Array)y=5124;else if(h instanceof Int8Array)y=5120;else if(h instanceof Uint8Array)y=5121;else if(h instanceof Uint8ClampedArray)y=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:m,type:y,bytesPerElement:h.BYTES_PER_ELEMENT,version:c.version}}function s(c,d,h){const p=d.array,m=d.updateRange;n.bindBuffer(h,c),m.count===-1?n.bufferSubData(h,0,p):(t?n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),d.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const d=i.get(c);d&&(n.deleteBuffer(d.buffer),i.delete(c))}function l(c,d){if(c.isGLBufferAttribute){const p=i.get(c);(!p||p.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const h=i.get(c);h===void 0?i.set(c,r(c,d)):h.version<c.version&&(s(h.buffer,c,d),h.version=c.version)}return{get:o,remove:a,update:l}}class Iu extends ht{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),c=a+1,d=l+1,h=e/a,p=t/l,m=[],y=[],g=[],x=[];for(let w=0;w<d;w++){const _=w*p-o;for(let S=0;S<c;S++){const M=S*h-s;y.push(M,-_,0),g.push(0,0,1),x.push(S/a),x.push(1-w/l)}}for(let w=0;w<l;w++)for(let _=0;_<a;_++){const S=_+c*w,M=_+c*(w+1),T=_+1+c*(w+1),E=_+1+c*w;m.push(S,M,E),m.push(M,T,E)}this.setIndex(m),this.setAttribute("position",new Xe(y,3)),this.setAttribute("normal",new Xe(g,3)),this.setAttribute("uv",new Xe(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Iu(e.width,e.height,e.widthSegments,e.heightSegments)}}var X5=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,K5=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Y5=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Q5=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,q5=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Z5=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,$5="vec3 transformed = vec3( position );",eU=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,tU=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,nU=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,iU=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,rU=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,sU=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,oU=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,aU=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,lU=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,cU=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,uU=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,fU=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,dU=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,hU=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,pU=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,mU=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,gU=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,vU=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,yU=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,xU="gl_FragColor = linearToOutputTexel( gl_FragColor );",_U=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,wU=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,SU=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,AU=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,MU=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,bU=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,CU=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,TU=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,EU=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,PU=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,RU=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,BU=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,LU=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,DU=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,IU=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,OU=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,kU=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,FU=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,NU=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,zU=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,UU=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,GU=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,HU=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,VU=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,WU=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,jU=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,JU=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,XU=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,KU=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,YU=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,QU=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,qU=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,ZU=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,$U=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,eG=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,tG=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,nG=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,iG=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,rG=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,sG=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,oG=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,aG=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,lG=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,cG=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,uG=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,fG=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,dG=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,hG=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,pG=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,mG=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,gG=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,vG=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,yG=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,xG=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,_G=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,wG=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,SG=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,AG=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,MG=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,bG=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,CG=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,TG=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,EG=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,PG=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,RG=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,BG=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,LG=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,DG=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,IG=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,OG=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,kG=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,FG=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		
		vec2 lodFudge = pow( 1.95, lod ) / fullSize;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec2 fullSize = vec2( textureSize( sampler, 0 ) );
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,NG=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,zG=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,UG=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,GG=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,HG=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,VG=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,WG=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const jG=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,JG=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,XG=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,KG=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,YG=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,QG=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,qG=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,ZG=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,$G=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,eH=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,tH=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,nH=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,iH=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,rH=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,sH=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,oH=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,aH=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,lH=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cH=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,uH=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fH=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,dH=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,hH=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,pH=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mH=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,gH=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vH=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yH=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xH=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,_H=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,wH=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,SH=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,AH=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,MH=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,vt={alphamap_fragment:X5,alphamap_pars_fragment:K5,alphatest_fragment:Y5,alphatest_pars_fragment:Q5,aomap_fragment:q5,aomap_pars_fragment:Z5,begin_vertex:$5,beginnormal_vertex:eU,bsdfs:tU,iridescence_fragment:nU,bumpmap_pars_fragment:iU,clipping_planes_fragment:rU,clipping_planes_pars_fragment:sU,clipping_planes_pars_vertex:oU,clipping_planes_vertex:aU,color_fragment:lU,color_pars_fragment:cU,color_pars_vertex:uU,color_vertex:fU,common:dU,cube_uv_reflection_fragment:hU,defaultnormal_vertex:pU,displacementmap_pars_vertex:mU,displacementmap_vertex:gU,emissivemap_fragment:vU,emissivemap_pars_fragment:yU,encodings_fragment:xU,encodings_pars_fragment:_U,envmap_fragment:wU,envmap_common_pars_fragment:SU,envmap_pars_fragment:AU,envmap_pars_vertex:MU,envmap_physical_pars_fragment:kU,envmap_vertex:bU,fog_vertex:CU,fog_pars_vertex:TU,fog_fragment:EU,fog_pars_fragment:PU,gradientmap_pars_fragment:RU,lightmap_fragment:BU,lightmap_pars_fragment:LU,lights_lambert_fragment:DU,lights_lambert_pars_fragment:IU,lights_pars_begin:OU,lights_toon_fragment:FU,lights_toon_pars_fragment:NU,lights_phong_fragment:zU,lights_phong_pars_fragment:UU,lights_physical_fragment:GU,lights_physical_pars_fragment:HU,lights_fragment_begin:VU,lights_fragment_maps:WU,lights_fragment_end:jU,logdepthbuf_fragment:JU,logdepthbuf_pars_fragment:XU,logdepthbuf_pars_vertex:KU,logdepthbuf_vertex:YU,map_fragment:QU,map_pars_fragment:qU,map_particle_fragment:ZU,map_particle_pars_fragment:$U,metalnessmap_fragment:eG,metalnessmap_pars_fragment:tG,morphcolor_vertex:nG,morphnormal_vertex:iG,morphtarget_pars_vertex:rG,morphtarget_vertex:sG,normal_fragment_begin:oG,normal_fragment_maps:aG,normal_pars_fragment:lG,normal_pars_vertex:cG,normal_vertex:uG,normalmap_pars_fragment:fG,clearcoat_normal_fragment_begin:dG,clearcoat_normal_fragment_maps:hG,clearcoat_pars_fragment:pG,iridescence_pars_fragment:mG,output_fragment:gG,packing:vG,premultiplied_alpha_fragment:yG,project_vertex:xG,dithering_fragment:_G,dithering_pars_fragment:wG,roughnessmap_fragment:SG,roughnessmap_pars_fragment:AG,shadowmap_pars_fragment:MG,shadowmap_pars_vertex:bG,shadowmap_vertex:CG,shadowmask_pars_fragment:TG,skinbase_vertex:EG,skinning_pars_vertex:PG,skinning_vertex:RG,skinnormal_vertex:BG,specularmap_fragment:LG,specularmap_pars_fragment:DG,tonemapping_fragment:IG,tonemapping_pars_fragment:OG,transmission_fragment:kG,transmission_pars_fragment:FG,uv_pars_fragment:NG,uv_pars_vertex:zG,uv_vertex:UG,uv2_pars_fragment:GG,uv2_pars_vertex:HG,uv2_vertex:VG,worldpos_vertex:WG,background_vert:jG,background_frag:JG,backgroundCube_vert:XG,backgroundCube_frag:KG,cube_vert:YG,cube_frag:QG,depth_vert:qG,depth_frag:ZG,distanceRGBA_vert:$G,distanceRGBA_frag:eH,equirect_vert:tH,equirect_frag:nH,linedashed_vert:iH,linedashed_frag:rH,meshbasic_vert:sH,meshbasic_frag:oH,meshlambert_vert:aH,meshlambert_frag:lH,meshmatcap_vert:cH,meshmatcap_frag:uH,meshnormal_vert:fH,meshnormal_frag:dH,meshphong_vert:hH,meshphong_frag:pH,meshphysical_vert:mH,meshphysical_frag:gH,meshtoon_vert:vH,meshtoon_frag:yH,points_vert:xH,points_frag:_H,shadow_vert:wH,shadow_frag:SH,sprite_vert:AH,sprite_frag:MH},Be={common:{diffuse:{value:new Oe(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new ii},uv2Transform:{value:new ii},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new pe(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Oe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Oe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ii}},sprite:{diffuse:{value:new Oe(16777215)},opacity:{value:1},center:{value:new pe(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ii}}},Jr={basic:{uniforms:bi([Be.common,Be.specularmap,Be.envmap,Be.aomap,Be.lightmap,Be.fog]),vertexShader:vt.meshbasic_vert,fragmentShader:vt.meshbasic_frag},lambert:{uniforms:bi([Be.common,Be.specularmap,Be.envmap,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.fog,Be.lights,{emissive:{value:new Oe(0)}}]),vertexShader:vt.meshlambert_vert,fragmentShader:vt.meshlambert_frag},phong:{uniforms:bi([Be.common,Be.specularmap,Be.envmap,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.fog,Be.lights,{emissive:{value:new Oe(0)},specular:{value:new Oe(1118481)},shininess:{value:30}}]),vertexShader:vt.meshphong_vert,fragmentShader:vt.meshphong_frag},standard:{uniforms:bi([Be.common,Be.envmap,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.roughnessmap,Be.metalnessmap,Be.fog,Be.lights,{emissive:{value:new Oe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:vt.meshphysical_vert,fragmentShader:vt.meshphysical_frag},toon:{uniforms:bi([Be.common,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.gradientmap,Be.fog,Be.lights,{emissive:{value:new Oe(0)}}]),vertexShader:vt.meshtoon_vert,fragmentShader:vt.meshtoon_frag},matcap:{uniforms:bi([Be.common,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.fog,{matcap:{value:null}}]),vertexShader:vt.meshmatcap_vert,fragmentShader:vt.meshmatcap_frag},points:{uniforms:bi([Be.points,Be.fog]),vertexShader:vt.points_vert,fragmentShader:vt.points_frag},dashed:{uniforms:bi([Be.common,Be.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:vt.linedashed_vert,fragmentShader:vt.linedashed_frag},depth:{uniforms:bi([Be.common,Be.displacementmap]),vertexShader:vt.depth_vert,fragmentShader:vt.depth_frag},normal:{uniforms:bi([Be.common,Be.bumpmap,Be.normalmap,Be.displacementmap,{opacity:{value:1}}]),vertexShader:vt.meshnormal_vert,fragmentShader:vt.meshnormal_frag},sprite:{uniforms:bi([Be.sprite,Be.fog]),vertexShader:vt.sprite_vert,fragmentShader:vt.sprite_frag},background:{uniforms:{uvTransform:{value:new ii},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:vt.background_vert,fragmentShader:vt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:vt.backgroundCube_vert,fragmentShader:vt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:vt.cube_vert,fragmentShader:vt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:vt.equirect_vert,fragmentShader:vt.equirect_frag},distanceRGBA:{uniforms:bi([Be.common,Be.displacementmap,{referencePosition:{value:new I},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:vt.distanceRGBA_vert,fragmentShader:vt.distanceRGBA_frag},shadow:{uniforms:bi([Be.lights,Be.fog,{color:{value:new Oe(0)},opacity:{value:1}}]),vertexShader:vt.shadow_vert,fragmentShader:vt.shadow_frag}};Jr.physical={uniforms:bi([Jr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new pe(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Oe(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new pe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Oe(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Oe(1,1,1)},specularColorMap:{value:null}}]),vertexShader:vt.meshphysical_vert,fragmentShader:vt.meshphysical_frag};const cm={r:0,b:0,g:0};function bH(n,e,t,i,r,s,o){const a=new Oe(0);let l=s===!0?0:1,c,d,h=null,p=0,m=null;function y(x,w){let _=!1,S=w.isScene===!0?w.background:null;S&&S.isTexture&&(S=(w.backgroundBlurriness>0?t:e).get(S));const M=n.xr,T=M.getSession&&M.getSession();T&&T.environmentBlendMode==="additive"&&(S=null),S===null?g(a,l):S&&S.isColor&&(g(S,1),_=!0),(n.autoClear||_)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),S&&(S.isCubeTexture||S.mapping===Lu)?(d===void 0&&(d=new Yn(new _a(1,1,1),new As({name:"BackgroundCubeMaterial",uniforms:vu(Jr.backgroundCube.uniforms),vertexShader:Jr.backgroundCube.vertexShader,fragmentShader:Jr.backgroundCube.fragmentShader,side:ji,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(E,B,C){this.matrixWorld.copyPosition(C.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),d.material.uniforms.envMap.value=S,d.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=w.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,d.material.toneMapped=S.encoding!==Kt,(h!==S||p!==S.version||m!==n.toneMapping)&&(d.material.needsUpdate=!0,h=S,p=S.version,m=n.toneMapping),d.layers.enableAll(),x.unshift(d,d.geometry,d.material,0,0,null)):S&&S.isTexture&&(c===void 0&&(c=new Yn(new Iu(2,2),new As({name:"BackgroundMaterial",uniforms:vu(Jr.background.uniforms),vertexShader:Jr.background.vertexShader,fragmentShader:Jr.background.fragmentShader,side:ws,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=S,c.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,c.material.toneMapped=S.encoding!==Kt,S.matrixAutoUpdate===!0&&S.updateMatrix(),c.material.uniforms.uvTransform.value.copy(S.matrix),(h!==S||p!==S.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,h=S,p=S.version,m=n.toneMapping),c.layers.enableAll(),x.unshift(c,c.geometry,c.material,0,0,null))}function g(x,w){x.getRGB(cm,tL(n)),i.buffers.color.setClear(cm.r,cm.g,cm.b,w,o)}return{getClearColor:function(){return a},setClearColor:function(x,w=1){a.set(x),l=w,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,g(a,l)},render:y}}function CH(n,e,t,i){const r=n.getParameter(34921),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=x(null);let c=l,d=!1;function h(G,$,ee,oe,k){let K=!1;if(o){const J=g(oe,ee,$);c!==J&&(c=J,m(c.object)),K=w(G,oe,ee,k),K&&_(G,oe,ee,k)}else{const J=$.wireframe===!0;(c.geometry!==oe.id||c.program!==ee.id||c.wireframe!==J)&&(c.geometry=oe.id,c.program=ee.id,c.wireframe=J,K=!0)}k!==null&&t.update(k,34963),(K||d)&&(d=!1,C(G,$,ee,oe),k!==null&&n.bindBuffer(34963,t.get(k).buffer))}function p(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(G){return i.isWebGL2?n.bindVertexArray(G):s.bindVertexArrayOES(G)}function y(G){return i.isWebGL2?n.deleteVertexArray(G):s.deleteVertexArrayOES(G)}function g(G,$,ee){const oe=ee.wireframe===!0;let k=a[G.id];k===void 0&&(k={},a[G.id]=k);let K=k[$.id];K===void 0&&(K={},k[$.id]=K);let J=K[oe];return J===void 0&&(J=x(p()),K[oe]=J),J}function x(G){const $=[],ee=[],oe=[];for(let k=0;k<r;k++)$[k]=0,ee[k]=0,oe[k]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:$,enabledAttributes:ee,attributeDivisors:oe,object:G,attributes:{},index:null}}function w(G,$,ee,oe){const k=c.attributes,K=$.attributes;let J=0;const te=ee.getAttributes();for(const X in te)if(te[X].location>=0){const ve=k[X];let q=K[X];if(q===void 0&&(X==="instanceMatrix"&&G.instanceMatrix&&(q=G.instanceMatrix),X==="instanceColor"&&G.instanceColor&&(q=G.instanceColor)),ve===void 0||ve.attribute!==q||q&&ve.data!==q.data)return!0;J++}return c.attributesNum!==J||c.index!==oe}function _(G,$,ee,oe){const k={},K=$.attributes;let J=0;const te=ee.getAttributes();for(const X in te)if(te[X].location>=0){let ve=K[X];ve===void 0&&(X==="instanceMatrix"&&G.instanceMatrix&&(ve=G.instanceMatrix),X==="instanceColor"&&G.instanceColor&&(ve=G.instanceColor));const q={};q.attribute=ve,ve&&ve.data&&(q.data=ve.data),k[X]=q,J++}c.attributes=k,c.attributesNum=J,c.index=oe}function S(){const G=c.newAttributes;for(let $=0,ee=G.length;$<ee;$++)G[$]=0}function M(G){T(G,0)}function T(G,$){const ee=c.newAttributes,oe=c.enabledAttributes,k=c.attributeDivisors;ee[G]=1,oe[G]===0&&(n.enableVertexAttribArray(G),oe[G]=1),k[G]!==$&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](G,$),k[G]=$)}function E(){const G=c.newAttributes,$=c.enabledAttributes;for(let ee=0,oe=$.length;ee<oe;ee++)$[ee]!==G[ee]&&(n.disableVertexAttribArray(ee),$[ee]=0)}function B(G,$,ee,oe,k,K){i.isWebGL2===!0&&(ee===5124||ee===5125)?n.vertexAttribIPointer(G,$,ee,k,K):n.vertexAttribPointer(G,$,ee,oe,k,K)}function C(G,$,ee,oe){if(i.isWebGL2===!1&&(G.isInstancedMesh||oe.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const k=oe.attributes,K=ee.getAttributes(),J=$.defaultAttributeValues;for(const te in K){const X=K[te];if(X.location>=0){let ie=k[te];if(ie===void 0&&(te==="instanceMatrix"&&G.instanceMatrix&&(ie=G.instanceMatrix),te==="instanceColor"&&G.instanceColor&&(ie=G.instanceColor)),ie!==void 0){const ve=ie.normalized,q=ie.itemSize,we=t.get(ie);if(we===void 0)continue;const Ae=we.buffer,De=we.type,Fe=we.bytesPerElement;if(ie.isInterleavedBufferAttribute){const Ee=ie.data,_e=Ee.stride,de=ie.offset;if(Ee.isInstancedInterleavedBuffer){for(let he=0;he<X.locationSize;he++)T(X.location+he,Ee.meshPerAttribute);G.isInstancedMesh!==!0&&oe._maxInstanceCount===void 0&&(oe._maxInstanceCount=Ee.meshPerAttribute*Ee.count)}else for(let he=0;he<X.locationSize;he++)M(X.location+he);n.bindBuffer(34962,Ae);for(let he=0;he<X.locationSize;he++)B(X.location+he,q/X.locationSize,De,ve,_e*Fe,(de+q/X.locationSize*he)*Fe)}else{if(ie.isInstancedBufferAttribute){for(let Ee=0;Ee<X.locationSize;Ee++)T(X.location+Ee,ie.meshPerAttribute);G.isInstancedMesh!==!0&&oe._maxInstanceCount===void 0&&(oe._maxInstanceCount=ie.meshPerAttribute*ie.count)}else for(let Ee=0;Ee<X.locationSize;Ee++)M(X.location+Ee);n.bindBuffer(34962,Ae);for(let Ee=0;Ee<X.locationSize;Ee++)B(X.location+Ee,q/X.locationSize,De,ve,q*Fe,q/X.locationSize*Ee*Fe)}}else if(J!==void 0){const ve=J[te];if(ve!==void 0)switch(ve.length){case 2:n.vertexAttrib2fv(X.location,ve);break;case 3:n.vertexAttrib3fv(X.location,ve);break;case 4:n.vertexAttrib4fv(X.location,ve);break;default:n.vertexAttrib1fv(X.location,ve)}}}}E()}function R(){V();for(const G in a){const $=a[G];for(const ee in $){const oe=$[ee];for(const k in oe)y(oe[k].object),delete oe[k];delete $[ee]}delete a[G]}}function L(G){if(a[G.id]===void 0)return;const $=a[G.id];for(const ee in $){const oe=$[ee];for(const k in oe)y(oe[k].object),delete oe[k];delete $[ee]}delete a[G.id]}function O(G){for(const $ in a){const ee=a[$];if(ee[G.id]===void 0)continue;const oe=ee[G.id];for(const k in oe)y(oe[k].object),delete oe[k];delete ee[G.id]}}function V(){H(),d=!0,c!==l&&(c=l,m(c.object))}function H(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:V,resetDefaultState:H,dispose:R,releaseStatesOfGeometry:L,releaseStatesOfProgram:O,initAttributes:S,enableAttribute:M,disableUnusedAttributes:E}}function TH(n,e,t,i){const r=i.isWebGL2;let s;function o(c){s=c}function a(c,d){n.drawArrays(s,c,d),t.update(d,s,1)}function l(c,d,h){if(h===0)return;let p,m;if(r)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,c,d,h),t.update(d,s,h)}this.setMode=o,this.render=a,this.renderInstances=l}function EH(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const B=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(B.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(B){if(B==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";B="mediump"}return B==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),d=t.logarithmicDepthBuffer===!0,h=n.getParameter(34930),p=n.getParameter(35660),m=n.getParameter(3379),y=n.getParameter(34076),g=n.getParameter(34921),x=n.getParameter(36347),w=n.getParameter(36348),_=n.getParameter(36349),S=p>0,M=o||e.has("OES_texture_float"),T=S&&M,E=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:d,maxTextures:h,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:y,maxAttributes:g,maxVertexUniforms:x,maxVaryings:w,maxFragmentUniforms:_,vertexTextures:S,floatFragmentTextures:M,floatVertexTextures:T,maxSamples:E}}function PH(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new Hs,a=new ii,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){const m=h.length!==0||p||i!==0||r;return r=p,i=h.length,m},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,p){t=d(h,p,0)},this.setState=function(h,p,m){const y=h.clippingPlanes,g=h.clipIntersection,x=h.clipShadows,w=n.get(h);if(!r||y===null||y.length===0||s&&!x)s?d(null):c();else{const _=s?0:i,S=_*4;let M=w.clippingState||null;l.value=M,M=d(y,p,S,m);for(let T=0;T!==S;++T)M[T]=t[T];w.clippingState=M,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(h,p,m,y){const g=h!==null?h.length:0;let x=null;if(g!==0){if(x=l.value,y!==!0||x===null){const w=m+g*4,_=p.matrixWorldInverse;a.getNormalMatrix(_),(x===null||x.length<w)&&(x=new Float32Array(w));for(let S=0,M=m;S!==g;++S,M+=4)o.copy(h[S]).applyMatrix4(_,a),o.normal.toArray(x,M),x[M+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,x}}function RH(n){let e=new WeakMap;function t(o,a){return a===Cd?o.mapping=oa:a===Td&&(o.mapping=aa),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Cd||a===Td)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new kS(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class qr extends eh{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const zc=4,nT=[.125,.215,.35,.446,.526,.582],qa=20,ux=new qr,iT=new Oe;let fx=null;const Xa=(1+Math.sqrt(5))/2,gc=1/Xa,rT=[new I(1,1,1),new I(-1,1,1),new I(1,1,-1),new I(-1,1,-1),new I(0,Xa,gc),new I(0,Xa,-gc),new I(gc,0,Xa),new I(-gc,0,Xa),new I(Xa,gc,0),new I(-Xa,gc,0)];class I1{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){fx=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=aT(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=oT(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(fx),e.scissorTest=!1,um(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===oa||e.mapping===aa?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),fx=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:fn,minFilter:fn,generateMipmaps:!1,type:pu,format:Ui,encoding:ca,depthBuffer:!1},r=sT(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=sT(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=BH(s)),this._blurMaterial=LH(s,e,t)}return r}_compileMaterial(e){const t=new Yn(this._lodPlanes[0],e);this._renderer.compile(t,ux)}_sceneToCubeUV(e,t,i,r){const a=new on(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],d=this._renderer,h=d.autoClear,p=d.toneMapping;d.getClearColor(iT),d.toneMapping=Qr,d.autoClear=!1;const m=new tr({name:"PMREM.Background",side:ji,depthWrite:!1,depthTest:!1}),y=new Yn(new _a,m);let g=!1;const x=e.background;x?x.isColor&&(m.color.copy(x),e.background=null,g=!0):(m.color.copy(iT),g=!0);for(let w=0;w<6;w++){const _=w%3;_===0?(a.up.set(0,l[w],0),a.lookAt(c[w],0,0)):_===1?(a.up.set(0,0,l[w]),a.lookAt(0,c[w],0)):(a.up.set(0,l[w],0),a.lookAt(0,0,c[w]));const S=this._cubeSize;um(r,_*S,w>2?S:0,S,S),d.setRenderTarget(r),g&&d.render(y,a),d.render(e,a)}y.geometry.dispose(),y.material.dispose(),d.toneMapping=p,d.autoClear=h,e.background=x}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===oa||e.mapping===aa;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=aT()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=oT());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Yn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;um(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,ux)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=rT[(r-1)%rT.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,h=new Yn(this._lodPlanes[r],c),p=c.uniforms,m=this._sizeLods[i]-1,y=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*qa-1),g=s/y,x=isFinite(s)?1+Math.floor(d*g):qa;x>qa&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${qa}`);const w=[];let _=0;for(let B=0;B<qa;++B){const C=B/g,R=Math.exp(-C*C/2);w.push(R),B===0?_+=R:B<x&&(_+=2*R)}for(let B=0;B<w.length;B++)w[B]=w[B]/_;p.envMap.value=e.texture,p.samples.value=x,p.weights.value=w,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:S}=this;p.dTheta.value=y,p.mipInt.value=S-i;const M=this._sizeLods[r],T=3*M*(r>S-zc?r-S+zc:0),E=4*(this._cubeSize-M);um(t,T,E,3*M,2*M),l.setRenderTarget(t),l.render(h,ux)}}function BH(n){const e=[],t=[],i=[];let r=n;const s=n-zc+1+nT.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-zc?l=nT[o-n+zc-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),d=-c,h=1+c,p=[d,d,h,d,h,h,d,d,h,h,d,h],m=6,y=6,g=3,x=2,w=1,_=new Float32Array(g*y*m),S=new Float32Array(x*y*m),M=new Float32Array(w*y*m);for(let E=0;E<m;E++){const B=E%3*2/3-1,C=E>2?0:-1,R=[B,C,0,B+2/3,C,0,B+2/3,C+1,0,B,C,0,B+2/3,C+1,0,B,C+1,0];_.set(R,g*y*E),S.set(p,x*y*E);const L=[E,E,E,E,E,E];M.set(L,w*y*E)}const T=new ht;T.setAttribute("position",new Ft(_,g)),T.setAttribute("uv",new Ft(S,x)),T.setAttribute("faceIndex",new Ft(M,w)),e.push(T),r>zc&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function sT(n,e,t){const i=new $r(n,e,t);return i.texture.mapping=Lu,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function um(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function LH(n,e,t){const i=new Float32Array(qa),r=new I(0,1,0);return new As({name:"SphericalGaussianBlur",defines:{n:qa,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:FS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Zs,depthTest:!1,depthWrite:!1})}function oT(){return new As({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:FS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Zs,depthTest:!1,depthWrite:!1})}function aT(){return new As({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:FS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Zs,depthTest:!1,depthWrite:!1})}function FS(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function DH(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===Cd||l===Td,d=l===oa||l===aa;if(c||d)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return t===null&&(t=new I1(n)),h=c?t.fromEquirectangular(a,h):t.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(c&&h&&h.height>0||d&&h&&r(h)){t===null&&(t=new I1(n));const p=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function r(a){let l=0;const c=6;for(let d=0;d<c;d++)a[d]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function IH(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function OH(n,e,t,i){const r={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);p.removeEventListener("dispose",o),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(h,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function l(h){const p=h.attributes;for(const y in p)e.update(p[y],34962);const m=h.morphAttributes;for(const y in m){const g=m[y];for(let x=0,w=g.length;x<w;x++)e.update(g[x],34962)}}function c(h){const p=[],m=h.index,y=h.attributes.position;let g=0;if(m!==null){const _=m.array;g=m.version;for(let S=0,M=_.length;S<M;S+=3){const T=_[S+0],E=_[S+1],B=_[S+2];p.push(T,E,E,B,B,T)}}else{const _=y.array;g=y.version;for(let S=0,M=_.length/3-1;S<M;S+=3){const T=S+0,E=S+1,B=S+2;p.push(T,E,E,B,B,T)}}const x=new($B(p)?IS:DS)(p,1);x.version=g;const w=s.get(h);w&&e.remove(w),s.set(h,x)}function d(h){const p=s.get(h);if(p){const m=h.index;m!==null&&p.version<m.version&&c(h)}else c(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:d}}function kH(n,e,t,i){const r=i.isWebGL2;let s;function o(p){s=p}let a,l;function c(p){a=p.type,l=p.bytesPerElement}function d(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function h(p,m,y){if(y===0)return;let g,x;if(r)g=n,x="drawElementsInstanced";else if(g=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[x](s,m,a,p*l,y),t.update(m,s,y)}this.setMode=o,this.setIndex=c,this.render=d,this.renderInstances=h}function FH(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function NH(n,e){return n[0]-e[0]}function zH(n,e){return Math.abs(e[1])-Math.abs(n[1])}function UH(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new Vt,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,d,h){const p=c.morphTargetInfluences;if(e.isWebGL2===!0){const y=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,g=y!==void 0?y.length:0;let x=s.get(d);if(x===void 0||x.count!==g){let $=function(){H.dispose(),s.delete(d),d.removeEventListener("dispose",$)};var m=$;x!==void 0&&x.texture.dispose();const S=d.morphAttributes.position!==void 0,M=d.morphAttributes.normal!==void 0,T=d.morphAttributes.color!==void 0,E=d.morphAttributes.position||[],B=d.morphAttributes.normal||[],C=d.morphAttributes.color||[];let R=0;S===!0&&(R=1),M===!0&&(R=2),T===!0&&(R=3);let L=d.attributes.position.count*R,O=1;L>e.maxTextureSize&&(O=Math.ceil(L/e.maxTextureSize),L=e.maxTextureSize);const V=new Float32Array(L*O*4*g),H=new k0(V,L,O,g);H.type=Js,H.needsUpdate=!0;const G=R*4;for(let ee=0;ee<g;ee++){const oe=E[ee],k=B[ee],K=C[ee],J=L*O*4*ee;for(let te=0;te<oe.count;te++){const X=te*G;S===!0&&(o.fromBufferAttribute(oe,te),V[J+X+0]=o.x,V[J+X+1]=o.y,V[J+X+2]=o.z,V[J+X+3]=0),M===!0&&(o.fromBufferAttribute(k,te),V[J+X+4]=o.x,V[J+X+5]=o.y,V[J+X+6]=o.z,V[J+X+7]=0),T===!0&&(o.fromBufferAttribute(K,te),V[J+X+8]=o.x,V[J+X+9]=o.y,V[J+X+10]=o.z,V[J+X+11]=K.itemSize===4?o.w:1)}}x={count:g,texture:H,size:new pe(L,O)},s.set(d,x),d.addEventListener("dispose",$)}let w=0;for(let S=0;S<p.length;S++)w+=p[S];const _=d.morphTargetsRelative?1:1-w;h.getUniforms().setValue(n,"morphTargetBaseInfluence",_),h.getUniforms().setValue(n,"morphTargetInfluences",p),h.getUniforms().setValue(n,"morphTargetsTexture",x.texture,t),h.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}else{const y=p===void 0?0:p.length;let g=i[d.id];if(g===void 0||g.length!==y){g=[];for(let M=0;M<y;M++)g[M]=[M,0];i[d.id]=g}for(let M=0;M<y;M++){const T=g[M];T[0]=M,T[1]=p[M]}g.sort(zH);for(let M=0;M<8;M++)M<y&&g[M][1]?(a[M][0]=g[M][0],a[M][1]=g[M][1]):(a[M][0]=Number.MAX_SAFE_INTEGER,a[M][1]=0);a.sort(NH);const x=d.morphAttributes.position,w=d.morphAttributes.normal;let _=0;for(let M=0;M<8;M++){const T=a[M],E=T[0],B=T[1];E!==Number.MAX_SAFE_INTEGER&&B?(x&&d.getAttribute("morphTarget"+M)!==x[E]&&d.setAttribute("morphTarget"+M,x[E]),w&&d.getAttribute("morphNormal"+M)!==w[E]&&d.setAttribute("morphNormal"+M,w[E]),r[M]=B,_+=B):(x&&d.hasAttribute("morphTarget"+M)===!0&&d.deleteAttribute("morphTarget"+M),w&&d.hasAttribute("morphNormal"+M)===!0&&d.deleteAttribute("morphNormal"+M),r[M]=0)}const S=d.morphTargetsRelative?1:1-_;h.getUniforms().setValue(n,"morphTargetBaseInfluence",S),h.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:l}}function GH(n,e,t,i){let r=new WeakMap;function s(l){const c=i.render.frame,d=l.geometry,h=e.get(l,d);return r.get(h)!==c&&(e.update(h),r.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),h}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const rL=new an,sL=new k0,oL=new LS,aL=new th,lT=[],cT=[],uT=new Float32Array(16),fT=new Float32Array(9),dT=new Float32Array(4);function Ou(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=lT[r];if(s===void 0&&(s=new Float32Array(r),lT[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Hn(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Vn(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function N0(n,e){let t=cT[e];t===void 0&&(t=new Int32Array(e),cT[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function HH(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function VH(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Hn(t,e))return;n.uniform2fv(this.addr,e),Vn(t,e)}}function WH(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Hn(t,e))return;n.uniform3fv(this.addr,e),Vn(t,e)}}function jH(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Hn(t,e))return;n.uniform4fv(this.addr,e),Vn(t,e)}}function JH(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Hn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Vn(t,e)}else{if(Hn(t,i))return;dT.set(i),n.uniformMatrix2fv(this.addr,!1,dT),Vn(t,i)}}function XH(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Hn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Vn(t,e)}else{if(Hn(t,i))return;fT.set(i),n.uniformMatrix3fv(this.addr,!1,fT),Vn(t,i)}}function KH(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Hn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Vn(t,e)}else{if(Hn(t,i))return;uT.set(i),n.uniformMatrix4fv(this.addr,!1,uT),Vn(t,i)}}function YH(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function QH(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Hn(t,e))return;n.uniform2iv(this.addr,e),Vn(t,e)}}function qH(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Hn(t,e))return;n.uniform3iv(this.addr,e),Vn(t,e)}}function ZH(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Hn(t,e))return;n.uniform4iv(this.addr,e),Vn(t,e)}}function $H(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function e6(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Hn(t,e))return;n.uniform2uiv(this.addr,e),Vn(t,e)}}function t6(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Hn(t,e))return;n.uniform3uiv(this.addr,e),Vn(t,e)}}function n6(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Hn(t,e))return;n.uniform4uiv(this.addr,e),Vn(t,e)}}function i6(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||rL,r)}function r6(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||oL,r)}function s6(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||aL,r)}function o6(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||sL,r)}function a6(n){switch(n){case 5126:return HH;case 35664:return VH;case 35665:return WH;case 35666:return jH;case 35674:return JH;case 35675:return XH;case 35676:return KH;case 5124:case 35670:return YH;case 35667:case 35671:return QH;case 35668:case 35672:return qH;case 35669:case 35673:return ZH;case 5125:return $H;case 36294:return e6;case 36295:return t6;case 36296:return n6;case 35678:case 36198:case 36298:case 36306:case 35682:return i6;case 35679:case 36299:case 36307:return r6;case 35680:case 36300:case 36308:case 36293:return s6;case 36289:case 36303:case 36311:case 36292:return o6}}function l6(n,e){n.uniform1fv(this.addr,e)}function c6(n,e){const t=Ou(e,this.size,2);n.uniform2fv(this.addr,t)}function u6(n,e){const t=Ou(e,this.size,3);n.uniform3fv(this.addr,t)}function f6(n,e){const t=Ou(e,this.size,4);n.uniform4fv(this.addr,t)}function d6(n,e){const t=Ou(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function h6(n,e){const t=Ou(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function p6(n,e){const t=Ou(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function m6(n,e){n.uniform1iv(this.addr,e)}function g6(n,e){n.uniform2iv(this.addr,e)}function v6(n,e){n.uniform3iv(this.addr,e)}function y6(n,e){n.uniform4iv(this.addr,e)}function x6(n,e){n.uniform1uiv(this.addr,e)}function _6(n,e){n.uniform2uiv(this.addr,e)}function w6(n,e){n.uniform3uiv(this.addr,e)}function S6(n,e){n.uniform4uiv(this.addr,e)}function A6(n,e,t){const i=this.cache,r=e.length,s=N0(t,r);Hn(i,s)||(n.uniform1iv(this.addr,s),Vn(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||rL,s[o])}function M6(n,e,t){const i=this.cache,r=e.length,s=N0(t,r);Hn(i,s)||(n.uniform1iv(this.addr,s),Vn(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||oL,s[o])}function b6(n,e,t){const i=this.cache,r=e.length,s=N0(t,r);Hn(i,s)||(n.uniform1iv(this.addr,s),Vn(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||aL,s[o])}function C6(n,e,t){const i=this.cache,r=e.length,s=N0(t,r);Hn(i,s)||(n.uniform1iv(this.addr,s),Vn(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||sL,s[o])}function T6(n){switch(n){case 5126:return l6;case 35664:return c6;case 35665:return u6;case 35666:return f6;case 35674:return d6;case 35675:return h6;case 35676:return p6;case 5124:case 35670:return m6;case 35667:case 35671:return g6;case 35668:case 35672:return v6;case 35669:case 35673:return y6;case 5125:return x6;case 36294:return _6;case 36295:return w6;case 36296:return S6;case 35678:case 36198:case 36298:case 36306:case 35682:return A6;case 35679:case 36299:case 36307:return M6;case 35680:case 36300:case 36308:case 36293:return b6;case 36289:case 36303:case 36311:case 36292:return C6}}class E6{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=a6(t.type)}}class P6{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=T6(t.type)}}class R6{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const dx=/(\w+)(\])?(\[|\.)?/g;function hT(n,e){n.seq.push(e),n.map[e.id]=e}function B6(n,e,t){const i=n.name,r=i.length;for(dx.lastIndex=0;;){const s=dx.exec(i),o=dx.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){hT(t,c===void 0?new E6(a,n,e):new P6(a,n,e));break}else{let h=t.map[a];h===void 0&&(h=new R6(a),hT(t,h)),t=h}}}class cg{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,35718);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);B6(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function pT(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let L6=0;function D6(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function I6(n){switch(n){case ca:return["Linear","( value )"];case Kt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function mT(n,e,t){const i=n.getShaderParameter(e,35713),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+D6(n.getShaderSource(e),o)}else return r}function O6(n,e){const t=I6(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function k6(n,e){let t;switch(e){case AB:t="Linear";break;case MB:t="Reinhard";break;case bB:t="OptimizedCineon";break;case bS:t="ACESFilmic";break;case CB:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function F6(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Gf).join(`
`)}function N6(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function z6(n,e){const t={},i=n.getProgramParameter(e,35721);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Gf(n){return n!==""}function gT(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function vT(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const U6=/^[ \t]*#include +<([\w\d./]+)>/gm;function O1(n){return n.replace(U6,G6)}function G6(n,e){const t=vt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return O1(t)}const H6=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function yT(n){return n.replace(H6,V6)}function V6(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function xT(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function W6(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===L0?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===$f?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===tl&&(e="SHADOWMAP_TYPE_VSM"),e}function j6(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case oa:case aa:e="ENVMAP_TYPE_CUBE";break;case Lu:e="ENVMAP_TYPE_CUBE_UV";break}return e}function J6(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case aa:e="ENVMAP_MODE_REFRACTION";break}return e}function X6(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Zd:e="ENVMAP_BLENDING_MULTIPLY";break;case wB:e="ENVMAP_BLENDING_MIX";break;case SB:e="ENVMAP_BLENDING_ADD";break}return e}function K6(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function Y6(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=W6(t),c=j6(t),d=J6(t),h=X6(t),p=K6(t),m=t.isWebGL2?"":F6(t),y=N6(s),g=r.createProgram();let x,w,_=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(x=[y].filter(Gf).join(`
`),x.length>0&&(x+=`
`),w=[m,y].filter(Gf).join(`
`),w.length>0&&(w+=`
`)):(x=[xT(t),"#define SHADER_NAME "+t.shaderName,y,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Gf).join(`
`),w=[m,xT(t),"#define SHADER_NAME "+t.shaderName,y,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+d:"",t.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Qr?"#define TONE_MAPPING":"",t.toneMapping!==Qr?vt.tonemapping_pars_fragment:"",t.toneMapping!==Qr?k6("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",vt.encodings_pars_fragment,O6("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Gf).join(`
`)),o=O1(o),o=gT(o,t),o=vT(o,t),a=O1(a),a=gT(a,t),a=vT(a,t),o=yT(o),a=yT(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,w=["#define varying in",t.glslVersion===L1?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===L1?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const S=_+x+o,M=_+w+a,T=pT(r,35633,S),E=pT(r,35632,M);if(r.attachShader(g,T),r.attachShader(g,E),t.index0AttributeName!==void 0?r.bindAttribLocation(g,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(g,0,"position"),r.linkProgram(g),n.debug.checkShaderErrors){const R=r.getProgramInfoLog(g).trim(),L=r.getShaderInfoLog(T).trim(),O=r.getShaderInfoLog(E).trim();let V=!0,H=!0;if(r.getProgramParameter(g,35714)===!1){V=!1;const G=mT(r,T,"vertex"),$=mT(r,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(g,35715)+`

Program Info Log: `+R+`
`+G+`
`+$)}else R!==""?console.warn("THREE.WebGLProgram: Program Info Log:",R):(L===""||O==="")&&(H=!1);H&&(this.diagnostics={runnable:V,programLog:R,vertexShader:{log:L,prefix:x},fragmentShader:{log:O,prefix:w}})}r.deleteShader(T),r.deleteShader(E);let B;this.getUniforms=function(){return B===void 0&&(B=new cg(r,g)),B};let C;return this.getAttributes=function(){return C===void 0&&(C=z6(r,g)),C},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(g),this.program=void 0},this.name=t.shaderName,this.id=L6++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=T,this.fragmentShader=E,this}let Q6=0;class q6{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new Z6(e),t.set(e,i)),i}}class Z6{constructor(e){this.id=Q6++,this.code=e,this.usedTimes=0}}function $6(n,e,t,i,r,s,o){const a=new ml,l=new q6,c=[],d=r.isWebGL2,h=r.logarithmicDepthBuffer,p=r.vertexTextures;let m=r.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(C,R,L,O,V){const H=O.fog,G=V.geometry,$=C.isMeshStandardMaterial?O.environment:null,ee=(C.isMeshStandardMaterial?t:e).get(C.envMap||$),oe=ee&&ee.mapping===Lu?ee.image.height:null,k=y[C.type];C.precision!==null&&(m=r.getMaxPrecision(C.precision),m!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",m,"instead."));const K=G.morphAttributes.position||G.morphAttributes.normal||G.morphAttributes.color,J=K!==void 0?K.length:0;let te=0;G.morphAttributes.position!==void 0&&(te=1),G.morphAttributes.normal!==void 0&&(te=2),G.morphAttributes.color!==void 0&&(te=3);let X,ie,ve,q;if(k){const _e=Jr[k];X=_e.vertexShader,ie=_e.fragmentShader}else X=C.vertexShader,ie=C.fragmentShader,l.update(C),ve=l.getVertexShaderID(C),q=l.getFragmentShaderID(C);const we=n.getRenderTarget(),Ae=C.alphaTest>0,De=C.clearcoat>0,Fe=C.iridescence>0;return{isWebGL2:d,shaderID:k,shaderName:C.type,vertexShader:X,fragmentShader:ie,defines:C.defines,customVertexShaderID:ve,customFragmentShaderID:q,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:m,instancing:V.isInstancedMesh===!0,instancingColor:V.isInstancedMesh===!0&&V.instanceColor!==null,supportsVertexTextures:p,outputEncoding:we===null?n.outputEncoding:we.isXRRenderTarget===!0?we.texture.encoding:ca,map:!!C.map,matcap:!!C.matcap,envMap:!!ee,envMapMode:ee&&ee.mapping,envMapCubeUVHeight:oe,lightMap:!!C.lightMap,aoMap:!!C.aoMap,emissiveMap:!!C.emissiveMap,bumpMap:!!C.bumpMap,normalMap:!!C.normalMap,objectSpaceNormalMap:C.normalMapType===KB,tangentSpaceNormalMap:C.normalMapType===va,decodeVideoTexture:!!C.map&&C.map.isVideoTexture===!0&&C.map.encoding===Kt,clearcoat:De,clearcoatMap:De&&!!C.clearcoatMap,clearcoatRoughnessMap:De&&!!C.clearcoatRoughnessMap,clearcoatNormalMap:De&&!!C.clearcoatNormalMap,iridescence:Fe,iridescenceMap:Fe&&!!C.iridescenceMap,iridescenceThicknessMap:Fe&&!!C.iridescenceThicknessMap,displacementMap:!!C.displacementMap,roughnessMap:!!C.roughnessMap,metalnessMap:!!C.metalnessMap,specularMap:!!C.specularMap,specularIntensityMap:!!C.specularIntensityMap,specularColorMap:!!C.specularColorMap,opaque:C.transparent===!1&&C.blending===fl,alphaMap:!!C.alphaMap,alphaTest:Ae,gradientMap:!!C.gradientMap,sheen:C.sheen>0,sheenColorMap:!!C.sheenColorMap,sheenRoughnessMap:!!C.sheenRoughnessMap,transmission:C.transmission>0,transmissionMap:!!C.transmissionMap,thicknessMap:!!C.thicknessMap,combine:C.combine,vertexTangents:!!C.normalMap&&!!G.attributes.tangent,vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!G.attributes.color&&G.attributes.color.itemSize===4,vertexUvs:!!C.map||!!C.bumpMap||!!C.normalMap||!!C.specularMap||!!C.alphaMap||!!C.emissiveMap||!!C.roughnessMap||!!C.metalnessMap||!!C.clearcoatMap||!!C.clearcoatRoughnessMap||!!C.clearcoatNormalMap||!!C.iridescenceMap||!!C.iridescenceThicknessMap||!!C.displacementMap||!!C.transmissionMap||!!C.thicknessMap||!!C.specularIntensityMap||!!C.specularColorMap||!!C.sheenColorMap||!!C.sheenRoughnessMap,uvsVertexOnly:!(C.map||C.bumpMap||C.normalMap||C.specularMap||C.alphaMap||C.emissiveMap||C.roughnessMap||C.metalnessMap||C.clearcoatNormalMap||C.iridescenceMap||C.iridescenceThicknessMap||C.transmission>0||C.transmissionMap||C.thicknessMap||C.specularIntensityMap||C.specularColorMap||C.sheen>0||C.sheenColorMap||C.sheenRoughnessMap)&&!!C.displacementMap,fog:!!H,useFog:C.fog===!0,fogExp2:H&&H.isFogExp2,flatShading:!!C.flatShading,sizeAttenuation:C.sizeAttenuation,logarithmicDepthBuffer:h,skinning:V.isSkinnedMesh===!0,morphTargets:G.morphAttributes.position!==void 0,morphNormals:G.morphAttributes.normal!==void 0,morphColors:G.morphAttributes.color!==void 0,morphTargetsCount:J,morphTextureStride:te,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:C.dithering,shadowMapEnabled:n.shadowMap.enabled&&L.length>0,shadowMapType:n.shadowMap.type,toneMapping:C.toneMapped?n.toneMapping:Qr,useLegacyLights:n.useLegacyLights,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===Xr,flipSided:C.side===ji,useDepthPacking:!!C.depthPacking,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionDerivatives:C.extensions&&C.extensions.derivatives,extensionFragDepth:C.extensions&&C.extensions.fragDepth,extensionDrawBuffers:C.extensions&&C.extensions.drawBuffers,extensionShaderTextureLOD:C.extensions&&C.extensions.shaderTextureLOD,rendererExtensionFragDepth:d||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||i.has("EXT_shader_texture_lod"),customProgramCacheKey:C.customProgramCacheKey()}}function x(C){const R=[];if(C.shaderID?R.push(C.shaderID):(R.push(C.customVertexShaderID),R.push(C.customFragmentShaderID)),C.defines!==void 0)for(const L in C.defines)R.push(L),R.push(C.defines[L]);return C.isRawShaderMaterial===!1&&(w(R,C),_(R,C),R.push(n.outputEncoding)),R.push(C.customProgramCacheKey),R.join()}function w(C,R){C.push(R.precision),C.push(R.outputEncoding),C.push(R.envMapMode),C.push(R.envMapCubeUVHeight),C.push(R.combine),C.push(R.vertexUvs),C.push(R.fogExp2),C.push(R.sizeAttenuation),C.push(R.morphTargetsCount),C.push(R.morphAttributeCount),C.push(R.numDirLights),C.push(R.numPointLights),C.push(R.numSpotLights),C.push(R.numSpotLightMaps),C.push(R.numHemiLights),C.push(R.numRectAreaLights),C.push(R.numDirLightShadows),C.push(R.numPointLightShadows),C.push(R.numSpotLightShadows),C.push(R.numSpotLightShadowsWithMaps),C.push(R.shadowMapType),C.push(R.toneMapping),C.push(R.numClippingPlanes),C.push(R.numClipIntersection),C.push(R.depthPacking)}function _(C,R){a.disableAll(),R.isWebGL2&&a.enable(0),R.supportsVertexTextures&&a.enable(1),R.instancing&&a.enable(2),R.instancingColor&&a.enable(3),R.map&&a.enable(4),R.matcap&&a.enable(5),R.envMap&&a.enable(6),R.lightMap&&a.enable(7),R.aoMap&&a.enable(8),R.emissiveMap&&a.enable(9),R.bumpMap&&a.enable(10),R.normalMap&&a.enable(11),R.objectSpaceNormalMap&&a.enable(12),R.tangentSpaceNormalMap&&a.enable(13),R.clearcoat&&a.enable(14),R.clearcoatMap&&a.enable(15),R.clearcoatRoughnessMap&&a.enable(16),R.clearcoatNormalMap&&a.enable(17),R.iridescence&&a.enable(18),R.iridescenceMap&&a.enable(19),R.iridescenceThicknessMap&&a.enable(20),R.displacementMap&&a.enable(21),R.specularMap&&a.enable(22),R.roughnessMap&&a.enable(23),R.metalnessMap&&a.enable(24),R.gradientMap&&a.enable(25),R.alphaMap&&a.enable(26),R.alphaTest&&a.enable(27),R.vertexColors&&a.enable(28),R.vertexAlphas&&a.enable(29),R.vertexUvs&&a.enable(30),R.vertexTangents&&a.enable(31),R.uvsVertexOnly&&a.enable(32),C.push(a.mask),a.disableAll(),R.fog&&a.enable(0),R.useFog&&a.enable(1),R.flatShading&&a.enable(2),R.logarithmicDepthBuffer&&a.enable(3),R.skinning&&a.enable(4),R.morphTargets&&a.enable(5),R.morphNormals&&a.enable(6),R.morphColors&&a.enable(7),R.premultipliedAlpha&&a.enable(8),R.shadowMapEnabled&&a.enable(9),R.useLegacyLights&&a.enable(10),R.doubleSided&&a.enable(11),R.flipSided&&a.enable(12),R.useDepthPacking&&a.enable(13),R.dithering&&a.enable(14),R.specularIntensityMap&&a.enable(15),R.specularColorMap&&a.enable(16),R.transmission&&a.enable(17),R.transmissionMap&&a.enable(18),R.thicknessMap&&a.enable(19),R.sheen&&a.enable(20),R.sheenColorMap&&a.enable(21),R.sheenRoughnessMap&&a.enable(22),R.decodeVideoTexture&&a.enable(23),R.opaque&&a.enable(24),C.push(a.mask)}function S(C){const R=y[C.type];let L;if(R){const O=Jr[R];L=nL.clone(O.uniforms)}else L=C.uniforms;return L}function M(C,R){let L;for(let O=0,V=c.length;O<V;O++){const H=c[O];if(H.cacheKey===R){L=H,++L.usedTimes;break}}return L===void 0&&(L=new Y6(n,R,C,s),c.push(L)),L}function T(C){if(--C.usedTimes===0){const R=c.indexOf(C);c[R]=c[c.length-1],c.pop(),C.destroy()}}function E(C){l.remove(C)}function B(){l.dispose()}return{getParameters:g,getProgramCacheKey:x,getUniforms:S,acquireProgram:M,releaseProgram:T,releaseShaderCache:E,programs:c,dispose:B}}function e8(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function t8(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function _T(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function wT(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(h,p,m,y,g,x){let w=n[e];return w===void 0?(w={id:h.id,object:h,geometry:p,material:m,groupOrder:y,renderOrder:h.renderOrder,z:g,group:x},n[e]=w):(w.id=h.id,w.object=h,w.geometry=p,w.material=m,w.groupOrder=y,w.renderOrder=h.renderOrder,w.z=g,w.group=x),e++,w}function a(h,p,m,y,g,x){const w=o(h,p,m,y,g,x);m.transmission>0?i.push(w):m.transparent===!0?r.push(w):t.push(w)}function l(h,p,m,y,g,x){const w=o(h,p,m,y,g,x);m.transmission>0?i.unshift(w):m.transparent===!0?r.unshift(w):t.unshift(w)}function c(h,p){t.length>1&&t.sort(h||t8),i.length>1&&i.sort(p||_T),r.length>1&&r.sort(p||_T)}function d(){for(let h=e,p=n.length;h<p;h++){const m=n[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:d,sort:c}}function n8(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new wT,n.set(i,[o])):r>=s.length?(o=new wT,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function i8(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new I,color:new Oe};break;case"SpotLight":t={position:new I,direction:new I,color:new Oe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new I,color:new Oe,distance:0,decay:0};break;case"HemisphereLight":t={direction:new I,skyColor:new Oe,groundColor:new Oe};break;case"RectAreaLight":t={color:new Oe,position:new I,halfWidth:new I,halfHeight:new I};break}return n[e.id]=t,t}}}function r8(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let s8=0;function o8(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function a8(n,e){const t=new i8,i=r8(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let d=0;d<9;d++)r.probe.push(new I);const s=new I,o=new ct,a=new ct;function l(d,h){let p=0,m=0,y=0;for(let O=0;O<9;O++)r.probe[O].set(0,0,0);let g=0,x=0,w=0,_=0,S=0,M=0,T=0,E=0,B=0,C=0;d.sort(o8);const R=h===!0?Math.PI:1;for(let O=0,V=d.length;O<V;O++){const H=d[O],G=H.color,$=H.intensity,ee=H.distance,oe=H.shadow&&H.shadow.map?H.shadow.map.texture:null;if(H.isAmbientLight)p+=G.r*$*R,m+=G.g*$*R,y+=G.b*$*R;else if(H.isLightProbe)for(let k=0;k<9;k++)r.probe[k].addScaledVector(H.sh.coefficients[k],$);else if(H.isDirectionalLight){const k=t.get(H);if(k.color.copy(H.color).multiplyScalar(H.intensity*R),H.castShadow){const K=H.shadow,J=i.get(H);J.shadowBias=K.bias,J.shadowNormalBias=K.normalBias,J.shadowRadius=K.radius,J.shadowMapSize=K.mapSize,r.directionalShadow[g]=J,r.directionalShadowMap[g]=oe,r.directionalShadowMatrix[g]=H.shadow.matrix,M++}r.directional[g]=k,g++}else if(H.isSpotLight){const k=t.get(H);k.position.setFromMatrixPosition(H.matrixWorld),k.color.copy(G).multiplyScalar($*R),k.distance=ee,k.coneCos=Math.cos(H.angle),k.penumbraCos=Math.cos(H.angle*(1-H.penumbra)),k.decay=H.decay,r.spot[w]=k;const K=H.shadow;if(H.map&&(r.spotLightMap[B]=H.map,B++,K.updateMatrices(H),H.castShadow&&C++),r.spotLightMatrix[w]=K.matrix,H.castShadow){const J=i.get(H);J.shadowBias=K.bias,J.shadowNormalBias=K.normalBias,J.shadowRadius=K.radius,J.shadowMapSize=K.mapSize,r.spotShadow[w]=J,r.spotShadowMap[w]=oe,E++}w++}else if(H.isRectAreaLight){const k=t.get(H);k.color.copy(G).multiplyScalar($),k.halfWidth.set(H.width*.5,0,0),k.halfHeight.set(0,H.height*.5,0),r.rectArea[_]=k,_++}else if(H.isPointLight){const k=t.get(H);if(k.color.copy(H.color).multiplyScalar(H.intensity*R),k.distance=H.distance,k.decay=H.decay,H.castShadow){const K=H.shadow,J=i.get(H);J.shadowBias=K.bias,J.shadowNormalBias=K.normalBias,J.shadowRadius=K.radius,J.shadowMapSize=K.mapSize,J.shadowCameraNear=K.camera.near,J.shadowCameraFar=K.camera.far,r.pointShadow[x]=J,r.pointShadowMap[x]=oe,r.pointShadowMatrix[x]=H.shadow.matrix,T++}r.point[x]=k,x++}else if(H.isHemisphereLight){const k=t.get(H);k.skyColor.copy(H.color).multiplyScalar($*R),k.groundColor.copy(H.groundColor).multiplyScalar($*R),r.hemi[S]=k,S++}}_>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Be.LTC_FLOAT_1,r.rectAreaLTC2=Be.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Be.LTC_HALF_1,r.rectAreaLTC2=Be.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=m,r.ambient[2]=y;const L=r.hash;(L.directionalLength!==g||L.pointLength!==x||L.spotLength!==w||L.rectAreaLength!==_||L.hemiLength!==S||L.numDirectionalShadows!==M||L.numPointShadows!==T||L.numSpotShadows!==E||L.numSpotMaps!==B)&&(r.directional.length=g,r.spot.length=w,r.rectArea.length=_,r.point.length=x,r.hemi.length=S,r.directionalShadow.length=M,r.directionalShadowMap.length=M,r.pointShadow.length=T,r.pointShadowMap.length=T,r.spotShadow.length=E,r.spotShadowMap.length=E,r.directionalShadowMatrix.length=M,r.pointShadowMatrix.length=T,r.spotLightMatrix.length=E+B-C,r.spotLightMap.length=B,r.numSpotLightShadowsWithMaps=C,L.directionalLength=g,L.pointLength=x,L.spotLength=w,L.rectAreaLength=_,L.hemiLength=S,L.numDirectionalShadows=M,L.numPointShadows=T,L.numSpotShadows=E,L.numSpotMaps=B,r.version=s8++)}function c(d,h){let p=0,m=0,y=0,g=0,x=0;const w=h.matrixWorldInverse;for(let _=0,S=d.length;_<S;_++){const M=d[_];if(M.isDirectionalLight){const T=r.directional[p];T.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(w),p++}else if(M.isSpotLight){const T=r.spot[y];T.position.setFromMatrixPosition(M.matrixWorld),T.position.applyMatrix4(w),T.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(w),y++}else if(M.isRectAreaLight){const T=r.rectArea[g];T.position.setFromMatrixPosition(M.matrixWorld),T.position.applyMatrix4(w),a.identity(),o.copy(M.matrixWorld),o.premultiply(w),a.extractRotation(o),T.halfWidth.set(M.width*.5,0,0),T.halfHeight.set(0,M.height*.5,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),g++}else if(M.isPointLight){const T=r.point[m];T.position.setFromMatrixPosition(M.matrixWorld),T.position.applyMatrix4(w),m++}else if(M.isHemisphereLight){const T=r.hemi[x];T.direction.setFromMatrixPosition(M.matrixWorld),T.direction.transformDirection(w),x++}}}return{setup:l,setupView:c,state:r}}function ST(n,e){const t=new a8(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(h){i.push(h)}function a(h){r.push(h)}function l(h){t.setup(i,h)}function c(h){t.setupView(i,h)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function l8(n,e){let t=new WeakMap;function i(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new ST(n,e),t.set(s,[l])):o>=a.length?(l=new ST(n,e),a.push(l)):l=a[o],l}function r(){t=new WeakMap}return{get:i,dispose:r}}class NS extends Fn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=JB,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class zS extends Fn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new I,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const c8=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,u8=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function f8(n,e,t){let i=new F0;const r=new pe,s=new pe,o=new Vt,a=new NS({depthPacking:XB}),l=new zS,c={},d=t.maxTextureSize,h={[ws]:ji,[ji]:ws,[Xr]:Xr},p=new As({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new pe},radius:{value:4}},vertexShader:c8,fragmentShader:u8}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const y=new ht;y.setAttribute("position",new Ft(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new Yn(y,p),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=L0,this.render=function(M,T,E){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||M.length===0)return;const B=n.getRenderTarget(),C=n.getActiveCubeFace(),R=n.getActiveMipmapLevel(),L=n.state;L.setBlending(Zs),L.buffers.color.setClear(1,1,1,1),L.buffers.depth.setTest(!0),L.setScissorTest(!1);for(let O=0,V=M.length;O<V;O++){const H=M[O],G=H.shadow;if(G===void 0){console.warn("THREE.WebGLShadowMap:",H,"has no shadow.");continue}if(G.autoUpdate===!1&&G.needsUpdate===!1)continue;r.copy(G.mapSize);const $=G.getFrameExtents();if(r.multiply($),s.copy(G.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(s.x=Math.floor(d/$.x),r.x=s.x*$.x,G.mapSize.x=s.x),r.y>d&&(s.y=Math.floor(d/$.y),r.y=s.y*$.y,G.mapSize.y=s.y)),G.map===null){const oe=this.type!==tl?{minFilter:An,magFilter:An}:{};G.map=new $r(r.x,r.y,oe),G.map.texture.name=H.name+".shadowMap",G.camera.updateProjectionMatrix()}n.setRenderTarget(G.map),n.clear();const ee=G.getViewportCount();for(let oe=0;oe<ee;oe++){const k=G.getViewport(oe);o.set(s.x*k.x,s.y*k.y,s.x*k.z,s.y*k.w),L.viewport(o),G.updateMatrices(H,oe),i=G.getFrustum(),S(T,E,G.camera,H,this.type)}G.isPointLightShadow!==!0&&this.type===tl&&w(G,E),G.needsUpdate=!1}x.needsUpdate=!1,n.setRenderTarget(B,C,R)};function w(M,T){const E=e.update(g);p.defines.VSM_SAMPLES!==M.blurSamples&&(p.defines.VSM_SAMPLES=M.blurSamples,m.defines.VSM_SAMPLES=M.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new $r(r.x,r.y)),p.uniforms.shadow_pass.value=M.map.texture,p.uniforms.resolution.value=M.mapSize,p.uniforms.radius.value=M.radius,n.setRenderTarget(M.mapPass),n.clear(),n.renderBufferDirect(T,null,E,p,g,null),m.uniforms.shadow_pass.value=M.mapPass.texture,m.uniforms.resolution.value=M.mapSize,m.uniforms.radius.value=M.radius,n.setRenderTarget(M.map),n.clear(),n.renderBufferDirect(T,null,E,m,g,null)}function _(M,T,E,B,C,R){let L=null;const O=E.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(O!==void 0)L=O;else if(L=E.isPointLight===!0?l:a,n.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0){const V=L.uuid,H=T.uuid;let G=c[V];G===void 0&&(G={},c[V]=G);let $=G[H];$===void 0&&($=L.clone(),G[H]=$),L=$}return L.visible=T.visible,L.wireframe=T.wireframe,R===tl?L.side=T.shadowSide!==null?T.shadowSide:T.side:L.side=T.shadowSide!==null?T.shadowSide:h[T.side],L.alphaMap=T.alphaMap,L.alphaTest=T.alphaTest,L.map=T.map,L.clipShadows=T.clipShadows,L.clippingPlanes=T.clippingPlanes,L.clipIntersection=T.clipIntersection,L.displacementMap=T.displacementMap,L.displacementScale=T.displacementScale,L.displacementBias=T.displacementBias,L.wireframeLinewidth=T.wireframeLinewidth,L.linewidth=T.linewidth,E.isPointLight===!0&&L.isMeshDistanceMaterial===!0&&(L.referencePosition.setFromMatrixPosition(E.matrixWorld),L.nearDistance=B,L.farDistance=C),L}function S(M,T,E,B,C){if(M.visible===!1)return;if(M.layers.test(T.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&C===tl)&&(!M.frustumCulled||i.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(E.matrixWorldInverse,M.matrixWorld);const O=e.update(M),V=M.material;if(Array.isArray(V)){const H=O.groups;for(let G=0,$=H.length;G<$;G++){const ee=H[G],oe=V[ee.materialIndex];if(oe&&oe.visible){const k=_(M,oe,B,E.near,E.far,C);n.renderBufferDirect(E,null,O,k,M,ee)}}}else if(V.visible){const H=_(M,V,B,E.near,E.far,C);n.renderBufferDirect(E,null,O,H,M,null)}}const L=M.children;for(let O=0,V=L.length;O<V;O++)S(L[O],T,E,B,C)}}function d8(n,e,t){const i=t.isWebGL2;function r(){let j=!1;const le=new Vt;let xe=null;const Le=new Vt(0,0,0,0);return{setMask:function(je){xe!==je&&!j&&(n.colorMask(je,je,je,je),xe=je)},setLocked:function(je){j=je},setClear:function(je,Nt,zt,jt,Nn){Nn===!0&&(je*=jt,Nt*=jt,zt*=jt),le.set(je,Nt,zt,jt),Le.equals(le)===!1&&(n.clearColor(je,Nt,zt,jt),Le.copy(le))},reset:function(){j=!1,xe=null,Le.set(-1,0,0,0)}}}function s(){let j=!1,le=null,xe=null,Le=null;return{setTest:function(je){je?Ae(2929):De(2929)},setMask:function(je){le!==je&&!j&&(n.depthMask(je),le=je)},setFunc:function(je){if(xe!==je){switch(je){case pB:n.depthFunc(512);break;case mB:n.depthFunc(519);break;case gB:n.depthFunc(513);break;case Gg:n.depthFunc(515);break;case vB:n.depthFunc(514);break;case yB:n.depthFunc(518);break;case xB:n.depthFunc(516);break;case _B:n.depthFunc(517);break;default:n.depthFunc(515)}xe=je}},setLocked:function(je){j=je},setClear:function(je){Le!==je&&(n.clearDepth(je),Le=je)},reset:function(){j=!1,le=null,xe=null,Le=null}}}function o(){let j=!1,le=null,xe=null,Le=null,je=null,Nt=null,zt=null,jt=null,Nn=null;return{setTest:function(Ut){j||(Ut?Ae(2960):De(2960))},setMask:function(Ut){le!==Ut&&!j&&(n.stencilMask(Ut),le=Ut)},setFunc:function(Ut,bn,Zn){(xe!==Ut||Le!==bn||je!==Zn)&&(n.stencilFunc(Ut,bn,Zn),xe=Ut,Le=bn,je=Zn)},setOp:function(Ut,bn,Zn){(Nt!==Ut||zt!==bn||jt!==Zn)&&(n.stencilOp(Ut,bn,Zn),Nt=Ut,zt=bn,jt=Zn)},setLocked:function(Ut){j=Ut},setClear:function(Ut){Nn!==Ut&&(n.clearStencil(Ut),Nn=Ut)},reset:function(){j=!1,le=null,xe=null,Le=null,je=null,Nt=null,zt=null,jt=null,Nn=null}}}const a=new r,l=new s,c=new o,d=new WeakMap,h=new WeakMap;let p={},m={},y=new WeakMap,g=[],x=null,w=!1,_=null,S=null,M=null,T=null,E=null,B=null,C=null,R=!1,L=null,O=null,V=null,H=null,G=null;const $=n.getParameter(35661);let ee=!1,oe=0;const k=n.getParameter(7938);k.indexOf("WebGL")!==-1?(oe=parseFloat(/^WebGL (\d)/.exec(k)[1]),ee=oe>=1):k.indexOf("OpenGL ES")!==-1&&(oe=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),ee=oe>=2);let K=null,J={};const te=n.getParameter(3088),X=n.getParameter(2978),ie=new Vt().fromArray(te),ve=new Vt().fromArray(X);function q(j,le,xe){const Le=new Uint8Array(4),je=n.createTexture();n.bindTexture(j,je),n.texParameteri(j,10241,9728),n.texParameteri(j,10240,9728);for(let Nt=0;Nt<xe;Nt++)n.texImage2D(le+Nt,0,6408,1,1,0,6408,5121,Le);return je}const we={};we[3553]=q(3553,3553,1),we[34067]=q(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Ae(2929),l.setFunc(Gg),Re(!1),Ye(i1),Ae(2884),Me(Zs);function Ae(j){p[j]!==!0&&(n.enable(j),p[j]=!0)}function De(j){p[j]!==!1&&(n.disable(j),p[j]=!1)}function Fe(j,le){return m[j]!==le?(n.bindFramebuffer(j,le),m[j]=le,i&&(j===36009&&(m[36160]=le),j===36160&&(m[36009]=le)),!0):!1}function Ee(j,le){let xe=g,Le=!1;if(j)if(xe=y.get(le),xe===void 0&&(xe=[],y.set(le,xe)),j.isWebGLMultipleRenderTargets){const je=j.texture;if(xe.length!==je.length||xe[0]!==36064){for(let Nt=0,zt=je.length;Nt<zt;Nt++)xe[Nt]=36064+Nt;xe.length=je.length,Le=!0}}else xe[0]!==36064&&(xe[0]=36064,Le=!0);else xe[0]!==1029&&(xe[0]=1029,Le=!0);Le&&(t.isWebGL2?n.drawBuffers(xe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(xe))}function _e(j){return x!==j?(n.useProgram(j),x=j,!0):!1}const de={[Qa]:32774,[iB]:32778,[rB]:32779};if(i)de[a1]=32775,de[l1]=32776;else{const j=e.get("EXT_blend_minmax");j!==null&&(de[a1]=j.MIN_EXT,de[l1]=j.MAX_EXT)}const he={[sB]:0,[oB]:1,[aB]:768,[AS]:770,[hB]:776,[fB]:774,[cB]:772,[lB]:769,[MS]:771,[dB]:775,[uB]:773};function Me(j,le,xe,Le,je,Nt,zt,jt){if(j===Zs){w===!0&&(De(3042),w=!1);return}if(w===!1&&(Ae(3042),w=!0),j!==nB){if(j!==_||jt!==R){if((S!==Qa||E!==Qa)&&(n.blendEquation(32774),S=Qa,E=Qa),jt)switch(j){case fl:n.blendFuncSeparate(1,771,1,771);break;case r1:n.blendFunc(1,1);break;case s1:n.blendFuncSeparate(0,769,0,1);break;case o1:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",j);break}else switch(j){case fl:n.blendFuncSeparate(770,771,1,771);break;case r1:n.blendFunc(770,1);break;case s1:n.blendFuncSeparate(0,769,0,1);break;case o1:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",j);break}M=null,T=null,B=null,C=null,_=j,R=jt}return}je=je||le,Nt=Nt||xe,zt=zt||Le,(le!==S||je!==E)&&(n.blendEquationSeparate(de[le],de[je]),S=le,E=je),(xe!==M||Le!==T||Nt!==B||zt!==C)&&(n.blendFuncSeparate(he[xe],he[Le],he[Nt],he[zt]),M=xe,T=Le,B=Nt,C=zt),_=j,R=!1}function Ve(j,le){j.side===Xr?De(2884):Ae(2884);let xe=j.side===ji;le&&(xe=!xe),Re(xe),j.blending===fl&&j.transparent===!1?Me(Zs):Me(j.blending,j.blendEquation,j.blendSrc,j.blendDst,j.blendEquationAlpha,j.blendSrcAlpha,j.blendDstAlpha,j.premultipliedAlpha),l.setFunc(j.depthFunc),l.setTest(j.depthTest),l.setMask(j.depthWrite),a.setMask(j.colorWrite);const Le=j.stencilWrite;c.setTest(Le),Le&&(c.setMask(j.stencilWriteMask),c.setFunc(j.stencilFunc,j.stencilRef,j.stencilFuncMask),c.setOp(j.stencilFail,j.stencilZFail,j.stencilZPass)),et(j.polygonOffset,j.polygonOffsetFactor,j.polygonOffsetUnits),j.alphaToCoverage===!0?Ae(32926):De(32926)}function Re(j){L!==j&&(j?n.frontFace(2304):n.frontFace(2305),L=j)}function Ye(j){j!==$R?(Ae(2884),j!==O&&(j===i1?n.cullFace(1029):j===eB?n.cullFace(1028):n.cullFace(1032))):De(2884),O=j}function Ke(j){j!==V&&(ee&&n.lineWidth(j),V=j)}function et(j,le,xe){j?(Ae(32823),(H!==le||G!==xe)&&(n.polygonOffset(le,xe),H=le,G=xe)):De(32823)}function wt(j){j?Ae(3089):De(3089)}function Et(j){j===void 0&&(j=33984+$-1),K!==j&&(n.activeTexture(j),K=j)}function U(j,le,xe){xe===void 0&&(K===null?xe=33984+$-1:xe=K);let Le=J[xe];Le===void 0&&(Le={type:void 0,texture:void 0},J[xe]=Le),(Le.type!==j||Le.texture!==le)&&(K!==xe&&(n.activeTexture(xe),K=xe),n.bindTexture(j,le||we[j]),Le.type=j,Le.texture=le)}function D(){const j=J[K];j!==void 0&&j.type!==void 0&&(n.bindTexture(j.type,null),j.type=void 0,j.texture=void 0)}function ae(){try{n.compressedTexImage2D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function be(){try{n.compressedTexImage3D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Ce(){try{n.texSubImage2D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Pe(){try{n.texSubImage3D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Qe(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Ue(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function ge(){try{n.texStorage2D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function tt(){try{n.texStorage3D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Je(){try{n.texImage2D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function ot(){try{n.texImage3D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function nt(j){ie.equals(j)===!1&&(n.scissor(j.x,j.y,j.z,j.w),ie.copy(j))}function qe(j){ve.equals(j)===!1&&(n.viewport(j.x,j.y,j.z,j.w),ve.copy(j))}function Y(j,le){let xe=h.get(le);xe===void 0&&(xe=new WeakMap,h.set(le,xe));let Le=xe.get(j);Le===void 0&&(Le=n.getUniformBlockIndex(le,j.name),xe.set(j,Le))}function ye(j,le){const Le=h.get(le).get(j);d.get(le)!==Le&&(n.uniformBlockBinding(le,Le,j.__bindingPointIndex),d.set(le,Le))}function Ge(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),i===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},K=null,J={},m={},y=new WeakMap,g=[],x=null,w=!1,_=null,S=null,M=null,T=null,E=null,B=null,C=null,R=!1,L=null,O=null,V=null,H=null,G=null,ie.set(0,0,n.canvas.width,n.canvas.height),ve.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:Ae,disable:De,bindFramebuffer:Fe,drawBuffers:Ee,useProgram:_e,setBlending:Me,setMaterial:Ve,setFlipSided:Re,setCullFace:Ye,setLineWidth:Ke,setPolygonOffset:et,setScissorTest:wt,activeTexture:Et,bindTexture:U,unbindTexture:D,compressedTexImage2D:ae,compressedTexImage3D:be,texImage2D:Je,texImage3D:ot,updateUBOMapping:Y,uniformBlockBinding:ye,texStorage2D:ge,texStorage3D:tt,texSubImage2D:Ce,texSubImage3D:Pe,compressedTexSubImage2D:Qe,compressedTexSubImage3D:Ue,scissor:nt,viewport:qe,reset:Ge}}function h8(n,e,t,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,d=r.maxTextureSize,h=r.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let g;const x=new WeakMap;let w=!1;try{w=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(U,D){return w?new OffscreenCanvas(U,D):Ld("canvas")}function S(U,D,ae,be){let Ce=1;if((U.width>be||U.height>be)&&(Ce=be/Math.max(U.width,U.height)),Ce<1||D===!0)if(typeof HTMLImageElement<"u"&&U instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&U instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&U instanceof ImageBitmap){const Pe=D?qB:Math.floor,Qe=Pe(Ce*U.width),Ue=Pe(Ce*U.height);g===void 0&&(g=_(Qe,Ue));const ge=ae?_(Qe,Ue):g;return ge.width=Qe,ge.height=Ue,ge.getContext("2d").drawImage(U,0,0,Qe,Ue),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+U.width+"x"+U.height+") to ("+Qe+"x"+Ue+")."),ge}else return"data"in U&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+U.width+"x"+U.height+")."),U;return U}function M(U){return D1(U.width)&&D1(U.height)}function T(U){return a?!1:U.wrapS!==ni||U.wrapT!==ni||U.minFilter!==An&&U.minFilter!==fn}function E(U,D){return U.generateMipmaps&&D&&U.minFilter!==An&&U.minFilter!==fn}function B(U){n.generateMipmap(U)}function C(U,D,ae,be,Ce=!1){if(a===!1)return D;if(U!==null){if(n[U]!==void 0)return n[U];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+U+"'")}let Pe=D;return D===6403&&(ae===5126&&(Pe=33326),ae===5131&&(Pe=33325),ae===5121&&(Pe=33321)),D===33319&&(ae===5126&&(Pe=33328),ae===5131&&(Pe=33327),ae===5121&&(Pe=33323)),D===6408&&(ae===5126&&(Pe=34836),ae===5131&&(Pe=34842),ae===5121&&(Pe=be===Kt&&Ce===!1?35907:32856),ae===32819&&(Pe=32854),ae===32820&&(Pe=32855)),(Pe===33325||Pe===33326||Pe===33327||Pe===33328||Pe===34842||Pe===34836)&&e.get("EXT_color_buffer_float"),Pe}function R(U,D,ae){return E(U,ae)===!0||U.isFramebufferTexture&&U.minFilter!==An&&U.minFilter!==fn?Math.log2(Math.max(D.width,D.height))+1:U.mipmaps!==void 0&&U.mipmaps.length>0?U.mipmaps.length:U.isCompressedTexture&&Array.isArray(U.image)?D.mipmaps.length:1}function L(U){return U===An||U===Ed||U===$c?9728:9729}function O(U){const D=U.target;D.removeEventListener("dispose",O),H(D),D.isVideoTexture&&y.delete(D)}function V(U){const D=U.target;D.removeEventListener("dispose",V),$(D)}function H(U){const D=i.get(U);if(D.__webglInit===void 0)return;const ae=U.source,be=x.get(ae);if(be){const Ce=be[D.__cacheKey];Ce.usedTimes--,Ce.usedTimes===0&&G(U),Object.keys(be).length===0&&x.delete(ae)}i.remove(U)}function G(U){const D=i.get(U);n.deleteTexture(D.__webglTexture);const ae=U.source,be=x.get(ae);delete be[D.__cacheKey],o.memory.textures--}function $(U){const D=U.texture,ae=i.get(U),be=i.get(D);if(be.__webglTexture!==void 0&&(n.deleteTexture(be.__webglTexture),o.memory.textures--),U.depthTexture&&U.depthTexture.dispose(),U.isWebGLCubeRenderTarget)for(let Ce=0;Ce<6;Ce++)n.deleteFramebuffer(ae.__webglFramebuffer[Ce]),ae.__webglDepthbuffer&&n.deleteRenderbuffer(ae.__webglDepthbuffer[Ce]);else{if(n.deleteFramebuffer(ae.__webglFramebuffer),ae.__webglDepthbuffer&&n.deleteRenderbuffer(ae.__webglDepthbuffer),ae.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ae.__webglMultisampledFramebuffer),ae.__webglColorRenderbuffer)for(let Ce=0;Ce<ae.__webglColorRenderbuffer.length;Ce++)ae.__webglColorRenderbuffer[Ce]&&n.deleteRenderbuffer(ae.__webglColorRenderbuffer[Ce]);ae.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ae.__webglDepthRenderbuffer)}if(U.isWebGLMultipleRenderTargets)for(let Ce=0,Pe=D.length;Ce<Pe;Ce++){const Qe=i.get(D[Ce]);Qe.__webglTexture&&(n.deleteTexture(Qe.__webglTexture),o.memory.textures--),i.remove(D[Ce])}i.remove(D),i.remove(U)}let ee=0;function oe(){ee=0}function k(){const U=ee;return U>=l&&console.warn("THREE.WebGLTextures: Trying to use "+U+" texture units while this GPU supports only "+l),ee+=1,U}function K(U){const D=[];return D.push(U.wrapS),D.push(U.wrapT),D.push(U.wrapR||0),D.push(U.magFilter),D.push(U.minFilter),D.push(U.anisotropy),D.push(U.internalFormat),D.push(U.format),D.push(U.type),D.push(U.generateMipmaps),D.push(U.premultiplyAlpha),D.push(U.flipY),D.push(U.unpackAlignment),D.push(U.encoding),D.join()}function J(U,D){const ae=i.get(U);if(U.isVideoTexture&&wt(U),U.isRenderTargetTexture===!1&&U.version>0&&ae.__version!==U.version){const be=U.image;if(be===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(be.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{De(ae,U,D);return}}t.bindTexture(3553,ae.__webglTexture,33984+D)}function te(U,D){const ae=i.get(U);if(U.version>0&&ae.__version!==U.version){De(ae,U,D);return}t.bindTexture(35866,ae.__webglTexture,33984+D)}function X(U,D){const ae=i.get(U);if(U.version>0&&ae.__version!==U.version){De(ae,U,D);return}t.bindTexture(32879,ae.__webglTexture,33984+D)}function ie(U,D){const ae=i.get(U);if(U.version>0&&ae.__version!==U.version){Fe(ae,U,D);return}t.bindTexture(34067,ae.__webglTexture,33984+D)}const ve={[la]:10497,[ni]:33071,[hu]:33648},q={[An]:9728,[Ed]:9984,[$c]:9986,[fn]:9729,[I0]:9985,[Ss]:9987};function we(U,D,ae){if(ae?(n.texParameteri(U,10242,ve[D.wrapS]),n.texParameteri(U,10243,ve[D.wrapT]),(U===32879||U===35866)&&n.texParameteri(U,32882,ve[D.wrapR]),n.texParameteri(U,10240,q[D.magFilter]),n.texParameteri(U,10241,q[D.minFilter])):(n.texParameteri(U,10242,33071),n.texParameteri(U,10243,33071),(U===32879||U===35866)&&n.texParameteri(U,32882,33071),(D.wrapS!==ni||D.wrapT!==ni)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(U,10240,L(D.magFilter)),n.texParameteri(U,10241,L(D.minFilter)),D.minFilter!==An&&D.minFilter!==fn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const be=e.get("EXT_texture_filter_anisotropic");if(D.magFilter===An||D.minFilter!==$c&&D.minFilter!==Ss||D.type===Js&&e.has("OES_texture_float_linear")===!1||a===!1&&D.type===pu&&e.has("OES_texture_half_float_linear")===!1)return;(D.anisotropy>1||i.get(D).__currentAnisotropy)&&(n.texParameterf(U,be.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(D.anisotropy,r.getMaxAnisotropy())),i.get(D).__currentAnisotropy=D.anisotropy)}}function Ae(U,D){let ae=!1;U.__webglInit===void 0&&(U.__webglInit=!0,D.addEventListener("dispose",O));const be=D.source;let Ce=x.get(be);Ce===void 0&&(Ce={},x.set(be,Ce));const Pe=K(D);if(Pe!==U.__cacheKey){Ce[Pe]===void 0&&(Ce[Pe]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ae=!0),Ce[Pe].usedTimes++;const Qe=Ce[U.__cacheKey];Qe!==void 0&&(Ce[U.__cacheKey].usedTimes--,Qe.usedTimes===0&&G(D)),U.__cacheKey=Pe,U.__webglTexture=Ce[Pe].texture}return ae}function De(U,D,ae){let be=3553;(D.isDataArrayTexture||D.isCompressedArrayTexture)&&(be=35866),D.isData3DTexture&&(be=32879);const Ce=Ae(U,D),Pe=D.source;t.bindTexture(be,U.__webglTexture,33984+ae);const Qe=i.get(Pe);if(Pe.version!==Qe.__version||Ce===!0){t.activeTexture(33984+ae),n.pixelStorei(37440,D.flipY),n.pixelStorei(37441,D.premultiplyAlpha),n.pixelStorei(3317,D.unpackAlignment),n.pixelStorei(37443,0);const Ue=T(D)&&M(D.image)===!1;let ge=S(D.image,Ue,!1,d);ge=Et(D,ge);const tt=M(ge)||a,Je=s.convert(D.format,D.encoding);let ot=s.convert(D.type),nt=C(D.internalFormat,Je,ot,D.encoding,D.isVideoTexture);we(be,D,tt);let qe;const Y=D.mipmaps,ye=a&&D.isVideoTexture!==!0,Ge=Qe.__version===void 0||Ce===!0,j=R(D,ge,tt);if(D.isDepthTexture)nt=6402,a?D.type===Js?nt=36012:D.type===Ho?nt=33190:D.type===dl?nt=35056:nt=33189:D.type===Js&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),D.format===$o&&nt===6402&&D.type!==CS&&D.type!==Ho&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),D.type=Ho,ot=s.convert(D.type)),D.format===Al&&nt===6402&&(nt=34041,D.type!==dl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),D.type=dl,ot=s.convert(D.type))),Ge&&(ye?t.texStorage2D(3553,1,nt,ge.width,ge.height):t.texImage2D(3553,0,nt,ge.width,ge.height,0,Je,ot,null));else if(D.isDataTexture)if(Y.length>0&&tt){ye&&Ge&&t.texStorage2D(3553,j,nt,Y[0].width,Y[0].height);for(let le=0,xe=Y.length;le<xe;le++)qe=Y[le],ye?t.texSubImage2D(3553,le,0,0,qe.width,qe.height,Je,ot,qe.data):t.texImage2D(3553,le,nt,qe.width,qe.height,0,Je,ot,qe.data);D.generateMipmaps=!1}else ye?(Ge&&t.texStorage2D(3553,j,nt,ge.width,ge.height),t.texSubImage2D(3553,0,0,0,ge.width,ge.height,Je,ot,ge.data)):t.texImage2D(3553,0,nt,ge.width,ge.height,0,Je,ot,ge.data);else if(D.isCompressedTexture)if(D.isCompressedArrayTexture){ye&&Ge&&t.texStorage3D(35866,j,nt,Y[0].width,Y[0].height,ge.depth);for(let le=0,xe=Y.length;le<xe;le++)qe=Y[le],D.format!==Ui?Je!==null?ye?t.compressedTexSubImage3D(35866,le,0,0,0,qe.width,qe.height,ge.depth,Je,qe.data,0,0):t.compressedTexImage3D(35866,le,nt,qe.width,qe.height,ge.depth,0,qe.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ye?t.texSubImage3D(35866,le,0,0,0,qe.width,qe.height,ge.depth,Je,ot,qe.data):t.texImage3D(35866,le,nt,qe.width,qe.height,ge.depth,0,Je,ot,qe.data)}else{ye&&Ge&&t.texStorage2D(3553,j,nt,Y[0].width,Y[0].height);for(let le=0,xe=Y.length;le<xe;le++)qe=Y[le],D.format!==Ui?Je!==null?ye?t.compressedTexSubImage2D(3553,le,0,0,qe.width,qe.height,Je,qe.data):t.compressedTexImage2D(3553,le,nt,qe.width,qe.height,0,qe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ye?t.texSubImage2D(3553,le,0,0,qe.width,qe.height,Je,ot,qe.data):t.texImage2D(3553,le,nt,qe.width,qe.height,0,Je,ot,qe.data)}else if(D.isDataArrayTexture)ye?(Ge&&t.texStorage3D(35866,j,nt,ge.width,ge.height,ge.depth),t.texSubImage3D(35866,0,0,0,0,ge.width,ge.height,ge.depth,Je,ot,ge.data)):t.texImage3D(35866,0,nt,ge.width,ge.height,ge.depth,0,Je,ot,ge.data);else if(D.isData3DTexture)ye?(Ge&&t.texStorage3D(32879,j,nt,ge.width,ge.height,ge.depth),t.texSubImage3D(32879,0,0,0,0,ge.width,ge.height,ge.depth,Je,ot,ge.data)):t.texImage3D(32879,0,nt,ge.width,ge.height,ge.depth,0,Je,ot,ge.data);else if(D.isFramebufferTexture){if(Ge)if(ye)t.texStorage2D(3553,j,nt,ge.width,ge.height);else{let le=ge.width,xe=ge.height;for(let Le=0;Le<j;Le++)t.texImage2D(3553,Le,nt,le,xe,0,Je,ot,null),le>>=1,xe>>=1}}else if(Y.length>0&&tt){ye&&Ge&&t.texStorage2D(3553,j,nt,Y[0].width,Y[0].height);for(let le=0,xe=Y.length;le<xe;le++)qe=Y[le],ye?t.texSubImage2D(3553,le,0,0,Je,ot,qe):t.texImage2D(3553,le,nt,Je,ot,qe);D.generateMipmaps=!1}else ye?(Ge&&t.texStorage2D(3553,j,nt,ge.width,ge.height),t.texSubImage2D(3553,0,0,0,Je,ot,ge)):t.texImage2D(3553,0,nt,Je,ot,ge);E(D,tt)&&B(be),Qe.__version=Pe.version,D.onUpdate&&D.onUpdate(D)}U.__version=D.version}function Fe(U,D,ae){if(D.image.length!==6)return;const be=Ae(U,D),Ce=D.source;t.bindTexture(34067,U.__webglTexture,33984+ae);const Pe=i.get(Ce);if(Ce.version!==Pe.__version||be===!0){t.activeTexture(33984+ae),n.pixelStorei(37440,D.flipY),n.pixelStorei(37441,D.premultiplyAlpha),n.pixelStorei(3317,D.unpackAlignment),n.pixelStorei(37443,0);const Qe=D.isCompressedTexture||D.image[0].isCompressedTexture,Ue=D.image[0]&&D.image[0].isDataTexture,ge=[];for(let le=0;le<6;le++)!Qe&&!Ue?ge[le]=S(D.image[le],!1,!0,c):ge[le]=Ue?D.image[le].image:D.image[le],ge[le]=Et(D,ge[le]);const tt=ge[0],Je=M(tt)||a,ot=s.convert(D.format,D.encoding),nt=s.convert(D.type),qe=C(D.internalFormat,ot,nt,D.encoding),Y=a&&D.isVideoTexture!==!0,ye=Pe.__version===void 0||be===!0;let Ge=R(D,tt,Je);we(34067,D,Je);let j;if(Qe){Y&&ye&&t.texStorage2D(34067,Ge,qe,tt.width,tt.height);for(let le=0;le<6;le++){j=ge[le].mipmaps;for(let xe=0;xe<j.length;xe++){const Le=j[xe];D.format!==Ui?ot!==null?Y?t.compressedTexSubImage2D(34069+le,xe,0,0,Le.width,Le.height,ot,Le.data):t.compressedTexImage2D(34069+le,xe,qe,Le.width,Le.height,0,Le.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Y?t.texSubImage2D(34069+le,xe,0,0,Le.width,Le.height,ot,nt,Le.data):t.texImage2D(34069+le,xe,qe,Le.width,Le.height,0,ot,nt,Le.data)}}}else{j=D.mipmaps,Y&&ye&&(j.length>0&&Ge++,t.texStorage2D(34067,Ge,qe,ge[0].width,ge[0].height));for(let le=0;le<6;le++)if(Ue){Y?t.texSubImage2D(34069+le,0,0,0,ge[le].width,ge[le].height,ot,nt,ge[le].data):t.texImage2D(34069+le,0,qe,ge[le].width,ge[le].height,0,ot,nt,ge[le].data);for(let xe=0;xe<j.length;xe++){const je=j[xe].image[le].image;Y?t.texSubImage2D(34069+le,xe+1,0,0,je.width,je.height,ot,nt,je.data):t.texImage2D(34069+le,xe+1,qe,je.width,je.height,0,ot,nt,je.data)}}else{Y?t.texSubImage2D(34069+le,0,0,0,ot,nt,ge[le]):t.texImage2D(34069+le,0,qe,ot,nt,ge[le]);for(let xe=0;xe<j.length;xe++){const Le=j[xe];Y?t.texSubImage2D(34069+le,xe+1,0,0,ot,nt,Le.image[le]):t.texImage2D(34069+le,xe+1,qe,ot,nt,Le.image[le])}}}E(D,Je)&&B(34067),Pe.__version=Ce.version,D.onUpdate&&D.onUpdate(D)}U.__version=D.version}function Ee(U,D,ae,be,Ce){const Pe=s.convert(ae.format,ae.encoding),Qe=s.convert(ae.type),Ue=C(ae.internalFormat,Pe,Qe,ae.encoding);i.get(D).__hasExternalTextures||(Ce===32879||Ce===35866?t.texImage3D(Ce,0,Ue,D.width,D.height,D.depth,0,Pe,Qe,null):t.texImage2D(Ce,0,Ue,D.width,D.height,0,Pe,Qe,null)),t.bindFramebuffer(36160,U),et(D)?p.framebufferTexture2DMultisampleEXT(36160,be,Ce,i.get(ae).__webglTexture,0,Ke(D)):(Ce===3553||Ce>=34069&&Ce<=34074)&&n.framebufferTexture2D(36160,be,Ce,i.get(ae).__webglTexture,0),t.bindFramebuffer(36160,null)}function _e(U,D,ae){if(n.bindRenderbuffer(36161,U),D.depthBuffer&&!D.stencilBuffer){let be=33189;if(ae||et(D)){const Ce=D.depthTexture;Ce&&Ce.isDepthTexture&&(Ce.type===Js?be=36012:Ce.type===Ho&&(be=33190));const Pe=Ke(D);et(D)?p.renderbufferStorageMultisampleEXT(36161,Pe,be,D.width,D.height):n.renderbufferStorageMultisample(36161,Pe,be,D.width,D.height)}else n.renderbufferStorage(36161,be,D.width,D.height);n.framebufferRenderbuffer(36160,36096,36161,U)}else if(D.depthBuffer&&D.stencilBuffer){const be=Ke(D);ae&&et(D)===!1?n.renderbufferStorageMultisample(36161,be,35056,D.width,D.height):et(D)?p.renderbufferStorageMultisampleEXT(36161,be,35056,D.width,D.height):n.renderbufferStorage(36161,34041,D.width,D.height),n.framebufferRenderbuffer(36160,33306,36161,U)}else{const be=D.isWebGLMultipleRenderTargets===!0?D.texture:[D.texture];for(let Ce=0;Ce<be.length;Ce++){const Pe=be[Ce],Qe=s.convert(Pe.format,Pe.encoding),Ue=s.convert(Pe.type),ge=C(Pe.internalFormat,Qe,Ue,Pe.encoding),tt=Ke(D);ae&&et(D)===!1?n.renderbufferStorageMultisample(36161,tt,ge,D.width,D.height):et(D)?p.renderbufferStorageMultisampleEXT(36161,tt,ge,D.width,D.height):n.renderbufferStorage(36161,ge,D.width,D.height)}}n.bindRenderbuffer(36161,null)}function de(U,D){if(D&&D.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,U),!(D.depthTexture&&D.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(D.depthTexture).__webglTexture||D.depthTexture.image.width!==D.width||D.depthTexture.image.height!==D.height)&&(D.depthTexture.image.width=D.width,D.depthTexture.image.height=D.height,D.depthTexture.needsUpdate=!0),J(D.depthTexture,0);const be=i.get(D.depthTexture).__webglTexture,Ce=Ke(D);if(D.depthTexture.format===$o)et(D)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,be,0,Ce):n.framebufferTexture2D(36160,36096,3553,be,0);else if(D.depthTexture.format===Al)et(D)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,be,0,Ce):n.framebufferTexture2D(36160,33306,3553,be,0);else throw new Error("Unknown depthTexture format")}function he(U){const D=i.get(U),ae=U.isWebGLCubeRenderTarget===!0;if(U.depthTexture&&!D.__autoAllocateDepthBuffer){if(ae)throw new Error("target.depthTexture not supported in Cube render targets");de(D.__webglFramebuffer,U)}else if(ae){D.__webglDepthbuffer=[];for(let be=0;be<6;be++)t.bindFramebuffer(36160,D.__webglFramebuffer[be]),D.__webglDepthbuffer[be]=n.createRenderbuffer(),_e(D.__webglDepthbuffer[be],U,!1)}else t.bindFramebuffer(36160,D.__webglFramebuffer),D.__webglDepthbuffer=n.createRenderbuffer(),_e(D.__webglDepthbuffer,U,!1);t.bindFramebuffer(36160,null)}function Me(U,D,ae){const be=i.get(U);D!==void 0&&Ee(be.__webglFramebuffer,U,U.texture,36064,3553),ae!==void 0&&he(U)}function Ve(U){const D=U.texture,ae=i.get(U),be=i.get(D);U.addEventListener("dispose",V),U.isWebGLMultipleRenderTargets!==!0&&(be.__webglTexture===void 0&&(be.__webglTexture=n.createTexture()),be.__version=D.version,o.memory.textures++);const Ce=U.isWebGLCubeRenderTarget===!0,Pe=U.isWebGLMultipleRenderTargets===!0,Qe=M(U)||a;if(Ce){ae.__webglFramebuffer=[];for(let Ue=0;Ue<6;Ue++)ae.__webglFramebuffer[Ue]=n.createFramebuffer()}else{if(ae.__webglFramebuffer=n.createFramebuffer(),Pe)if(r.drawBuffers){const Ue=U.texture;for(let ge=0,tt=Ue.length;ge<tt;ge++){const Je=i.get(Ue[ge]);Je.__webglTexture===void 0&&(Je.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&U.samples>0&&et(U)===!1){const Ue=Pe?D:[D];ae.__webglMultisampledFramebuffer=n.createFramebuffer(),ae.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,ae.__webglMultisampledFramebuffer);for(let ge=0;ge<Ue.length;ge++){const tt=Ue[ge];ae.__webglColorRenderbuffer[ge]=n.createRenderbuffer(),n.bindRenderbuffer(36161,ae.__webglColorRenderbuffer[ge]);const Je=s.convert(tt.format,tt.encoding),ot=s.convert(tt.type),nt=C(tt.internalFormat,Je,ot,tt.encoding,U.isXRRenderTarget===!0),qe=Ke(U);n.renderbufferStorageMultisample(36161,qe,nt,U.width,U.height),n.framebufferRenderbuffer(36160,36064+ge,36161,ae.__webglColorRenderbuffer[ge])}n.bindRenderbuffer(36161,null),U.depthBuffer&&(ae.__webglDepthRenderbuffer=n.createRenderbuffer(),_e(ae.__webglDepthRenderbuffer,U,!0)),t.bindFramebuffer(36160,null)}}if(Ce){t.bindTexture(34067,be.__webglTexture),we(34067,D,Qe);for(let Ue=0;Ue<6;Ue++)Ee(ae.__webglFramebuffer[Ue],U,D,36064,34069+Ue);E(D,Qe)&&B(34067),t.unbindTexture()}else if(Pe){const Ue=U.texture;for(let ge=0,tt=Ue.length;ge<tt;ge++){const Je=Ue[ge],ot=i.get(Je);t.bindTexture(3553,ot.__webglTexture),we(3553,Je,Qe),Ee(ae.__webglFramebuffer,U,Je,36064+ge,3553),E(Je,Qe)&&B(3553)}t.unbindTexture()}else{let Ue=3553;(U.isWebGL3DRenderTarget||U.isWebGLArrayRenderTarget)&&(a?Ue=U.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Ue,be.__webglTexture),we(Ue,D,Qe),Ee(ae.__webglFramebuffer,U,D,36064,Ue),E(D,Qe)&&B(Ue),t.unbindTexture()}U.depthBuffer&&he(U)}function Re(U){const D=M(U)||a,ae=U.isWebGLMultipleRenderTargets===!0?U.texture:[U.texture];for(let be=0,Ce=ae.length;be<Ce;be++){const Pe=ae[be];if(E(Pe,D)){const Qe=U.isWebGLCubeRenderTarget?34067:3553,Ue=i.get(Pe).__webglTexture;t.bindTexture(Qe,Ue),B(Qe),t.unbindTexture()}}}function Ye(U){if(a&&U.samples>0&&et(U)===!1){const D=U.isWebGLMultipleRenderTargets?U.texture:[U.texture],ae=U.width,be=U.height;let Ce=16384;const Pe=[],Qe=U.stencilBuffer?33306:36096,Ue=i.get(U),ge=U.isWebGLMultipleRenderTargets===!0;if(ge)for(let tt=0;tt<D.length;tt++)t.bindFramebuffer(36160,Ue.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+tt,36161,null),t.bindFramebuffer(36160,Ue.__webglFramebuffer),n.framebufferTexture2D(36009,36064+tt,3553,null,0);t.bindFramebuffer(36008,Ue.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Ue.__webglFramebuffer);for(let tt=0;tt<D.length;tt++){Pe.push(36064+tt),U.depthBuffer&&Pe.push(Qe);const Je=Ue.__ignoreDepthValues!==void 0?Ue.__ignoreDepthValues:!1;if(Je===!1&&(U.depthBuffer&&(Ce|=256),U.stencilBuffer&&(Ce|=1024)),ge&&n.framebufferRenderbuffer(36008,36064,36161,Ue.__webglColorRenderbuffer[tt]),Je===!0&&(n.invalidateFramebuffer(36008,[Qe]),n.invalidateFramebuffer(36009,[Qe])),ge){const ot=i.get(D[tt]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,ot,0)}n.blitFramebuffer(0,0,ae,be,0,0,ae,be,Ce,9728),m&&n.invalidateFramebuffer(36008,Pe)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),ge)for(let tt=0;tt<D.length;tt++){t.bindFramebuffer(36160,Ue.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+tt,36161,Ue.__webglColorRenderbuffer[tt]);const Je=i.get(D[tt]).__webglTexture;t.bindFramebuffer(36160,Ue.__webglFramebuffer),n.framebufferTexture2D(36009,36064+tt,3553,Je,0)}t.bindFramebuffer(36009,Ue.__webglMultisampledFramebuffer)}}function Ke(U){return Math.min(h,U.samples)}function et(U){const D=i.get(U);return a&&U.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&D.__useRenderToTexture!==!1}function wt(U){const D=o.render.frame;y.get(U)!==D&&(y.set(U,D),U.update())}function Et(U,D){const ae=U.encoding,be=U.format,Ce=U.type;return U.isCompressedTexture===!0||U.isVideoTexture===!0||U.format===Vg||ae!==ca&&(ae===Kt?a===!1?e.has("EXT_sRGB")===!0&&be===Ui?(U.format=Vg,U.minFilter=fn,U.generateMipmaps=!1):D=BS.sRGBToLinear(D):(be!==Ui||Ce!==oo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ae)),D}this.allocateTextureUnit=k,this.resetTextureUnits=oe,this.setTexture2D=J,this.setTexture2DArray=te,this.setTexture3D=X,this.setTextureCube=ie,this.rebindTextures=Me,this.setupRenderTarget=Ve,this.updateRenderTargetMipmap=Re,this.updateMultisampleRenderTarget=Ye,this.setupDepthRenderbuffer=he,this.setupFrameBufferTexture=Ee,this.useMultisampledRTT=et}function lL(n,e,t){const i=t.isWebGL2;function r(s,o=null){let a;if(s===oo)return 5121;if(s===RB)return 32819;if(s===BB)return 32820;if(s===TB)return 5120;if(s===EB)return 5122;if(s===CS)return 5123;if(s===PB)return 5124;if(s===Ho)return 5125;if(s===Js)return 5126;if(s===pu)return i?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===LB)return 6406;if(s===Ui)return 6408;if(s===DB)return 6409;if(s===IB)return 6410;if(s===$o)return 6402;if(s===Al)return 34041;if(s===Vg)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===OB)return 6403;if(s===kB)return 36244;if(s===FB)return 33319;if(s===NB)return 33320;if(s===zB)return 36249;if(s===ng||s===ig||s===rg||s===sg)if(o===Kt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===ng)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===ig)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===rg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===sg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===ng)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===ig)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===rg)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===sg)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===c1||s===u1||s===f1||s===d1)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===c1)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===u1)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===f1)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===d1)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===UB)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===h1||s===p1)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===h1)return o===Kt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===p1)return o===Kt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===m1||s===g1||s===v1||s===y1||s===x1||s===_1||s===w1||s===S1||s===A1||s===M1||s===b1||s===C1||s===T1||s===E1)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===m1)return o===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===g1)return o===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===v1)return o===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===y1)return o===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===x1)return o===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===_1)return o===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===w1)return o===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===S1)return o===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===A1)return o===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===M1)return o===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===b1)return o===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===C1)return o===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===T1)return o===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===E1)return o===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===og)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===og)return o===Kt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===GB||s===P1||s===R1||s===B1)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===og)return a.COMPRESSED_RED_RGTC1_EXT;if(s===P1)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===R1)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===B1)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===dl?i?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}class cL extends on{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Ks extends Bt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const p8={type:"move"};class hx{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ks,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ks,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new I,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new I),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ks,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new I,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new I),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const g of e.hand.values()){const x=t.getJointPose(g,i),w=this._getHandJoint(c,g);x!==null&&(w.matrix.fromArray(x.transform.matrix),w.matrix.decompose(w.position,w.rotation,w.scale),w.jointRadius=x.radius),w.visible=x!==null}const d=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],p=d.position.distanceTo(h.position),m=.02,y=.005;c.inputState.pinching&&p>m+y?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-y&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(p8)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Ks;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class uL extends an{constructor(e,t,i,r,s,o,a,l,c,d){if(d=d!==void 0?d:$o,d!==$o&&d!==Al)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&d===$o&&(i=Ho),i===void 0&&d===Al&&(i=dl),super(null,r,s,o,a,l,d,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:An,this.minFilter=l!==void 0?l:An,this.flipY=!1,this.generateMipmaps=!1}}class m8 extends ho{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,d=null,h=null,p=null,m=null,y=null;const g=t.getContextAttributes();let x=null,w=null;const _=[],S=[],M=new Set,T=new Map,E=new on;E.layers.enable(1),E.viewport=new Vt;const B=new on;B.layers.enable(2),B.viewport=new Vt;const C=[E,B],R=new cL;R.layers.enable(1),R.layers.enable(2);let L=null,O=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(X){let ie=_[X];return ie===void 0&&(ie=new hx,_[X]=ie),ie.getTargetRaySpace()},this.getControllerGrip=function(X){let ie=_[X];return ie===void 0&&(ie=new hx,_[X]=ie),ie.getGripSpace()},this.getHand=function(X){let ie=_[X];return ie===void 0&&(ie=new hx,_[X]=ie),ie.getHandSpace()};function V(X){const ie=S.indexOf(X.inputSource);if(ie===-1)return;const ve=_[ie];ve!==void 0&&ve.dispatchEvent({type:X.type,data:X.inputSource})}function H(){r.removeEventListener("select",V),r.removeEventListener("selectstart",V),r.removeEventListener("selectend",V),r.removeEventListener("squeeze",V),r.removeEventListener("squeezestart",V),r.removeEventListener("squeezeend",V),r.removeEventListener("end",H),r.removeEventListener("inputsourceschange",G);for(let X=0;X<_.length;X++){const ie=S[X];ie!==null&&(S[X]=null,_[X].disconnect(ie))}L=null,O=null,e.setRenderTarget(x),m=null,p=null,h=null,r=null,w=null,te.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(X){s=X,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(X){a=X,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(X){c=X},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return h},this.getFrame=function(){return y},this.getSession=function(){return r},this.setSession=async function(X){if(r=X,r!==null){if(x=e.getRenderTarget(),r.addEventListener("select",V),r.addEventListener("selectstart",V),r.addEventListener("selectend",V),r.addEventListener("squeeze",V),r.addEventListener("squeezestart",V),r.addEventListener("squeezeend",V),r.addEventListener("end",H),r.addEventListener("inputsourceschange",G),g.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ie={antialias:r.renderState.layers===void 0?g.antialias:!0,alpha:g.alpha,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,ie),r.updateRenderState({baseLayer:m}),w=new $r(m.framebufferWidth,m.framebufferHeight,{format:Ui,type:oo,encoding:e.outputEncoding,stencilBuffer:g.stencil})}else{let ie=null,ve=null,q=null;g.depth&&(q=g.stencil?35056:33190,ie=g.stencil?Al:$o,ve=g.stencil?dl:Ho);const we={colorFormat:32856,depthFormat:q,scaleFactor:s};h=new XRWebGLBinding(r,t),p=h.createProjectionLayer(we),r.updateRenderState({layers:[p]}),w=new $r(p.textureWidth,p.textureHeight,{format:Ui,type:oo,depthTexture:new uL(p.textureWidth,p.textureHeight,ve,void 0,void 0,void 0,void 0,void 0,void 0,ie),stencilBuffer:g.stencil,encoding:e.outputEncoding,samples:g.antialias?4:0});const Ae=e.properties.get(w);Ae.__ignoreDepthValues=p.ignoreDepthValues}w.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),te.setContext(r),te.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function G(X){for(let ie=0;ie<X.removed.length;ie++){const ve=X.removed[ie],q=S.indexOf(ve);q>=0&&(S[q]=null,_[q].disconnect(ve))}for(let ie=0;ie<X.added.length;ie++){const ve=X.added[ie];let q=S.indexOf(ve);if(q===-1){for(let Ae=0;Ae<_.length;Ae++)if(Ae>=S.length){S.push(ve),q=Ae;break}else if(S[Ae]===null){S[Ae]=ve,q=Ae;break}if(q===-1)break}const we=_[q];we&&we.connect(ve)}}const $=new I,ee=new I;function oe(X,ie,ve){$.setFromMatrixPosition(ie.matrixWorld),ee.setFromMatrixPosition(ve.matrixWorld);const q=$.distanceTo(ee),we=ie.projectionMatrix.elements,Ae=ve.projectionMatrix.elements,De=we[14]/(we[10]-1),Fe=we[14]/(we[10]+1),Ee=(we[9]+1)/we[5],_e=(we[9]-1)/we[5],de=(we[8]-1)/we[0],he=(Ae[8]+1)/Ae[0],Me=De*de,Ve=De*he,Re=q/(-de+he),Ye=Re*-de;ie.matrixWorld.decompose(X.position,X.quaternion,X.scale),X.translateX(Ye),X.translateZ(Re),X.matrixWorld.compose(X.position,X.quaternion,X.scale),X.matrixWorldInverse.copy(X.matrixWorld).invert();const Ke=De+Re,et=Fe+Re,wt=Me-Ye,Et=Ve+(q-Ye),U=Ee*Fe/et*Ke,D=_e*Fe/et*Ke;X.projectionMatrix.makePerspective(wt,Et,U,D,Ke,et)}function k(X,ie){ie===null?X.matrixWorld.copy(X.matrix):X.matrixWorld.multiplyMatrices(ie.matrixWorld,X.matrix),X.matrixWorldInverse.copy(X.matrixWorld).invert()}this.updateCamera=function(X){if(r===null)return;R.near=B.near=E.near=X.near,R.far=B.far=E.far=X.far,(L!==R.near||O!==R.far)&&(r.updateRenderState({depthNear:R.near,depthFar:R.far}),L=R.near,O=R.far);const ie=X.parent,ve=R.cameras;k(R,ie);for(let we=0;we<ve.length;we++)k(ve[we],ie);R.matrixWorld.decompose(R.position,R.quaternion,R.scale),X.matrix.copy(R.matrix),X.matrix.decompose(X.position,X.quaternion,X.scale);const q=X.children;for(let we=0,Ae=q.length;we<Ae;we++)q[we].updateMatrixWorld(!0);ve.length===2?oe(R,E,B):R.projectionMatrix.copy(E.projectionMatrix)},this.getCamera=function(){return R},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(X){l=X,p!==null&&(p.fixedFoveation=X),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=X)},this.getPlanes=function(){return M};let K=null;function J(X,ie){if(d=ie.getViewerPose(c||o),y=ie,d!==null){const ve=d.views;m!==null&&(e.setRenderTargetFramebuffer(w,m.framebuffer),e.setRenderTarget(w));let q=!1;ve.length!==R.cameras.length&&(R.cameras.length=0,q=!0);for(let we=0;we<ve.length;we++){const Ae=ve[we];let De=null;if(m!==null)De=m.getViewport(Ae);else{const Ee=h.getViewSubImage(p,Ae);De=Ee.viewport,we===0&&(e.setRenderTargetTextures(w,Ee.colorTexture,p.ignoreDepthValues?void 0:Ee.depthStencilTexture),e.setRenderTarget(w))}let Fe=C[we];Fe===void 0&&(Fe=new on,Fe.layers.enable(we),Fe.viewport=new Vt,C[we]=Fe),Fe.matrix.fromArray(Ae.transform.matrix),Fe.projectionMatrix.fromArray(Ae.projectionMatrix),Fe.viewport.set(De.x,De.y,De.width,De.height),we===0&&R.matrix.copy(Fe.matrix),q===!0&&R.cameras.push(Fe)}}for(let ve=0;ve<_.length;ve++){const q=S[ve],we=_[ve];q!==null&&we!==void 0&&we.update(q,ie,c||o)}if(K&&K(X,ie),ie.detectedPlanes){i.dispatchEvent({type:"planesdetected",data:ie.detectedPlanes});let ve=null;for(const q of M)ie.detectedPlanes.has(q)||(ve===null&&(ve=[]),ve.push(q));if(ve!==null)for(const q of ve)M.delete(q),T.delete(q),i.dispatchEvent({type:"planeremoved",data:q});for(const q of ie.detectedPlanes)if(!M.has(q))M.add(q),T.set(q,ie.lastChangedTime),i.dispatchEvent({type:"planeadded",data:q});else{const we=T.get(q);q.lastChangedTime>we&&(T.set(q,q.lastChangedTime),i.dispatchEvent({type:"planechanged",data:q}))}}y=null}const te=new iL;te.setAnimationLoop(J),this.setAnimationLoop=function(X){K=X},this.dispose=function(){}}}function g8(n,e){function t(g,x){x.color.getRGB(g.fogColor.value,tL(n)),x.isFog?(g.fogNear.value=x.near,g.fogFar.value=x.far):x.isFogExp2&&(g.fogDensity.value=x.density)}function i(g,x,w,_,S){x.isMeshBasicMaterial||x.isMeshLambertMaterial?r(g,x):x.isMeshToonMaterial?(r(g,x),d(g,x)):x.isMeshPhongMaterial?(r(g,x),c(g,x)):x.isMeshStandardMaterial?(r(g,x),h(g,x),x.isMeshPhysicalMaterial&&p(g,x,S)):x.isMeshMatcapMaterial?(r(g,x),m(g,x)):x.isMeshDepthMaterial?r(g,x):x.isMeshDistanceMaterial?(r(g,x),y(g,x)):x.isMeshNormalMaterial?r(g,x):x.isLineBasicMaterial?(s(g,x),x.isLineDashedMaterial&&o(g,x)):x.isPointsMaterial?a(g,x,w,_):x.isSpriteMaterial?l(g,x):x.isShadowMaterial?(g.color.value.copy(x.color),g.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function r(g,x){g.opacity.value=x.opacity,x.color&&g.diffuse.value.copy(x.color),x.emissive&&g.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(g.map.value=x.map),x.alphaMap&&(g.alphaMap.value=x.alphaMap),x.bumpMap&&(g.bumpMap.value=x.bumpMap,g.bumpScale.value=x.bumpScale,x.side===ji&&(g.bumpScale.value*=-1)),x.displacementMap&&(g.displacementMap.value=x.displacementMap,g.displacementScale.value=x.displacementScale,g.displacementBias.value=x.displacementBias),x.emissiveMap&&(g.emissiveMap.value=x.emissiveMap),x.normalMap&&(g.normalMap.value=x.normalMap,g.normalScale.value.copy(x.normalScale),x.side===ji&&g.normalScale.value.negate()),x.specularMap&&(g.specularMap.value=x.specularMap),x.alphaTest>0&&(g.alphaTest.value=x.alphaTest);const w=e.get(x).envMap;if(w&&(g.envMap.value=w,g.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=x.reflectivity,g.ior.value=x.ior,g.refractionRatio.value=x.refractionRatio),x.lightMap){g.lightMap.value=x.lightMap;const M=n.useLegacyLights===!0?Math.PI:1;g.lightMapIntensity.value=x.lightMapIntensity*M}x.aoMap&&(g.aoMap.value=x.aoMap,g.aoMapIntensity.value=x.aoMapIntensity);let _;x.map?_=x.map:x.specularMap?_=x.specularMap:x.displacementMap?_=x.displacementMap:x.normalMap?_=x.normalMap:x.bumpMap?_=x.bumpMap:x.roughnessMap?_=x.roughnessMap:x.metalnessMap?_=x.metalnessMap:x.alphaMap?_=x.alphaMap:x.emissiveMap?_=x.emissiveMap:x.clearcoatMap?_=x.clearcoatMap:x.clearcoatNormalMap?_=x.clearcoatNormalMap:x.clearcoatRoughnessMap?_=x.clearcoatRoughnessMap:x.iridescenceMap?_=x.iridescenceMap:x.iridescenceThicknessMap?_=x.iridescenceThicknessMap:x.specularIntensityMap?_=x.specularIntensityMap:x.specularColorMap?_=x.specularColorMap:x.transmissionMap?_=x.transmissionMap:x.thicknessMap?_=x.thicknessMap:x.sheenColorMap?_=x.sheenColorMap:x.sheenRoughnessMap&&(_=x.sheenRoughnessMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),g.uvTransform.value.copy(_.matrix));let S;x.aoMap?S=x.aoMap:x.lightMap&&(S=x.lightMap),S!==void 0&&(S.isWebGLRenderTarget&&(S=S.texture),S.matrixAutoUpdate===!0&&S.updateMatrix(),g.uv2Transform.value.copy(S.matrix))}function s(g,x){g.diffuse.value.copy(x.color),g.opacity.value=x.opacity}function o(g,x){g.dashSize.value=x.dashSize,g.totalSize.value=x.dashSize+x.gapSize,g.scale.value=x.scale}function a(g,x,w,_){g.diffuse.value.copy(x.color),g.opacity.value=x.opacity,g.size.value=x.size*w,g.scale.value=_*.5,x.map&&(g.map.value=x.map),x.alphaMap&&(g.alphaMap.value=x.alphaMap),x.alphaTest>0&&(g.alphaTest.value=x.alphaTest);let S;x.map?S=x.map:x.alphaMap&&(S=x.alphaMap),S!==void 0&&(S.matrixAutoUpdate===!0&&S.updateMatrix(),g.uvTransform.value.copy(S.matrix))}function l(g,x){g.diffuse.value.copy(x.color),g.opacity.value=x.opacity,g.rotation.value=x.rotation,x.map&&(g.map.value=x.map),x.alphaMap&&(g.alphaMap.value=x.alphaMap),x.alphaTest>0&&(g.alphaTest.value=x.alphaTest);let w;x.map?w=x.map:x.alphaMap&&(w=x.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),g.uvTransform.value.copy(w.matrix))}function c(g,x){g.specular.value.copy(x.specular),g.shininess.value=Math.max(x.shininess,1e-4)}function d(g,x){x.gradientMap&&(g.gradientMap.value=x.gradientMap)}function h(g,x){g.roughness.value=x.roughness,g.metalness.value=x.metalness,x.roughnessMap&&(g.roughnessMap.value=x.roughnessMap),x.metalnessMap&&(g.metalnessMap.value=x.metalnessMap),e.get(x).envMap&&(g.envMapIntensity.value=x.envMapIntensity)}function p(g,x,w){g.ior.value=x.ior,x.sheen>0&&(g.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),g.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(g.sheenColorMap.value=x.sheenColorMap),x.sheenRoughnessMap&&(g.sheenRoughnessMap.value=x.sheenRoughnessMap)),x.clearcoat>0&&(g.clearcoat.value=x.clearcoat,g.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(g.clearcoatMap.value=x.clearcoatMap),x.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap),x.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),g.clearcoatNormalMap.value=x.clearcoatNormalMap,x.side===ji&&g.clearcoatNormalScale.value.negate())),x.iridescence>0&&(g.iridescence.value=x.iridescence,g.iridescenceIOR.value=x.iridescenceIOR,g.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(g.iridescenceMap.value=x.iridescenceMap),x.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=x.iridescenceThicknessMap)),x.transmission>0&&(g.transmission.value=x.transmission,g.transmissionSamplerMap.value=w.texture,g.transmissionSamplerSize.value.set(w.width,w.height),x.transmissionMap&&(g.transmissionMap.value=x.transmissionMap),g.thickness.value=x.thickness,x.thicknessMap&&(g.thicknessMap.value=x.thicknessMap),g.attenuationDistance.value=x.attenuationDistance,g.attenuationColor.value.copy(x.attenuationColor)),g.specularIntensity.value=x.specularIntensity,g.specularColor.value.copy(x.specularColor),x.specularIntensityMap&&(g.specularIntensityMap.value=x.specularIntensityMap),x.specularColorMap&&(g.specularColorMap.value=x.specularColorMap)}function m(g,x){x.matcap&&(g.matcap.value=x.matcap)}function y(g,x){g.referencePosition.value.copy(x.referencePosition),g.nearDistance.value=x.nearDistance,g.farDistance.value=x.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:i}}function v8(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(_,S){const M=S.program;i.uniformBlockBinding(_,M)}function c(_,S){let M=r[_.id];M===void 0&&(y(_),M=d(_),r[_.id]=M,_.addEventListener("dispose",x));const T=S.program;i.updateUBOMapping(_,T);const E=e.render.frame;s[_.id]!==E&&(p(_),s[_.id]=E)}function d(_){const S=h();_.__bindingPointIndex=S;const M=n.createBuffer(),T=_.__size,E=_.usage;return n.bindBuffer(35345,M),n.bufferData(35345,T,E),n.bindBuffer(35345,null),n.bindBufferBase(35345,S,M),M}function h(){for(let _=0;_<a;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(_){const S=r[_.id],M=_.uniforms,T=_.__cache;n.bindBuffer(35345,S);for(let E=0,B=M.length;E<B;E++){const C=M[E];if(m(C,E,T)===!0){const R=C.__offset,L=Array.isArray(C.value)?C.value:[C.value];let O=0;for(let V=0;V<L.length;V++){const H=L[V],G=g(H);typeof H=="number"?(C.__data[0]=H,n.bufferSubData(35345,R+O,C.__data)):H.isMatrix3?(C.__data[0]=H.elements[0],C.__data[1]=H.elements[1],C.__data[2]=H.elements[2],C.__data[3]=H.elements[0],C.__data[4]=H.elements[3],C.__data[5]=H.elements[4],C.__data[6]=H.elements[5],C.__data[7]=H.elements[0],C.__data[8]=H.elements[6],C.__data[9]=H.elements[7],C.__data[10]=H.elements[8],C.__data[11]=H.elements[0]):(H.toArray(C.__data,O),O+=G.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(35345,R,C.__data)}}n.bindBuffer(35345,null)}function m(_,S,M){const T=_.value;if(M[S]===void 0){if(typeof T=="number")M[S]=T;else{const E=Array.isArray(T)?T:[T],B=[];for(let C=0;C<E.length;C++)B.push(E[C].clone());M[S]=B}return!0}else if(typeof T=="number"){if(M[S]!==T)return M[S]=T,!0}else{const E=Array.isArray(M[S])?M[S]:[M[S]],B=Array.isArray(T)?T:[T];for(let C=0;C<E.length;C++){const R=E[C];if(R.equals(B[C])===!1)return R.copy(B[C]),!0}}return!1}function y(_){const S=_.uniforms;let M=0;const T=16;let E=0;for(let B=0,C=S.length;B<C;B++){const R=S[B],L={boundary:0,storage:0},O=Array.isArray(R.value)?R.value:[R.value];for(let V=0,H=O.length;V<H;V++){const G=O[V],$=g(G);L.boundary+=$.boundary,L.storage+=$.storage}if(R.__data=new Float32Array(L.storage/Float32Array.BYTES_PER_ELEMENT),R.__offset=M,B>0){E=M%T;const V=T-E;E!==0&&V-L.boundary<0&&(M+=T-E,R.__offset=M)}M+=L.storage}return E=M%T,E>0&&(M+=T-E),_.__size=M,_.__cache={},this}function g(_){const S={boundary:0,storage:0};return typeof _=="number"?(S.boundary=4,S.storage=4):_.isVector2?(S.boundary=8,S.storage=8):_.isVector3||_.isColor?(S.boundary=16,S.storage=12):_.isVector4?(S.boundary=16,S.storage=16):_.isMatrix3?(S.boundary=48,S.storage=48):_.isMatrix4?(S.boundary=64,S.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),S}function x(_){const S=_.target;S.removeEventListener("dispose",x);const M=o.indexOf(S.__bindingPointIndex);o.splice(M,1),n.deleteBuffer(r[S.id]),delete r[S.id],delete s[S.id]}function w(){for(const _ in r)n.deleteBuffer(r[_]);o=[],r={},s={}}return{bind:l,update:c,dispose:w}}function y8(){const n=Ld("canvas");return n.style.display="block",n}function z0(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:y8(),t=n.context!==void 0?n.context:null,i=n.depth!==void 0?n.depth:!0,r=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",c=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let d;t!==null?d=t.getContextAttributes().alpha:d=n.alpha!==void 0?n.alpha:!1;let h=null,p=null;const m=[],y=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=ca,this.useLegacyLights=!0,this.toneMapping=Qr,this.toneMappingExposure=1;const g=this;let x=!1,w=0,_=0,S=null,M=-1,T=null;const E=new Vt,B=new Vt;let C=null,R=e.width,L=e.height,O=1,V=null,H=null;const G=new Vt(0,0,R,L),$=new Vt(0,0,R,L);let ee=!1;const oe=new F0;let k=!1,K=!1,J=null;const te=new ct,X=new I,ie={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ve(){return S===null?O:1}let q=t;function we(N,se){for(let fe=0;fe<N.length;fe++){const ne=N[fe],me=e.getContext(ne,se);if(me!==null)return me}return null}try{const N={alpha:!0,depth:i,stencil:r,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Bu}`),e.addEventListener("webglcontextlost",ot,!1),e.addEventListener("webglcontextrestored",nt,!1),e.addEventListener("webglcontextcreationerror",qe,!1),q===null){const se=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&se.shift(),q=we(se,N),q===null)throw we(se)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}q.getShaderPrecisionFormat===void 0&&(q.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(N){throw console.error("THREE.WebGLRenderer: "+N.message),N}let Ae,De,Fe,Ee,_e,de,he,Me,Ve,Re,Ye,Ke,et,wt,Et,U,D,ae,be,Ce,Pe,Qe,Ue,ge;function tt(){Ae=new IH(q),De=new EH(q,Ae,n),Ae.init(De),Qe=new lL(q,Ae,De),Fe=new d8(q,Ae,De),Ee=new FH,_e=new e8,de=new h8(q,Ae,Fe,_e,De,Qe,Ee),he=new RH(g),Me=new DH(g),Ve=new J5(q,De),Ue=new CH(q,Ae,Ve,De),Re=new OH(q,Ve,Ee,Ue),Ye=new GH(q,Re,Ve,Ee),be=new UH(q,De,de),U=new PH(_e),Ke=new $6(g,he,Me,Ae,De,Ue,U),et=new g8(g,_e),wt=new n8,Et=new l8(Ae,De),ae=new bH(g,he,Me,Fe,Ye,d,o),D=new f8(g,Ye,De),ge=new v8(q,Ee,De,Fe),Ce=new TH(q,Ae,Ee,De),Pe=new kH(q,Ae,Ee,De),Ee.programs=Ke.programs,g.capabilities=De,g.extensions=Ae,g.properties=_e,g.renderLists=wt,g.shadowMap=D,g.state=Fe,g.info=Ee}tt();const Je=new m8(g,q);this.xr=Je,this.getContext=function(){return q},this.getContextAttributes=function(){return q.getContextAttributes()},this.forceContextLoss=function(){const N=Ae.get("WEBGL_lose_context");N&&N.loseContext()},this.forceContextRestore=function(){const N=Ae.get("WEBGL_lose_context");N&&N.restoreContext()},this.getPixelRatio=function(){return O},this.setPixelRatio=function(N){N!==void 0&&(O=N,this.setSize(R,L,!1))},this.getSize=function(N){return N.set(R,L)},this.setSize=function(N,se,fe=!0){if(Je.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}R=N,L=se,e.width=Math.floor(N*O),e.height=Math.floor(se*O),fe===!0&&(e.style.width=N+"px",e.style.height=se+"px"),this.setViewport(0,0,N,se)},this.getDrawingBufferSize=function(N){return N.set(R*O,L*O).floor()},this.setDrawingBufferSize=function(N,se,fe){R=N,L=se,O=fe,e.width=Math.floor(N*fe),e.height=Math.floor(se*fe),this.setViewport(0,0,N,se)},this.getCurrentViewport=function(N){return N.copy(E)},this.getViewport=function(N){return N.copy(G)},this.setViewport=function(N,se,fe,ne){N.isVector4?G.set(N.x,N.y,N.z,N.w):G.set(N,se,fe,ne),Fe.viewport(E.copy(G).multiplyScalar(O).floor())},this.getScissor=function(N){return N.copy($)},this.setScissor=function(N,se,fe,ne){N.isVector4?$.set(N.x,N.y,N.z,N.w):$.set(N,se,fe,ne),Fe.scissor(B.copy($).multiplyScalar(O).floor())},this.getScissorTest=function(){return ee},this.setScissorTest=function(N){Fe.setScissorTest(ee=N)},this.setOpaqueSort=function(N){V=N},this.setTransparentSort=function(N){H=N},this.getClearColor=function(N){return N.copy(ae.getClearColor())},this.setClearColor=function(){ae.setClearColor.apply(ae,arguments)},this.getClearAlpha=function(){return ae.getClearAlpha()},this.setClearAlpha=function(){ae.setClearAlpha.apply(ae,arguments)},this.clear=function(N=!0,se=!0,fe=!0){let ne=0;N&&(ne|=16384),se&&(ne|=256),fe&&(ne|=1024),q.clear(ne)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",ot,!1),e.removeEventListener("webglcontextrestored",nt,!1),e.removeEventListener("webglcontextcreationerror",qe,!1),wt.dispose(),Et.dispose(),_e.dispose(),he.dispose(),Me.dispose(),Ye.dispose(),Ue.dispose(),ge.dispose(),Ke.dispose(),Je.dispose(),Je.removeEventListener("sessionstart",xe),Je.removeEventListener("sessionend",Le),J&&(J.dispose(),J=null),je.stop()};function ot(N){N.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function nt(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1;const N=Ee.autoReset,se=D.enabled,fe=D.autoUpdate,ne=D.needsUpdate,me=D.type;tt(),Ee.autoReset=N,D.enabled=se,D.autoUpdate=fe,D.needsUpdate=ne,D.type=me}function qe(N){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",N.statusMessage)}function Y(N){const se=N.target;se.removeEventListener("dispose",Y),ye(se)}function ye(N){Ge(N),_e.remove(N)}function Ge(N){const se=_e.get(N).programs;se!==void 0&&(se.forEach(function(fe){Ke.releaseProgram(fe)}),N.isShaderMaterial&&Ke.releaseShaderCache(N))}this.renderBufferDirect=function(N,se,fe,ne,me,it){se===null&&(se=ie);const ut=me.isMesh&&me.matrixWorld.determinant()<0,mt=dv(N,se,fe,ne,me);Fe.setMaterial(ne,ut);let yt=fe.index,Pt=1;ne.wireframe===!0&&(yt=Re.getWireframeAttribute(fe),Pt=2);const St=fe.drawRange,Tt=fe.attributes.position;let gn=St.start*Pt,_i=(St.start+St.count)*Pt;it!==null&&(gn=Math.max(gn,it.start*Pt),_i=Math.min(_i,(it.start+it.count)*Pt)),yt!==null?(gn=Math.max(gn,0),_i=Math.min(_i,yt.count)):Tt!=null&&(gn=Math.max(gn,0),_i=Math.min(_i,Tt.count));const Lr=_i-gn;if(Lr<0||Lr===1/0)return;Ue.setup(me,ne,mt,fe,yt);let Ms,vn=Ce;if(yt!==null&&(Ms=Ve.get(yt),vn=Pe,vn.setIndex(Ms)),me.isMesh)ne.wireframe===!0?(Fe.setLineWidth(ne.wireframeLinewidth*ve()),vn.setMode(1)):vn.setMode(4);else if(me.isLine){let _t=ne.linewidth;_t===void 0&&(_t=1),Fe.setLineWidth(_t*ve()),me.isLineSegments?vn.setMode(1):me.isLineLoop?vn.setMode(2):vn.setMode(3)}else me.isPoints?vn.setMode(0):me.isSprite&&vn.setMode(4);if(me.isInstancedMesh)vn.renderInstances(gn,Lr,me.count);else if(fe.isInstancedBufferGeometry){const _t=fe._maxInstanceCount!==void 0?fe._maxInstanceCount:1/0,bs=Math.min(fe.instanceCount,_t);vn.renderInstances(gn,Lr,bs)}else vn.render(gn,Lr)},this.compile=function(N,se){function fe(ne,me,it){ne.transparent===!0&&ne.side===Xr&&ne.forceSinglePass===!1?(ne.side=ji,ne.needsUpdate=!0,bn(ne,me,it),ne.side=ws,ne.needsUpdate=!0,bn(ne,me,it),ne.side=Xr):bn(ne,me,it)}p=Et.get(N),p.init(),y.push(p),N.traverseVisible(function(ne){ne.isLight&&ne.layers.test(se.layers)&&(p.pushLight(ne),ne.castShadow&&p.pushShadow(ne))}),p.setupLights(g.useLegacyLights),N.traverse(function(ne){const me=ne.material;if(me)if(Array.isArray(me))for(let it=0;it<me.length;it++){const ut=me[it];fe(ut,N,ne)}else fe(me,N,ne)}),y.pop(),p=null};let j=null;function le(N){j&&j(N)}function xe(){je.stop()}function Le(){je.start()}const je=new iL;je.setAnimationLoop(le),typeof self<"u"&&je.setContext(self),this.setAnimationLoop=function(N){j=N,Je.setAnimationLoop(N),N===null?je.stop():je.start()},Je.addEventListener("sessionstart",xe),Je.addEventListener("sessionend",Le),this.render=function(N,se){if(se!==void 0&&se.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(x===!0)return;N.matrixWorldAutoUpdate===!0&&N.updateMatrixWorld(),se.parent===null&&se.matrixWorldAutoUpdate===!0&&se.updateMatrixWorld(),Je.enabled===!0&&Je.isPresenting===!0&&(Je.cameraAutoUpdate===!0&&Je.updateCamera(se),se=Je.getCamera()),N.isScene===!0&&N.onBeforeRender(g,N,se,S),p=Et.get(N,y.length),p.init(),y.push(p),te.multiplyMatrices(se.projectionMatrix,se.matrixWorldInverse),oe.setFromProjectionMatrix(te),K=this.localClippingEnabled,k=U.init(this.clippingPlanes,K),h=wt.get(N,m.length),h.init(),m.push(h),Nt(N,se,0,g.sortObjects),h.finish(),g.sortObjects===!0&&h.sort(V,H),k===!0&&U.beginShadows();const fe=p.state.shadowsArray;if(D.render(fe,N,se),k===!0&&U.endShadows(),this.info.autoReset===!0&&this.info.reset(),ae.render(h,N),p.setupLights(g.useLegacyLights),se.isArrayCamera){const ne=se.cameras;for(let me=0,it=ne.length;me<it;me++){const ut=ne[me];zt(h,N,ut,ut.viewport)}}else zt(h,N,se);S!==null&&(de.updateMultisampleRenderTarget(S),de.updateRenderTargetMipmap(S)),N.isScene===!0&&N.onAfterRender(g,N,se),Ue.resetDefaultState(),M=-1,T=null,y.pop(),y.length>0?p=y[y.length-1]:p=null,m.pop(),m.length>0?h=m[m.length-1]:h=null};function Nt(N,se,fe,ne){if(N.visible===!1)return;if(N.layers.test(se.layers)){if(N.isGroup)fe=N.renderOrder;else if(N.isLOD)N.autoUpdate===!0&&N.update(se);else if(N.isLight)p.pushLight(N),N.castShadow&&p.pushShadow(N);else if(N.isSprite){if(!N.frustumCulled||oe.intersectsSprite(N)){ne&&X.setFromMatrixPosition(N.matrixWorld).applyMatrix4(te);const ut=Ye.update(N),mt=N.material;mt.visible&&h.push(N,ut,mt,fe,X.z,null)}}else if((N.isMesh||N.isLine||N.isPoints)&&(N.isSkinnedMesh&&N.skeleton.frame!==Ee.render.frame&&(N.skeleton.update(),N.skeleton.frame=Ee.render.frame),!N.frustumCulled||oe.intersectsObject(N))){ne&&X.setFromMatrixPosition(N.matrixWorld).applyMatrix4(te);const ut=Ye.update(N),mt=N.material;if(Array.isArray(mt)){const yt=ut.groups;for(let Pt=0,St=yt.length;Pt<St;Pt++){const Tt=yt[Pt],gn=mt[Tt.materialIndex];gn&&gn.visible&&h.push(N,ut,gn,fe,X.z,Tt)}}else mt.visible&&h.push(N,ut,mt,fe,X.z,null)}}const it=N.children;for(let ut=0,mt=it.length;ut<mt;ut++)Nt(it[ut],se,fe,ne)}function zt(N,se,fe,ne){const me=N.opaque,it=N.transmissive,ut=N.transparent;p.setupLightsView(fe),k===!0&&U.setGlobalState(g.clippingPlanes,fe),it.length>0&&jt(me,se,fe),ne&&Fe.viewport(E.copy(ne)),me.length>0&&Nn(me,se,fe),it.length>0&&Nn(it,se,fe),ut.length>0&&Nn(ut,se,fe),Fe.buffers.depth.setTest(!0),Fe.buffers.depth.setMask(!0),Fe.buffers.color.setMask(!0),Fe.setPolygonOffset(!1)}function jt(N,se,fe){const ne=De.isWebGL2;J===null&&(J=new $r(1024,1024,{generateMipmaps:!0,type:Ae.has("EXT_color_buffer_half_float")?pu:oo,minFilter:Ss,samples:ne&&s===!0?4:0}));const me=g.getRenderTarget();g.setRenderTarget(J),g.clear();const it=g.toneMapping;g.toneMapping=Qr,Nn(N,se,fe),g.toneMapping=it,de.updateMultisampleRenderTarget(J),de.updateRenderTargetMipmap(J),g.setRenderTarget(me)}function Nn(N,se,fe){const ne=se.isScene===!0?se.overrideMaterial:null;for(let me=0,it=N.length;me<it;me++){const ut=N[me],mt=ut.object,yt=ut.geometry,Pt=ne===null?ut.material:ne,St=ut.group;mt.layers.test(fe.layers)&&Ut(mt,se,fe,yt,Pt,St)}}function Ut(N,se,fe,ne,me,it){N.onBeforeRender(g,se,fe,ne,me,it),N.modelViewMatrix.multiplyMatrices(fe.matrixWorldInverse,N.matrixWorld),N.normalMatrix.getNormalMatrix(N.modelViewMatrix),me.onBeforeRender(g,se,fe,ne,N,it),me.transparent===!0&&me.side===Xr&&me.forceSinglePass===!1?(me.side=ji,me.needsUpdate=!0,g.renderBufferDirect(fe,se,ne,me,N,it),me.side=ws,me.needsUpdate=!0,g.renderBufferDirect(fe,se,ne,me,N,it),me.side=Xr):g.renderBufferDirect(fe,se,ne,me,N,it),N.onAfterRender(g,se,fe,ne,me,it)}function bn(N,se,fe){se.isScene!==!0&&(se=ie);const ne=_e.get(N),me=p.state.lights,it=p.state.shadowsArray,ut=me.state.version,mt=Ke.getParameters(N,me.state,it,se,fe),yt=Ke.getProgramCacheKey(mt);let Pt=ne.programs;ne.environment=N.isMeshStandardMaterial?se.environment:null,ne.fog=se.fog,ne.envMap=(N.isMeshStandardMaterial?Me:he).get(N.envMap||ne.environment),Pt===void 0&&(N.addEventListener("dispose",Y),Pt=new Map,ne.programs=Pt);let St=Pt.get(yt);if(St!==void 0){if(ne.currentProgram===St&&ne.lightsStateVersion===ut)return Zn(N,mt),St}else mt.uniforms=Ke.getUniforms(N),N.onBuild(fe,mt,g),N.onBeforeCompile(mt,g),St=Ke.acquireProgram(mt,yt),Pt.set(yt,St),ne.uniforms=mt.uniforms;const Tt=ne.uniforms;(!N.isShaderMaterial&&!N.isRawShaderMaterial||N.clipping===!0)&&(Tt.clippingPlanes=U.uniform),Zn(N,mt),ne.needsLights=Dh(N),ne.lightsStateVersion=ut,ne.needsLights&&(Tt.ambientLightColor.value=me.state.ambient,Tt.lightProbe.value=me.state.probe,Tt.directionalLights.value=me.state.directional,Tt.directionalLightShadows.value=me.state.directionalShadow,Tt.spotLights.value=me.state.spot,Tt.spotLightShadows.value=me.state.spotShadow,Tt.rectAreaLights.value=me.state.rectArea,Tt.ltc_1.value=me.state.rectAreaLTC1,Tt.ltc_2.value=me.state.rectAreaLTC2,Tt.pointLights.value=me.state.point,Tt.pointLightShadows.value=me.state.pointShadow,Tt.hemisphereLights.value=me.state.hemi,Tt.directionalShadowMap.value=me.state.directionalShadowMap,Tt.directionalShadowMatrix.value=me.state.directionalShadowMatrix,Tt.spotShadowMap.value=me.state.spotShadowMap,Tt.spotLightMatrix.value=me.state.spotLightMatrix,Tt.spotLightMap.value=me.state.spotLightMap,Tt.pointShadowMap.value=me.state.pointShadowMap,Tt.pointShadowMatrix.value=me.state.pointShadowMatrix);const gn=St.getUniforms(),_i=cg.seqWithValue(gn.seq,Tt);return ne.currentProgram=St,ne.uniformsList=_i,St}function Zn(N,se){const fe=_e.get(N);fe.outputEncoding=se.outputEncoding,fe.instancing=se.instancing,fe.skinning=se.skinning,fe.morphTargets=se.morphTargets,fe.morphNormals=se.morphNormals,fe.morphColors=se.morphColors,fe.morphTargetsCount=se.morphTargetsCount,fe.numClippingPlanes=se.numClippingPlanes,fe.numIntersection=se.numClipIntersection,fe.vertexAlphas=se.vertexAlphas,fe.vertexTangents=se.vertexTangents,fe.toneMapping=se.toneMapping}function dv(N,se,fe,ne,me){se.isScene!==!0&&(se=ie),de.resetTextureUnits();const it=se.fog,ut=ne.isMeshStandardMaterial?se.environment:null,mt=S===null?g.outputEncoding:S.isXRRenderTarget===!0?S.texture.encoding:ca,yt=(ne.isMeshStandardMaterial?Me:he).get(ne.envMap||ut),Pt=ne.vertexColors===!0&&!!fe.attributes.color&&fe.attributes.color.itemSize===4,St=!!ne.normalMap&&!!fe.attributes.tangent,Tt=!!fe.morphAttributes.position,gn=!!fe.morphAttributes.normal,_i=!!fe.morphAttributes.color,Lr=ne.toneMapped?g.toneMapping:Qr,Ms=fe.morphAttributes.position||fe.morphAttributes.normal||fe.morphAttributes.color,vn=Ms!==void 0?Ms.length:0,_t=_e.get(ne),bs=p.state.lights;if(k===!0&&(K===!0||N!==T)){const xn=N===T&&ne.id===M;U.setState(ne,N,xn)}let yn=!1;ne.version===_t.__version?(_t.needsLights&&_t.lightsStateVersion!==bs.state.version||_t.outputEncoding!==mt||me.isInstancedMesh&&_t.instancing===!1||!me.isInstancedMesh&&_t.instancing===!0||me.isSkinnedMesh&&_t.skinning===!1||!me.isSkinnedMesh&&_t.skinning===!0||_t.envMap!==yt||ne.fog===!0&&_t.fog!==it||_t.numClippingPlanes!==void 0&&(_t.numClippingPlanes!==U.numPlanes||_t.numIntersection!==U.numIntersection)||_t.vertexAlphas!==Pt||_t.vertexTangents!==St||_t.morphTargets!==Tt||_t.morphNormals!==gn||_t.morphColors!==_i||_t.toneMapping!==Lr||De.isWebGL2===!0&&_t.morphTargetsCount!==vn)&&(yn=!0):(yn=!0,_t.__version=ne.version);let Dr=_t.currentProgram;yn===!0&&(Dr=bn(ne,se,me));let Ih=!1,Cs=!1,is=!1;const en=Dr.getUniforms(),Lt=_t.uniforms;if(Fe.useProgram(Dr.program)&&(Ih=!0,Cs=!0,is=!0),ne.id!==M&&(M=ne.id,Cs=!0),Ih||T!==N){if(en.setValue(q,"projectionMatrix",N.projectionMatrix),De.logarithmicDepthBuffer&&en.setValue(q,"logDepthBufFC",2/(Math.log(N.far+1)/Math.LN2)),T!==N&&(T=N,Cs=!0,is=!0),ne.isShaderMaterial||ne.isMeshPhongMaterial||ne.isMeshToonMaterial||ne.isMeshStandardMaterial||ne.envMap){const xn=en.map.cameraPosition;xn!==void 0&&xn.setValue(q,X.setFromMatrixPosition(N.matrixWorld))}(ne.isMeshPhongMaterial||ne.isMeshToonMaterial||ne.isMeshLambertMaterial||ne.isMeshBasicMaterial||ne.isMeshStandardMaterial||ne.isShaderMaterial)&&en.setValue(q,"isOrthographic",N.isOrthographicCamera===!0),(ne.isMeshPhongMaterial||ne.isMeshToonMaterial||ne.isMeshLambertMaterial||ne.isMeshBasicMaterial||ne.isMeshStandardMaterial||ne.isShaderMaterial||ne.isShadowMaterial||me.isSkinnedMesh)&&en.setValue(q,"viewMatrix",N.matrixWorldInverse)}if(me.isSkinnedMesh){en.setOptional(q,me,"bindMatrix"),en.setOptional(q,me,"bindMatrixInverse");const xn=me.skeleton;xn&&(De.floatVertexTextures?(xn.boneTexture===null&&xn.computeBoneTexture(),en.setValue(q,"boneTexture",xn.boneTexture,de),en.setValue(q,"boneTextureSize",xn.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Gt=fe.morphAttributes;if((Gt.position!==void 0||Gt.normal!==void 0||Gt.color!==void 0&&De.isWebGL2===!0)&&be.update(me,fe,Dr),(Cs||_t.receiveShadow!==me.receiveShadow)&&(_t.receiveShadow=me.receiveShadow,en.setValue(q,"receiveShadow",me.receiveShadow)),ne.isMeshGouraudMaterial&&ne.envMap!==null&&(Lt.envMap.value=yt,Lt.flipEnvMap.value=yt.isCubeTexture&&yt.isRenderTargetTexture===!1?-1:1),Cs&&(en.setValue(q,"toneMappingExposure",g.toneMappingExposure),_t.needsLights&&hv(Lt,is),it&&ne.fog===!0&&et.refreshFogUniforms(Lt,it),et.refreshMaterialUniforms(Lt,ne,O,L,J),cg.upload(q,_t.uniformsList,Lt,de)),ne.isShaderMaterial&&ne.uniformsNeedUpdate===!0&&(cg.upload(q,_t.uniformsList,Lt,de),ne.uniformsNeedUpdate=!1),ne.isSpriteMaterial&&en.setValue(q,"center",me.center),en.setValue(q,"modelViewMatrix",me.modelViewMatrix),en.setValue(q,"normalMatrix",me.normalMatrix),en.setValue(q,"modelMatrix",me.matrixWorld),ne.isShaderMaterial||ne.isRawShaderMaterial){const xn=ne.uniformsGroups;for(let Rn=0,oi=xn.length;Rn<oi;Rn++)if(De.isWebGL2){const rs=xn[Rn];ge.update(rs,Dr),ge.bind(rs,Dr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Dr}function hv(N,se){N.ambientLightColor.needsUpdate=se,N.lightProbe.needsUpdate=se,N.directionalLights.needsUpdate=se,N.directionalLightShadows.needsUpdate=se,N.pointLights.needsUpdate=se,N.pointLightShadows.needsUpdate=se,N.spotLights.needsUpdate=se,N.spotLightShadows.needsUpdate=se,N.rectAreaLights.needsUpdate=se,N.hemisphereLights.needsUpdate=se}function Dh(N){return N.isMeshLambertMaterial||N.isMeshToonMaterial||N.isMeshPhongMaterial||N.isMeshStandardMaterial||N.isShadowMaterial||N.isShaderMaterial&&N.lights===!0}this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(N,se,fe){_e.get(N.texture).__webglTexture=se,_e.get(N.depthTexture).__webglTexture=fe;const ne=_e.get(N);ne.__hasExternalTextures=!0,ne.__hasExternalTextures&&(ne.__autoAllocateDepthBuffer=fe===void 0,ne.__autoAllocateDepthBuffer||Ae.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ne.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(N,se){const fe=_e.get(N);fe.__webglFramebuffer=se,fe.__useDefaultFramebuffer=se===void 0},this.setRenderTarget=function(N,se=0,fe=0){S=N,w=se,_=fe;let ne=!0,me=null,it=!1,ut=!1;if(N){const yt=_e.get(N);yt.__useDefaultFramebuffer!==void 0?(Fe.bindFramebuffer(36160,null),ne=!1):yt.__webglFramebuffer===void 0?de.setupRenderTarget(N):yt.__hasExternalTextures&&de.rebindTextures(N,_e.get(N.texture).__webglTexture,_e.get(N.depthTexture).__webglTexture);const Pt=N.texture;(Pt.isData3DTexture||Pt.isDataArrayTexture||Pt.isCompressedArrayTexture)&&(ut=!0);const St=_e.get(N).__webglFramebuffer;N.isWebGLCubeRenderTarget?(me=St[se],it=!0):De.isWebGL2&&N.samples>0&&de.useMultisampledRTT(N)===!1?me=_e.get(N).__webglMultisampledFramebuffer:me=St,E.copy(N.viewport),B.copy(N.scissor),C=N.scissorTest}else E.copy(G).multiplyScalar(O).floor(),B.copy($).multiplyScalar(O).floor(),C=ee;if(Fe.bindFramebuffer(36160,me)&&De.drawBuffers&&ne&&Fe.drawBuffers(N,me),Fe.viewport(E),Fe.scissor(B),Fe.setScissorTest(C),it){const yt=_e.get(N.texture);q.framebufferTexture2D(36160,36064,34069+se,yt.__webglTexture,fe)}else if(ut){const yt=_e.get(N.texture),Pt=se||0;q.framebufferTextureLayer(36160,36064,yt.__webglTexture,fe||0,Pt)}M=-1},this.readRenderTargetPixels=function(N,se,fe,ne,me,it,ut){if(!(N&&N.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let mt=_e.get(N).__webglFramebuffer;if(N.isWebGLCubeRenderTarget&&ut!==void 0&&(mt=mt[ut]),mt){Fe.bindFramebuffer(36160,mt);try{const yt=N.texture,Pt=yt.format,St=yt.type;if(Pt!==Ui&&Qe.convert(Pt)!==q.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Tt=St===pu&&(Ae.has("EXT_color_buffer_half_float")||De.isWebGL2&&Ae.has("EXT_color_buffer_float"));if(St!==oo&&Qe.convert(St)!==q.getParameter(35738)&&!(St===Js&&(De.isWebGL2||Ae.has("OES_texture_float")||Ae.has("WEBGL_color_buffer_float")))&&!Tt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}se>=0&&se<=N.width-ne&&fe>=0&&fe<=N.height-me&&q.readPixels(se,fe,ne,me,Qe.convert(Pt),Qe.convert(St),it)}finally{const yt=S!==null?_e.get(S).__webglFramebuffer:null;Fe.bindFramebuffer(36160,yt)}}},this.copyFramebufferToTexture=function(N,se,fe=0){const ne=Math.pow(2,-fe),me=Math.floor(se.image.width*ne),it=Math.floor(se.image.height*ne);de.setTexture2D(se,0),q.copyTexSubImage2D(3553,fe,0,0,N.x,N.y,me,it),Fe.unbindTexture()},this.copyTextureToTexture=function(N,se,fe,ne=0){const me=se.image.width,it=se.image.height,ut=Qe.convert(fe.format),mt=Qe.convert(fe.type);de.setTexture2D(fe,0),q.pixelStorei(37440,fe.flipY),q.pixelStorei(37441,fe.premultiplyAlpha),q.pixelStorei(3317,fe.unpackAlignment),se.isDataTexture?q.texSubImage2D(3553,ne,N.x,N.y,me,it,ut,mt,se.image.data):se.isCompressedTexture?q.compressedTexSubImage2D(3553,ne,N.x,N.y,se.mipmaps[0].width,se.mipmaps[0].height,ut,se.mipmaps[0].data):q.texSubImage2D(3553,ne,N.x,N.y,ut,mt,se.image),ne===0&&fe.generateMipmaps&&q.generateMipmap(3553),Fe.unbindTexture()},this.copyTextureToTexture3D=function(N,se,fe,ne,me=0){if(g.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const it=N.max.x-N.min.x+1,ut=N.max.y-N.min.y+1,mt=N.max.z-N.min.z+1,yt=Qe.convert(ne.format),Pt=Qe.convert(ne.type);let St;if(ne.isData3DTexture)de.setTexture3D(ne,0),St=32879;else if(ne.isDataArrayTexture)de.setTexture2DArray(ne,0),St=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}q.pixelStorei(37440,ne.flipY),q.pixelStorei(37441,ne.premultiplyAlpha),q.pixelStorei(3317,ne.unpackAlignment);const Tt=q.getParameter(3314),gn=q.getParameter(32878),_i=q.getParameter(3316),Lr=q.getParameter(3315),Ms=q.getParameter(32877),vn=fe.isCompressedTexture?fe.mipmaps[0]:fe.image;q.pixelStorei(3314,vn.width),q.pixelStorei(32878,vn.height),q.pixelStorei(3316,N.min.x),q.pixelStorei(3315,N.min.y),q.pixelStorei(32877,N.min.z),fe.isDataTexture||fe.isData3DTexture?q.texSubImage3D(St,me,se.x,se.y,se.z,it,ut,mt,yt,Pt,vn.data):fe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),q.compressedTexSubImage3D(St,me,se.x,se.y,se.z,it,ut,mt,yt,vn.data)):q.texSubImage3D(St,me,se.x,se.y,se.z,it,ut,mt,yt,Pt,vn),q.pixelStorei(3314,Tt),q.pixelStorei(32878,gn),q.pixelStorei(3316,_i),q.pixelStorei(3315,Lr),q.pixelStorei(32877,Ms),me===0&&ne.generateMipmaps&&q.generateMipmap(St),Fe.unbindTexture()},this.initTexture=function(N){N.isCubeTexture?de.setTextureCube(N,0):N.isData3DTexture?de.setTexture3D(N,0):N.isDataArrayTexture||N.isCompressedArrayTexture?de.setTexture2DArray(N,0):de.setTexture2D(N,0),Fe.unbindTexture()},this.resetState=function(){w=0,_=0,S=null,Fe.reset(),Ue.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Object.defineProperties(z0.prototype,{physicallyCorrectLights:{get:function(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights},set:function(n){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!n}}});class fL extends z0{}fL.prototype.isWebGL1Renderer=!0;class U0{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Oe(e),this.density=t}clone(){return new U0(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class G0{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Oe(e),this.near=t,this.far=i}clone(){return new G0(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Wg extends Bt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class nh{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Rd,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ir()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ir()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ir()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ai=new I;class ua{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Ai.fromBufferAttribute(this,t),Ai.applyMatrix4(e),this.setXYZ(t,Ai.x,Ai.y,Ai.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Ai.fromBufferAttribute(this,t),Ai.applyNormalMatrix(e),this.setXYZ(t,Ai.x,Ai.y,Ai.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Ai.fromBufferAttribute(this,t),Ai.transformDirection(e),this.setXYZ(t,Ai.x,Ai.y,Ai.z);return this}setX(e,t){return this.normalized&&(t=Xt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Xt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Xt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Xt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Xs(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Xs(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Xs(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Xs(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Xt(t,this.array),i=Xt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Xt(t,this.array),i=Xt(i,this.array),r=Xt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Xt(t,this.array),i=Xt(i,this.array),r=Xt(r,this.array),s=Xt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Ft(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new ua(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class US extends Fn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Oe(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let vc;const Af=new I,yc=new I,xc=new I,_c=new pe,Mf=new pe,dL=new ct,fm=new I,bf=new I,dm=new I,AT=new pe,px=new pe,MT=new pe;class hL extends Bt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",vc===void 0){vc=new ht;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new nh(t,5);vc.setIndex([0,1,2,0,2,3]),vc.setAttribute("position",new ua(i,3,0,!1)),vc.setAttribute("uv",new ua(i,2,3,!1))}this.geometry=vc,this.material=e!==void 0?e:new US,this.center=new pe(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),yc.setFromMatrixScale(this.matrixWorld),dL.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),xc.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&yc.multiplyScalar(-xc.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;hm(fm.set(-.5,-.5,0),xc,o,yc,r,s),hm(bf.set(.5,-.5,0),xc,o,yc,r,s),hm(dm.set(.5,.5,0),xc,o,yc,r,s),AT.set(0,0),px.set(1,0),MT.set(1,1);let a=e.ray.intersectTriangle(fm,bf,dm,!1,Af);if(a===null&&(hm(bf.set(-.5,.5,0),xc,o,yc,r,s),px.set(0,1),a=e.ray.intersectTriangle(fm,dm,bf,!1,Af),a===null))return;const l=e.ray.origin.distanceTo(Af);l<e.near||l>e.far||t.push({distance:l,point:Af.clone(),uv:Cr.getUV(Af,fm,bf,dm,AT,px,MT,new pe),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function hm(n,e,t,i,r,s){_c.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(Mf.x=s*_c.x-r*_c.y,Mf.y=r*_c.x+s*_c.y):Mf.copy(_c),n.copy(e),n.x+=Mf.x,n.y+=Mf.y,n.applyMatrix4(dL)}const pm=new I,bT=new I;class pL extends Bt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){pm.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(pm);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){pm.setFromMatrixPosition(e.matrixWorld),bT.setFromMatrixPosition(this.matrixWorld);const i=pm.distanceTo(bT)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const CT=new I,TT=new Vt,ET=new Vt,x8=new I,PT=new ct;class GS extends Yn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ct,this.bindMatrixInverse=new ct}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Vt,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const i=this.skeleton,r=this.geometry;TT.fromBufferAttribute(r.attributes.skinIndex,e),ET.fromBufferAttribute(r.attributes.skinWeight,e),CT.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=ET.getComponent(s);if(o!==0){const a=TT.getComponent(s);PT.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(x8.copy(CT).applyMatrix4(PT),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class H0 extends Bt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class tu extends an{constructor(e=null,t=1,i=1,r,s,o,a,l,c=An,d=An,h,p){super(null,o,a,l,c,d,r,s,h,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const RT=new ct,_8=new ct;class ih{constructor(e=[],t=[]){this.uuid=ir(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new ct)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new ct;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:_8;RT.multiplyMatrices(a,t[s]),RT.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new ih(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=QB(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new tu(t,e,e,Ui,Js);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new H0),this.bones.push(o),this.boneInverses.push(new ct().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class bl extends Ft{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const BT=new ct,LT=new ct,mm=[],w8=new ct,Cf=new Yn;class HS extends Yn{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new bl(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1;for(let r=0;r<i;r++)this.setMatrixAt(r,w8)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(Cf.geometry=this.geometry,Cf.material=this.material,Cf.material!==void 0)for(let s=0;s<r;s++){this.getMatrixAt(s,BT),LT.multiplyMatrices(i,BT),Cf.matrixWorld=LT,Cf.raycast(e,mm);for(let o=0,a=mm.length;o<a;o++){const l=mm[o];l.instanceId=s,l.object=this,t.push(l)}mm.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new bl(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class xi extends Fn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Oe(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const DT=new I,IT=new I,OT=new ct,mx=new Du,gm=new xa;class ao extends Bt{constructor(e=new ht,t=new xi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)DT.fromBufferAttribute(t,r-1),IT.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=DT.distanceTo(IT);e.setAttribute("lineDistance",new Xe(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),gm.copy(i.boundingSphere),gm.applyMatrix4(r),gm.radius+=s,e.ray.intersectsSphere(gm)===!1)return;OT.copy(r).invert(),mx.copy(e.ray).applyMatrix4(OT);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new I,d=new I,h=new I,p=new I,m=this.isLineSegments?2:1,y=i.index,x=i.attributes.position;if(y!==null){const w=Math.max(0,o.start),_=Math.min(y.count,o.start+o.count);for(let S=w,M=_-1;S<M;S+=m){const T=y.getX(S),E=y.getX(S+1);if(c.fromBufferAttribute(x,T),d.fromBufferAttribute(x,E),mx.distanceSqToSegment(c,d,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(p);C<e.near||C>e.far||t.push({distance:C,point:h.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const w=Math.max(0,o.start),_=Math.min(x.count,o.start+o.count);for(let S=w,M=_-1;S<M;S+=m){if(c.fromBufferAttribute(x,S),d.fromBufferAttribute(x,S+1),mx.distanceSqToSegment(c,d,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(p);E<e.near||E>e.far||t.push({distance:E,point:h.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const kT=new I,FT=new I;class es extends ao{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)kT.fromBufferAttribute(t,r),FT.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+kT.distanceTo(FT);e.setAttribute("lineDistance",new Xe(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class VS extends ao{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class rh extends Fn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Oe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const NT=new ct,k1=new Du,vm=new xa,ym=new I;let WS=class extends Bt{constructor(e=new ht,t=new rh){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),vm.copy(i.boundingSphere),vm.applyMatrix4(r),vm.radius+=s,e.ray.intersectsSphere(vm)===!1)return;NT.copy(r).invert(),k1.copy(e.ray).applyMatrix4(NT);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,h=i.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let y=p,g=m;y<g;y++){const x=c.getX(y);ym.fromBufferAttribute(h,x),zT(ym,x,l,r,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let y=p,g=m;y<g;y++)ym.fromBufferAttribute(h,y),zT(ym,y,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};function zT(n,e,t,i,r,s,o){const a=k1.distanceSqToPoint(n);if(a<t){const l=new I;k1.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class S8 extends an{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:fn,this.magFilter=s!==void 0?s:fn,this.generateMipmaps=!1;const d=this;function h(){d.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class A8 extends an{constructor(e,t,i){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=i,this.magFilter=An,this.minFilter=An,this.generateMipmaps=!1,this.needsUpdate=!0}}class jS extends an{constructor(e,t,i,r,s,o,a,l,c,d,h,p){super(null,o,a,l,c,d,r,s,h,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class M8 extends jS{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=ni}}class b8 extends an{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ts{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const d=i[r],p=i[r+1]-d,m=(o-d)/p;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new pe:new I);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new I,r=[],s=[],o=[],a=new I,l=new ct;for(let m=0;m<=e;m++){const y=m/e;r[m]=this.getTangentAt(y,new I)}s[0]=new I,o[0]=new I;let c=Number.MAX_VALUE;const d=Math.abs(r[0].x),h=Math.abs(r[0].y),p=Math.abs(r[0].z);d<=c&&(c=d,i.set(1,0,0)),h<=c&&(c=h,i.set(0,1,0)),p<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(Pn(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,y))}o[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(Pn(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(r[y],m*y)),o[y].crossVectors(r[y],s[y])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class V0 extends ts{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const i=t||new pe,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*d-m*h+this.aX,c=p*h+m*d+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class mL extends V0{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function JS(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,d,h){let p=(o-s)/c-(a-s)/(c+d)+(a-o)/d,m=(a-o)/d-(l-o)/(d+h)+(l-a)/h;p*=d,m*=d,r(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const xm=new I,gx=new JS,vx=new JS,yx=new JS;class gL extends ts{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new I){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,d;this.closed||a>0?c=r[(a-1)%s]:(xm.subVectors(r[0],r[1]).add(r[0]),c=xm);const h=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?d=r[(a+2)%s]:(xm.subVectors(r[s-1],r[s-2]).add(r[s-1]),d=xm),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let y=Math.pow(c.distanceToSquared(h),m),g=Math.pow(h.distanceToSquared(p),m),x=Math.pow(p.distanceToSquared(d),m);g<1e-4&&(g=1),y<1e-4&&(y=g),x<1e-4&&(x=g),gx.initNonuniformCatmullRom(c.x,h.x,p.x,d.x,y,g,x),vx.initNonuniformCatmullRom(c.y,h.y,p.y,d.y,y,g,x),yx.initNonuniformCatmullRom(c.z,h.z,p.z,d.z,y,g,x)}else this.curveType==="catmullrom"&&(gx.initCatmullRom(c.x,h.x,p.x,d.x,this.tension),vx.initCatmullRom(c.y,h.y,p.y,d.y,this.tension),yx.initCatmullRom(c.z,h.z,p.z,d.z,this.tension));return i.set(gx.calc(l),vx.calc(l),yx.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new I().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function UT(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function C8(n,e){const t=1-n;return t*t*e}function T8(n,e){return 2*(1-n)*n*e}function E8(n,e){return n*n*e}function td(n,e,t,i){return C8(n,e)+T8(n,t)+E8(n,i)}function P8(n,e){const t=1-n;return t*t*t*e}function R8(n,e){const t=1-n;return 3*t*t*n*e}function B8(n,e){return 3*(1-n)*n*n*e}function L8(n,e){return n*n*n*e}function nd(n,e,t,i,r){return P8(n,e)+R8(n,t)+B8(n,i)+L8(n,r)}class XS extends ts{constructor(e=new pe,t=new pe,i=new pe,r=new pe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new pe){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(nd(e,r.x,s.x,o.x,a.x),nd(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class vL extends ts{constructor(e=new I,t=new I,i=new I,r=new I){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new I){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(nd(e,r.x,s.x,o.x,a.x),nd(e,r.y,s.y,o.y,a.y),nd(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class W0 extends ts{constructor(e=new pe,t=new pe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new pe){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new pe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class yL extends ts{constructor(e=new I,t=new I){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new I){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new I){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class KS extends ts{constructor(e=new pe,t=new pe,i=new pe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new pe){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(td(e,r.x,s.x,o.x),td(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class YS extends ts{constructor(e=new I,t=new I,i=new I){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new I){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(td(e,r.x,s.x,o.x),td(e,r.y,s.y,o.y),td(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class QS extends ts{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new pe){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],d=r[o>r.length-2?r.length-1:o+1],h=r[o>r.length-3?r.length-1:o+2];return i.set(UT(a,l.x,c.x,d.x,h.x),UT(a,l.y,c.y,d.y,h.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new pe().fromArray(r))}return this}}var qS=Object.freeze({__proto__:null,ArcCurve:mL,CatmullRomCurve3:gL,CubicBezierCurve:XS,CubicBezierCurve3:vL,EllipseCurve:V0,LineCurve:W0,LineCurve3:yL,QuadraticBezierCurve:KS,QuadraticBezierCurve3:YS,SplineCurve:QS});class xL extends ts{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new W0(t,e))}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const d=l[c];i&&i.equals(d)||(t.push(d),i=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new qS[r.type]().fromJSON(r))}return this}}class Dd extends xL{constructor(e){super(),this.type="Path",this.currentPoint=new pe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new W0(this.currentPoint.clone(),new pe(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new KS(this.currentPoint.clone(),new pe(e,t),new pe(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new XS(this.currentPoint.clone(),new pe(e,t),new pe(i,r),new pe(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new QS(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const c=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+c,t+d,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const c=new V0(e,t,i,r,s,o,a,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const d=c.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class ku extends ht{constructor(e=[new pe(0,-.5),new pe(.5,0),new pe(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=Pn(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],d=1/t,h=new I,p=new pe,m=new I,y=new I,g=new I;let x=0,w=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:x=e[_+1].x-e[_].x,w=e[_+1].y-e[_].y,m.x=w*1,m.y=-x,m.z=w*0,g.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(g.x,g.y,g.z);break;default:x=e[_+1].x-e[_].x,w=e[_+1].y-e[_].y,m.x=w*1,m.y=-x,m.z=w*0,y.copy(m),m.x+=g.x,m.y+=g.y,m.z+=g.z,m.normalize(),l.push(m.x,m.y,m.z),g.copy(y)}for(let _=0;_<=t;_++){const S=i+_*d*r,M=Math.sin(S),T=Math.cos(S);for(let E=0;E<=e.length-1;E++){h.x=e[E].x*M,h.y=e[E].y,h.z=e[E].x*T,o.push(h.x,h.y,h.z),p.x=_/t,p.y=E/(e.length-1),a.push(p.x,p.y);const B=l[3*E+0]*M,C=l[3*E+1],R=l[3*E+0]*T;c.push(B,C,R)}}for(let _=0;_<t;_++)for(let S=0;S<e.length-1;S++){const M=S+_*e.length,T=M,E=M+e.length,B=M+e.length+1,C=M+1;s.push(T,E,C),s.push(B,C,E)}this.setIndex(s),this.setAttribute("position",new Xe(o,3)),this.setAttribute("uv",new Xe(a,2)),this.setAttribute("normal",new Xe(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ku(e.points,e.segments,e.phiStart,e.phiLength)}}class sh extends ku{constructor(e=1,t=1,i=4,r=8){const s=new Dd;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new sh(e.radius,e.length,e.capSegments,e.radialSegments)}}class oh extends ht{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new I,d=new pe;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=t;h++,p+=3){const m=i+h/t*r;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),d.x=(o[p]/e+1)/2,d.y=(o[p+1]/e+1)/2,l.push(d.x,d.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new Xe(o,3)),this.setAttribute("normal",new Xe(a,3)),this.setAttribute("uv",new Xe(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new oh(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Fl extends ht{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const d=[],h=[],p=[],m=[];let y=0;const g=[],x=i/2;let w=0;_(),o===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(d),this.setAttribute("position",new Xe(h,3)),this.setAttribute("normal",new Xe(p,3)),this.setAttribute("uv",new Xe(m,2));function _(){const M=new I,T=new I;let E=0;const B=(t-e)/i;for(let C=0;C<=s;C++){const R=[],L=C/s,O=L*(t-e)+e;for(let V=0;V<=r;V++){const H=V/r,G=H*l+a,$=Math.sin(G),ee=Math.cos(G);T.x=O*$,T.y=-L*i+x,T.z=O*ee,h.push(T.x,T.y,T.z),M.set($,B,ee).normalize(),p.push(M.x,M.y,M.z),m.push(H,1-L),R.push(y++)}g.push(R)}for(let C=0;C<r;C++)for(let R=0;R<s;R++){const L=g[R][C],O=g[R+1][C],V=g[R+1][C+1],H=g[R][C+1];d.push(L,O,H),d.push(O,V,H),E+=6}c.addGroup(w,E,0),w+=E}function S(M){const T=y,E=new pe,B=new I;let C=0;const R=M===!0?e:t,L=M===!0?1:-1;for(let V=1;V<=r;V++)h.push(0,x*L,0),p.push(0,L,0),m.push(.5,.5),y++;const O=y;for(let V=0;V<=r;V++){const G=V/r*l+a,$=Math.cos(G),ee=Math.sin(G);B.x=R*ee,B.y=x*L,B.z=R*$,h.push(B.x,B.y,B.z),p.push(0,L,0),E.x=$*.5+.5,E.y=ee*.5*L+.5,m.push(E.x,E.y),y++}for(let V=0;V<r;V++){const H=T+V,G=O+V;M===!0?d.push(G,G+1,H):d.push(G+1,G,H),C+=3}c.addGroup(w,C,M===!0?1:2),w+=C}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fl(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ah extends Fl{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new ah(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class po extends ht{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),c(i),d(),this.setAttribute("position",new Xe(s,3)),this.setAttribute("normal",new Xe(s.slice(),3)),this.setAttribute("uv",new Xe(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const S=new I,M=new I,T=new I;for(let E=0;E<t.length;E+=3)m(t[E+0],S),m(t[E+1],M),m(t[E+2],T),l(S,M,T,_)}function l(_,S,M,T){const E=T+1,B=[];for(let C=0;C<=E;C++){B[C]=[];const R=_.clone().lerp(M,C/E),L=S.clone().lerp(M,C/E),O=E-C;for(let V=0;V<=O;V++)V===0&&C===E?B[C][V]=R:B[C][V]=R.clone().lerp(L,V/O)}for(let C=0;C<E;C++)for(let R=0;R<2*(E-C)-1;R++){const L=Math.floor(R/2);R%2===0?(p(B[C][L+1]),p(B[C+1][L]),p(B[C][L])):(p(B[C][L+1]),p(B[C+1][L+1]),p(B[C+1][L]))}}function c(_){const S=new I;for(let M=0;M<s.length;M+=3)S.x=s[M+0],S.y=s[M+1],S.z=s[M+2],S.normalize().multiplyScalar(_),s[M+0]=S.x,s[M+1]=S.y,s[M+2]=S.z}function d(){const _=new I;for(let S=0;S<s.length;S+=3){_.x=s[S+0],_.y=s[S+1],_.z=s[S+2];const M=x(_)/2/Math.PI+.5,T=w(_)/Math.PI+.5;o.push(M,1-T)}y(),h()}function h(){for(let _=0;_<o.length;_+=6){const S=o[_+0],M=o[_+2],T=o[_+4],E=Math.max(S,M,T),B=Math.min(S,M,T);E>.9&&B<.1&&(S<.2&&(o[_+0]+=1),M<.2&&(o[_+2]+=1),T<.2&&(o[_+4]+=1))}}function p(_){s.push(_.x,_.y,_.z)}function m(_,S){const M=_*3;S.x=e[M+0],S.y=e[M+1],S.z=e[M+2]}function y(){const _=new I,S=new I,M=new I,T=new I,E=new pe,B=new pe,C=new pe;for(let R=0,L=0;R<s.length;R+=9,L+=6){_.set(s[R+0],s[R+1],s[R+2]),S.set(s[R+3],s[R+4],s[R+5]),M.set(s[R+6],s[R+7],s[R+8]),E.set(o[L+0],o[L+1]),B.set(o[L+2],o[L+3]),C.set(o[L+4],o[L+5]),T.copy(_).add(S).add(M).divideScalar(3);const O=x(T);g(E,L+0,_,O),g(B,L+2,S,O),g(C,L+4,M,O)}}function g(_,S,M,T){T<0&&_.x===1&&(o[S]=_.x-1),M.x===0&&M.z===0&&(o[S]=T/2/Math.PI+.5)}function x(_){return Math.atan2(_.z,-_.x)}function w(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new po(e.vertices,e.indices,e.radius,e.details)}}class lh extends po{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new lh(e.radius,e.detail)}}const _m=new I,wm=new I,xx=new I,Sm=new Cr;class _L extends ht{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(pl*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],d=["a","b","c"],h=new Array(3),p={},m=[];for(let y=0;y<l;y+=3){o?(c[0]=o.getX(y),c[1]=o.getX(y+1),c[2]=o.getX(y+2)):(c[0]=y,c[1]=y+1,c[2]=y+2);const{a:g,b:x,c:w}=Sm;if(g.fromBufferAttribute(a,c[0]),x.fromBufferAttribute(a,c[1]),w.fromBufferAttribute(a,c[2]),Sm.getNormal(xx),h[0]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,h[1]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,h[2]=`${Math.round(w.x*r)},${Math.round(w.y*r)},${Math.round(w.z*r)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let _=0;_<3;_++){const S=(_+1)%3,M=h[_],T=h[S],E=Sm[d[_]],B=Sm[d[S]],C=`${M}_${T}`,R=`${T}_${M}`;R in p&&p[R]?(xx.dot(p[R].normal)<=s&&(m.push(E.x,E.y,E.z),m.push(B.x,B.y,B.z)),p[R]=null):C in p||(p[C]={index0:c[_],index1:c[S],normal:xx.clone()})}}for(const y in p)if(p[y]){const{index0:g,index1:x}=p[y];_m.fromBufferAttribute(a,g),wm.fromBufferAttribute(a,x),m.push(_m.x,_m.y,_m.z),m.push(wm.x,wm.y,wm.z)}this.setAttribute("position",new Xe(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class gl extends Dd{constructor(e){super(e),this.uuid=ir(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new Dd().fromJSON(r))}return this}}const D8={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=wL(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,d,h,p,m;if(i&&(s=N8(n,e,s,t)),n.length>80*t){a=c=n[0],l=d=n[1];for(let y=t;y<r;y+=t)h=n[y],p=n[y+1],h<a&&(a=h),p<l&&(l=p),h>c&&(c=h),p>d&&(d=p);m=Math.max(c-a,d-l),m=m!==0?32767/m:0}return Id(s,o,t,a,l,m,0),o}};function wL(n,e,t,i,r){let s,o;if(r===Y8(n,e,t,i)>0)for(s=e;s<t;s+=i)o=GT(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=GT(s,n[s],n[s+1],o);return o&&j0(o,o.next)&&(kd(o),o=o.next),o}function Cl(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(j0(t,t.next)||dn(t.prev,t,t.next)===0)){if(kd(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Id(n,e,t,i,r,s,o){if(!n)return;!o&&s&&V8(n,i,r,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?O8(n,i,r,s):I8(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),kd(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=k8(Cl(n),e,t),Id(n,e,t,i,r,s,2)):o===2&&F8(n,e,t,i,r,s):Id(Cl(n),e,t,i,r,s,1);break}}}function I8(n){const e=n.prev,t=n,i=n.next;if(dn(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,c=i.y,d=r<s?r<o?r:o:s<o?s:o,h=a<l?a<c?a:c:l<c?l:c,p=r>s?r>o?r:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let y=i.next;for(;y!==e;){if(y.x>=d&&y.x<=p&&y.y>=h&&y.y<=m&&Uc(r,a,s,l,o,c,y.x,y.y)&&dn(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function O8(n,e,t,i){const r=n.prev,s=n,o=n.next;if(dn(r,s,o)>=0)return!1;const a=r.x,l=s.x,c=o.x,d=r.y,h=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,y=d<h?d<p?d:p:h<p?h:p,g=a>l?a>c?a:c:l>c?l:c,x=d>h?d>p?d:p:h>p?h:p,w=F1(m,y,e,t,i),_=F1(g,x,e,t,i);let S=n.prevZ,M=n.nextZ;for(;S&&S.z>=w&&M&&M.z<=_;){if(S.x>=m&&S.x<=g&&S.y>=y&&S.y<=x&&S!==r&&S!==o&&Uc(a,d,l,h,c,p,S.x,S.y)&&dn(S.prev,S,S.next)>=0||(S=S.prevZ,M.x>=m&&M.x<=g&&M.y>=y&&M.y<=x&&M!==r&&M!==o&&Uc(a,d,l,h,c,p,M.x,M.y)&&dn(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;S&&S.z>=w;){if(S.x>=m&&S.x<=g&&S.y>=y&&S.y<=x&&S!==r&&S!==o&&Uc(a,d,l,h,c,p,S.x,S.y)&&dn(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;M&&M.z<=_;){if(M.x>=m&&M.x<=g&&M.y>=y&&M.y<=x&&M!==r&&M!==o&&Uc(a,d,l,h,c,p,M.x,M.y)&&dn(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function k8(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!j0(r,s)&&SL(r,i,i.next,s)&&Od(r,s)&&Od(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),kd(i),kd(i.next),i=n=s),i=i.next}while(i!==n);return Cl(i)}function F8(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&J8(o,a)){let l=AL(o,a);o=Cl(o,o.next),l=Cl(l,l.next),Id(o,e,t,i,r,s,0),Id(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function N8(n,e,t,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,c=wL(n,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(j8(c));for(r.sort(z8),s=0;s<r.length;s++)t=U8(r[s],t);return t}function z8(n,e){return n.x-e.x}function U8(n,e){const t=G8(n,e);if(!t)return e;const i=AL(t,n);return Cl(i,i.next),Cl(t,t.next)}function G8(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>i&&(i=p,r=t.x<t.next.x?t:t.next,p===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,c=r.y;let d=1/0,h;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&Uc(o<c?s:i,o,l,c,o<c?i:s,o,t.x,t.y)&&(h=Math.abs(o-t.y)/(s-t.x),Od(t,n)&&(h<d||h===d&&(t.x>r.x||t.x===r.x&&H8(r,t)))&&(r=t,d=h)),t=t.next;while(t!==a);return r}function H8(n,e){return dn(n.prev,n,e.prev)<0&&dn(e.next,n,n.next)<0}function V8(n,e,t,i){let r=n;do r.z===0&&(r.z=F1(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,W8(r)}function W8(n){let e,t,i,r,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,c*=2}while(o>1);return n}function F1(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function j8(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Uc(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function J8(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!X8(n,e)&&(Od(n,e)&&Od(e,n)&&K8(n,e)&&(dn(n.prev,n,e.prev)||dn(n,e.prev,e))||j0(n,e)&&dn(n.prev,n,n.next)>0&&dn(e.prev,e,e.next)>0)}function dn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function j0(n,e){return n.x===e.x&&n.y===e.y}function SL(n,e,t,i){const r=Mm(dn(n,e,t)),s=Mm(dn(n,e,i)),o=Mm(dn(t,i,n)),a=Mm(dn(t,i,e));return!!(r!==s&&o!==a||r===0&&Am(n,t,e)||s===0&&Am(n,i,e)||o===0&&Am(t,n,i)||a===0&&Am(t,e,i))}function Am(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Mm(n){return n>0?1:n<0?-1:0}function X8(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&SL(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Od(n,e){return dn(n.prev,n,n.next)<0?dn(n,e,n.next)>=0&&dn(n,n.prev,e)>=0:dn(n,e,n.prev)<0||dn(n,n.next,e)<0}function K8(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function AL(n,e){const t=new N1(n.i,n.x,n.y),i=new N1(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function GT(n,e,t,i){const r=new N1(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function kd(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function N1(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Y8(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class xs{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return xs.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];HT(e),VT(i,e);let o=e.length;t.forEach(HT);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,VT(i,t[l]);const a=D8.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function HT(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function VT(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class ch extends ht{constructor(e=new gl([new pe(.5,.5),new pe(-.5,.5),new pe(-.5,-.5),new pe(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Xe(r,3)),this.setAttribute("uv",new Xe(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1,h=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,y=t.bevelSize!==void 0?t.bevelSize:m-.1,g=t.bevelOffset!==void 0?t.bevelOffset:0,x=t.bevelSegments!==void 0?t.bevelSegments:3;const w=t.extrudePath,_=t.UVGenerator!==void 0?t.UVGenerator:Q8;let S,M=!1,T,E,B,C;w&&(S=w.getSpacedPoints(d),M=!0,p=!1,T=w.computeFrenetFrames(d,!1),E=new I,B=new I,C=new I),p||(x=0,m=0,y=0,g=0);const R=a.extractPoints(c);let L=R.shape;const O=R.holes;if(!xs.isClockWise(L)){L=L.reverse();for(let de=0,he=O.length;de<he;de++){const Me=O[de];xs.isClockWise(Me)&&(O[de]=Me.reverse())}}const H=xs.triangulateShape(L,O),G=L;for(let de=0,he=O.length;de<he;de++){const Me=O[de];L=L.concat(Me)}function $(de,he,Me){return he||console.error("THREE.ExtrudeGeometry: vec does not exist"),de.clone().addScaledVector(he,Me)}const ee=L.length,oe=H.length;function k(de,he,Me){let Ve,Re,Ye;const Ke=de.x-he.x,et=de.y-he.y,wt=Me.x-de.x,Et=Me.y-de.y,U=Ke*Ke+et*et,D=Ke*Et-et*wt;if(Math.abs(D)>Number.EPSILON){const ae=Math.sqrt(U),be=Math.sqrt(wt*wt+Et*Et),Ce=he.x-et/ae,Pe=he.y+Ke/ae,Qe=Me.x-Et/be,Ue=Me.y+wt/be,ge=((Qe-Ce)*Et-(Ue-Pe)*wt)/(Ke*Et-et*wt);Ve=Ce+Ke*ge-de.x,Re=Pe+et*ge-de.y;const tt=Ve*Ve+Re*Re;if(tt<=2)return new pe(Ve,Re);Ye=Math.sqrt(tt/2)}else{let ae=!1;Ke>Number.EPSILON?wt>Number.EPSILON&&(ae=!0):Ke<-Number.EPSILON?wt<-Number.EPSILON&&(ae=!0):Math.sign(et)===Math.sign(Et)&&(ae=!0),ae?(Ve=-et,Re=Ke,Ye=Math.sqrt(U)):(Ve=Ke,Re=et,Ye=Math.sqrt(U/2))}return new pe(Ve/Ye,Re/Ye)}const K=[];for(let de=0,he=G.length,Me=he-1,Ve=de+1;de<he;de++,Me++,Ve++)Me===he&&(Me=0),Ve===he&&(Ve=0),K[de]=k(G[de],G[Me],G[Ve]);const J=[];let te,X=K.concat();for(let de=0,he=O.length;de<he;de++){const Me=O[de];te=[];for(let Ve=0,Re=Me.length,Ye=Re-1,Ke=Ve+1;Ve<Re;Ve++,Ye++,Ke++)Ye===Re&&(Ye=0),Ke===Re&&(Ke=0),te[Ve]=k(Me[Ve],Me[Ye],Me[Ke]);J.push(te),X=X.concat(te)}for(let de=0;de<x;de++){const he=de/x,Me=m*Math.cos(he*Math.PI/2),Ve=y*Math.sin(he*Math.PI/2)+g;for(let Re=0,Ye=G.length;Re<Ye;Re++){const Ke=$(G[Re],K[Re],Ve);Ae(Ke.x,Ke.y,-Me)}for(let Re=0,Ye=O.length;Re<Ye;Re++){const Ke=O[Re];te=J[Re];for(let et=0,wt=Ke.length;et<wt;et++){const Et=$(Ke[et],te[et],Ve);Ae(Et.x,Et.y,-Me)}}}const ie=y+g;for(let de=0;de<ee;de++){const he=p?$(L[de],X[de],ie):L[de];M?(B.copy(T.normals[0]).multiplyScalar(he.x),E.copy(T.binormals[0]).multiplyScalar(he.y),C.copy(S[0]).add(B).add(E),Ae(C.x,C.y,C.z)):Ae(he.x,he.y,0)}for(let de=1;de<=d;de++)for(let he=0;he<ee;he++){const Me=p?$(L[he],X[he],ie):L[he];M?(B.copy(T.normals[de]).multiplyScalar(Me.x),E.copy(T.binormals[de]).multiplyScalar(Me.y),C.copy(S[de]).add(B).add(E),Ae(C.x,C.y,C.z)):Ae(Me.x,Me.y,h/d*de)}for(let de=x-1;de>=0;de--){const he=de/x,Me=m*Math.cos(he*Math.PI/2),Ve=y*Math.sin(he*Math.PI/2)+g;for(let Re=0,Ye=G.length;Re<Ye;Re++){const Ke=$(G[Re],K[Re],Ve);Ae(Ke.x,Ke.y,h+Me)}for(let Re=0,Ye=O.length;Re<Ye;Re++){const Ke=O[Re];te=J[Re];for(let et=0,wt=Ke.length;et<wt;et++){const Et=$(Ke[et],te[et],Ve);M?Ae(Et.x,Et.y+S[d-1].y,S[d-1].x+Me):Ae(Et.x,Et.y,h+Me)}}}ve(),q();function ve(){const de=r.length/3;if(p){let he=0,Me=ee*he;for(let Ve=0;Ve<oe;Ve++){const Re=H[Ve];De(Re[2]+Me,Re[1]+Me,Re[0]+Me)}he=d+x*2,Me=ee*he;for(let Ve=0;Ve<oe;Ve++){const Re=H[Ve];De(Re[0]+Me,Re[1]+Me,Re[2]+Me)}}else{for(let he=0;he<oe;he++){const Me=H[he];De(Me[2],Me[1],Me[0])}for(let he=0;he<oe;he++){const Me=H[he];De(Me[0]+ee*d,Me[1]+ee*d,Me[2]+ee*d)}}i.addGroup(de,r.length/3-de,0)}function q(){const de=r.length/3;let he=0;we(G,he),he+=G.length;for(let Me=0,Ve=O.length;Me<Ve;Me++){const Re=O[Me];we(Re,he),he+=Re.length}i.addGroup(de,r.length/3-de,1)}function we(de,he){let Me=de.length;for(;--Me>=0;){const Ve=Me;let Re=Me-1;Re<0&&(Re=de.length-1);for(let Ye=0,Ke=d+x*2;Ye<Ke;Ye++){const et=ee*Ye,wt=ee*(Ye+1),Et=he+Ve+et,U=he+Re+et,D=he+Re+wt,ae=he+Ve+wt;Fe(Et,U,D,ae)}}}function Ae(de,he,Me){l.push(de),l.push(he),l.push(Me)}function De(de,he,Me){Ee(de),Ee(he),Ee(Me);const Ve=r.length/3,Re=_.generateTopUV(i,r,Ve-3,Ve-2,Ve-1);_e(Re[0]),_e(Re[1]),_e(Re[2])}function Fe(de,he,Me,Ve){Ee(de),Ee(he),Ee(Ve),Ee(he),Ee(Me),Ee(Ve);const Re=r.length/3,Ye=_.generateSideWallUV(i,r,Re-6,Re-3,Re-2,Re-1);_e(Ye[0]),_e(Ye[1]),_e(Ye[3]),_e(Ye[1]),_e(Ye[2]),_e(Ye[3])}function Ee(de){r.push(l[de*3+0]),r.push(l[de*3+1]),r.push(l[de*3+2])}function _e(de){s.push(de.x),s.push(de.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return q8(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new qS[r.type]().fromJSON(r)),new ch(i,e.options)}}const Q8={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],c=e[r*3],d=e[r*3+1];return[new pe(s,o),new pe(a,l),new pe(c,d)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[i*3],d=e[i*3+1],h=e[i*3+2],p=e[r*3],m=e[r*3+1],y=e[r*3+2],g=e[s*3],x=e[s*3+1],w=e[s*3+2];return Math.abs(a-d)<Math.abs(o-c)?[new pe(o,1-l),new pe(c,1-h),new pe(p,1-y),new pe(g,1-w)]:[new pe(a,1-l),new pe(d,1-h),new pe(m,1-y),new pe(x,1-w)]}};function q8(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class uh extends po{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new uh(e.radius,e.detail)}}class Fu extends po{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Fu(e.radius,e.detail)}}class fh extends ht{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],c=[],d=[];let h=e;const p=(t-e)/r,m=new I,y=new pe;for(let g=0;g<=r;g++){for(let x=0;x<=i;x++){const w=s+x/i*o;m.x=h*Math.cos(w),m.y=h*Math.sin(w),l.push(m.x,m.y,m.z),c.push(0,0,1),y.x=(m.x/t+1)/2,y.y=(m.y/t+1)/2,d.push(y.x,y.y)}h+=p}for(let g=0;g<r;g++){const x=g*(i+1);for(let w=0;w<i;w++){const _=w+x,S=_,M=_+i+1,T=_+i+2,E=_+1;a.push(S,M,E),a.push(M,T,E)}}this.setIndex(a),this.setAttribute("position",new Xe(l,3)),this.setAttribute("normal",new Xe(c,3)),this.setAttribute("uv",new Xe(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fh(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class dh extends ht{constructor(e=new gl([new pe(0,.5),new pe(-.5,-.5),new pe(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let d=0;d<e.length;d++)c(e[d]),this.addGroup(a,l,d),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new Xe(r,3)),this.setAttribute("normal",new Xe(s,3)),this.setAttribute("uv",new Xe(o,2));function c(d){const h=r.length/3,p=d.extractPoints(t);let m=p.shape;const y=p.holes;xs.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,w=y.length;x<w;x++){const _=y[x];xs.isClockWise(_)===!0&&(y[x]=_.reverse())}const g=xs.triangulateShape(m,y);for(let x=0,w=y.length;x<w;x++){const _=y[x];m=m.concat(_)}for(let x=0,w=m.length;x<w;x++){const _=m[x];r.push(_.x,_.y,0),s.push(0,0,1),o.push(_.x,_.y)}for(let x=0,w=g.length;x<w;x++){const _=g[x],S=_[0]+h,M=_[1]+h,T=_[2]+h;i.push(S,M,T),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Z8(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new dh(i,e.curveSegments)}}function Z8(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class Nu extends ht{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const d=[],h=new I,p=new I,m=[],y=[],g=[],x=[];for(let w=0;w<=i;w++){const _=[],S=w/i;let M=0;w==0&&o==0?M=.5/t:w==i&&l==Math.PI&&(M=-.5/t);for(let T=0;T<=t;T++){const E=T/t;h.x=-e*Math.cos(r+E*s)*Math.sin(o+S*a),h.y=e*Math.cos(o+S*a),h.z=e*Math.sin(r+E*s)*Math.sin(o+S*a),y.push(h.x,h.y,h.z),p.copy(h).normalize(),g.push(p.x,p.y,p.z),x.push(E+M,1-S),_.push(c++)}d.push(_)}for(let w=0;w<i;w++)for(let _=0;_<t;_++){const S=d[w][_+1],M=d[w][_],T=d[w+1][_],E=d[w+1][_+1];(w!==0||o>0)&&m.push(S,M,E),(w!==i-1||l<Math.PI)&&m.push(M,T,E)}this.setIndex(m),this.setAttribute("position",new Xe(y,3)),this.setAttribute("normal",new Xe(g,3)),this.setAttribute("uv",new Xe(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nu(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class hh extends po{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new hh(e.radius,e.detail)}}class ph extends ht{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],c=[],d=new I,h=new I,p=new I;for(let m=0;m<=i;m++)for(let y=0;y<=r;y++){const g=y/r*s,x=m/i*Math.PI*2;h.x=(e+t*Math.cos(x))*Math.cos(g),h.y=(e+t*Math.cos(x))*Math.sin(g),h.z=t*Math.sin(x),a.push(h.x,h.y,h.z),d.x=e*Math.cos(g),d.y=e*Math.sin(g),p.subVectors(h,d).normalize(),l.push(p.x,p.y,p.z),c.push(y/r),c.push(m/i)}for(let m=1;m<=i;m++)for(let y=1;y<=r;y++){const g=(r+1)*m+y-1,x=(r+1)*(m-1)+y-1,w=(r+1)*(m-1)+y,_=(r+1)*m+y;o.push(g,x,_),o.push(x,w,_)}this.setIndex(o),this.setAttribute("position",new Xe(a,3)),this.setAttribute("normal",new Xe(l,3)),this.setAttribute("uv",new Xe(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ph(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class mh extends ht{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],c=[],d=[],h=new I,p=new I,m=new I,y=new I,g=new I,x=new I,w=new I;for(let S=0;S<=i;++S){const M=S/i*s*Math.PI*2;_(M,s,o,e,m),_(M+.01,s,o,e,y),x.subVectors(y,m),w.addVectors(y,m),g.crossVectors(x,w),w.crossVectors(g,x),g.normalize(),w.normalize();for(let T=0;T<=r;++T){const E=T/r*Math.PI*2,B=-t*Math.cos(E),C=t*Math.sin(E);h.x=m.x+(B*w.x+C*g.x),h.y=m.y+(B*w.y+C*g.y),h.z=m.z+(B*w.z+C*g.z),l.push(h.x,h.y,h.z),p.subVectors(h,m).normalize(),c.push(p.x,p.y,p.z),d.push(S/i),d.push(T/r)}}for(let S=1;S<=i;S++)for(let M=1;M<=r;M++){const T=(r+1)*(S-1)+(M-1),E=(r+1)*S+(M-1),B=(r+1)*S+M,C=(r+1)*(S-1)+M;a.push(T,E,C),a.push(E,B,C)}this.setIndex(a),this.setAttribute("position",new Xe(l,3)),this.setAttribute("normal",new Xe(c,3)),this.setAttribute("uv",new Xe(d,2));function _(S,M,T,E,B){const C=Math.cos(S),R=Math.sin(S),L=T/M*S,O=Math.cos(L);B.x=E*(2+O)*.5*C,B.y=E*(2+O)*R*.5,B.z=E*Math.sin(L)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mh(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class gh extends ht{constructor(e=new YS(new I(-1,-1,0),new I(-1,1,0),new I(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new I,l=new I,c=new pe;let d=new I;const h=[],p=[],m=[],y=[];g(),this.setIndex(y),this.setAttribute("position",new Xe(h,3)),this.setAttribute("normal",new Xe(p,3)),this.setAttribute("uv",new Xe(m,2));function g(){for(let S=0;S<t;S++)x(S);x(s===!1?t:0),_(),w()}function x(S){d=e.getPointAt(S/t,d);const M=o.normals[S],T=o.binormals[S];for(let E=0;E<=r;E++){const B=E/r*Math.PI*2,C=Math.sin(B),R=-Math.cos(B);l.x=R*M.x+C*T.x,l.y=R*M.y+C*T.y,l.z=R*M.z+C*T.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=d.x+i*l.x,a.y=d.y+i*l.y,a.z=d.z+i*l.z,h.push(a.x,a.y,a.z)}}function w(){for(let S=1;S<=t;S++)for(let M=1;M<=r;M++){const T=(r+1)*(S-1)+(M-1),E=(r+1)*S+(M-1),B=(r+1)*S+M,C=(r+1)*(S-1)+M;y.push(T,E,C),y.push(E,B,C)}}function _(){for(let S=0;S<=t;S++)for(let M=0;M<=r;M++)c.x=S/t,c.y=M/r,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new gh(new qS[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class ML extends ht{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new I,s=new I;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,d=l.length;c<d;++c){const h=l[c],p=h.start,m=h.count;for(let y=p,g=p+m;y<g;y+=3)for(let x=0;x<3;x++){const w=a.getX(y+x),_=a.getX(y+(x+1)%3);r.fromBufferAttribute(o,w),s.fromBufferAttribute(o,_),WT(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const d=3*a+c,h=3*a+(c+1)%3;r.fromBufferAttribute(o,d),s.fromBufferAttribute(o,h),WT(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Xe(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function WT(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var jT=Object.freeze({__proto__:null,BoxGeometry:_a,CapsuleGeometry:sh,CircleGeometry:oh,ConeGeometry:ah,CylinderGeometry:Fl,DodecahedronGeometry:lh,EdgesGeometry:_L,ExtrudeGeometry:ch,IcosahedronGeometry:uh,LatheGeometry:ku,OctahedronGeometry:Fu,PlaneGeometry:Iu,PolyhedronGeometry:po,RingGeometry:fh,ShapeGeometry:dh,SphereGeometry:Nu,TetrahedronGeometry:hh,TorusGeometry:ph,TorusKnotGeometry:mh,TubeGeometry:gh,WireframeGeometry:ML});class bL extends Fn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Oe(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class CL extends As{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class vh extends Fn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Oe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Oe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=va,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Br extends vh{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new pe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Pn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Oe(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Oe(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Oe(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class TL extends Fn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Oe(16777215),this.specular=new Oe(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Oe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=va,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Zd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class EL extends Fn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Oe(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Oe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=va,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class PL extends Fn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=va,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class RL extends Fn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Oe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Oe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=va,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Zd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class BL extends Fn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Oe(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=va,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class LL extends xi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Sr(n,e,t){return ZS(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function sl(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function ZS(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function DL(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function z1(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function $S(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function $8(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],d=c.getValueSize(),h=[],p=[];for(let m=0;m<c.times.length;++m){const y=c.times[m]*r;if(!(y<t||y>=i)){h.push(c.times[m]);for(let g=0;g<d;++g)p.push(c.values[m*d+g])}}h.length!==0&&(c.times=sl(h,c.times.constructor),c.values=sl(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function e9(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(w){return w.name===a.name&&w.ValueTypeName===l});if(c===void 0)continue;let d=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const y=a.times.length-1;let g;if(s<=a.times[0]){const w=d,_=h-d;g=Sr(a.values,w,_)}else if(s>=a.times[y]){const w=y*h+d,_=w+h-d;g=Sr(a.values,w,_)}else{const w=a.createInterpolant(),_=d,S=h-d;w.evaluate(s),g=Sr(w.resultBuffer,_,S)}l==="quaternion"&&new qn().fromArray(g).normalize().conjugate().toArray(g);const x=c.times.length;for(let w=0;w<x;++w){const _=w*m+p;if(l==="quaternion")qn.multiplyQuaternionsFlat(c.values,_,g,0,c.values,_);else{const S=m-p*2;for(let M=0;M<S;++M)c.values[_+M]-=g[M]}}}return n.blendMode=TS,n}const t9={arraySlice:Sr,convertArray:sl,isTypedArray:ZS,getKeyframeOrder:DL,sortedArray:z1,flattenJSON:$S,subclip:$8,makeClipAdditive:e9};class zu{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class IL extends zu{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:nl,endingEnd:nl}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case il:s=e,a=2*t-i;break;case Pd:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case il:o=e,l=2*i-t;break;case Pd:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const c=(i-t)*.5,d=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-i),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,m=this._weightNext,y=(i-t)/(r-t),g=y*y,x=g*y,w=-p*x+2*p*g-p*y,_=(1+p)*x+(-1.5-2*p)*g+(-.5+p)*y+1,S=(-1-m)*x+(1.5+m)*g+.5*y,M=m*x-m*g;for(let T=0;T!==a;++T)s[T]=w*o[d+T]+_*o[c+T]+S*o[l+T]+M*o[h+T];return s}}class eA extends zu{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=(i-t)/(r-t),h=1-d;for(let p=0;p!==a;++p)s[p]=o[c+p]*h+o[l+p]*d;return s}}class OL extends zu{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class ns{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=sl(t,this.TimeBufferType),this.values=sl(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:sl(e.times,Array),values:sl(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new OL(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new eA(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new IL(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case mu:t=this.InterpolantFactoryMethodDiscrete;break;case Ml:t=this.InterpolantFactoryMethodLinear;break;case ag:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return mu;case this.InterpolantFactoryMethodLinear:return Ml;case this.InterpolantFactoryMethodSmooth:return ag}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Sr(i,s,o),this.values=Sr(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&ZS(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Sr(this.times),t=Sr(this.values),i=this.getValueSize(),r=this.getInterpolation()===ag,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],d=e[a+1];if(c!==d&&(a!==1||c!==e[0]))if(r)l=!0;else{const h=a*i,p=h-i,m=h+i;for(let y=0;y!==i;++y){const g=t[h+y];if(g!==t[p+y]||g!==t[m+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*i,p=o*i;for(let m=0;m!==i;++m)t[p+m]=t[h+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=Sr(e,0,o),this.values=Sr(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=Sr(this.times,0),t=Sr(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}ns.prototype.TimeBufferType=Float32Array;ns.prototype.ValueBufferType=Float32Array;ns.prototype.DefaultInterpolation=Ml;class Nl extends ns{}Nl.prototype.ValueTypeName="bool";Nl.prototype.ValueBufferType=Array;Nl.prototype.DefaultInterpolation=mu;Nl.prototype.InterpolantFactoryMethodLinear=void 0;Nl.prototype.InterpolantFactoryMethodSmooth=void 0;class tA extends ns{}tA.prototype.ValueTypeName="color";class Tl extends ns{}Tl.prototype.ValueTypeName="number";class kL extends zu{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let c=e*a;for(let d=c+a;c!==d;c+=4)qn.slerpFlat(s,0,o,c-a,o,c,l);return s}}class fa extends ns{InterpolantFactoryMethodLinear(e){return new kL(this.times,this.values,this.getValueSize(),e)}}fa.prototype.ValueTypeName="quaternion";fa.prototype.DefaultInterpolation=Ml;fa.prototype.InterpolantFactoryMethodSmooth=void 0;class zl extends ns{}zl.prototype.ValueTypeName="string";zl.prototype.ValueBufferType=Array;zl.prototype.DefaultInterpolation=mu;zl.prototype.InterpolantFactoryMethodLinear=void 0;zl.prototype.InterpolantFactoryMethodSmooth=void 0;class El extends ns{}El.prototype.ValueTypeName="vector";class yu{constructor(e,t=-1,i,r=O0){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=ir(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(i9(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(ns.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const d=DL(l);l=z1(l,1,d),c=z1(c,1,d),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new Tl(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],d=c.name.match(s);if(d&&d.length>1){const h=d[1];let p=r[h];p||(r[h]=p=[]),p.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(h,p,m,y,g){if(m.length!==0){const x=[],w=[];$S(m,x,w,y),x.length!==0&&g.push(new h(p,x,w))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const p=c[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let g=0;g<p[y].morphTargets.length;g++)m[p[y].morphTargets[g]]=-1;for(const g in m){const x=[],w=[];for(let _=0;_!==p[y].morphTargets.length;++_){const S=p[y];x.push(S.time),w.push(S.morphTarget===g?1:0)}r.push(new Tl(".morphTargetInfluence["+g+"]",x,w))}l=m.length*o}else{const m=".bones["+t[h].name+"]";i(El,m+".position",p,"pos",r),i(fa,m+".quaternion",p,"rot",r),i(El,m+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function n9(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Tl;case"vector":case"vector2":case"vector3":case"vector4":return El;case"color":return tA;case"quaternion":return fa;case"bool":case"boolean":return Nl;case"string":return zl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function i9(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=n9(n.type);if(n.times===void 0){const t=[],i=[];$S(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Pl={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class nA{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(d){a++,s===!1&&r.onStart!==void 0&&r.onStart(d,o,a),s=!0},this.itemEnd=function(d){o++,r.onProgress!==void 0&&r.onProgress(d,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(d){r.onError!==void 0&&r.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,h){return c.push(d,h),this},this.removeHandler=function(d){const h=c.indexOf(d);return h!==-1&&c.splice(h,2),this},this.getHandler=function(d){for(let h=0,p=c.length;h<p;h+=2){const m=c[h],y=c[h+1];if(m.global&&(m.lastIndex=0),m.test(d))return y}return null}}}const Gc=new nA;class Di{constructor(e){this.manager=e!==void 0?e:Gc,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Ns={};class r9 extends Error{constructor(e,t){super(e),this.response=t}}class sr extends Di{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Pl.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Ns[e]!==void 0){Ns[e].push({onLoad:t,onProgress:i,onError:r});return}Ns[e]=[],Ns[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const d=Ns[e],h=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=p?parseInt(p):0,y=m!==0;let g=0;const x=new ReadableStream({start(w){_();function _(){h.read().then(({done:S,value:M})=>{if(S)w.close();else{g+=M.byteLength;const T=new ProgressEvent("progress",{lengthComputable:y,loaded:g,total:m});for(let E=0,B=d.length;E<B;E++){const C=d[E];C.onProgress&&C.onProgress(T)}w.enqueue(M),_()}})}}});return new Response(x)}else throw new r9(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return c.json();default:if(a===void 0)return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(y=>m.decode(y))}}}).then(c=>{Pl.add(e,c);const d=Ns[e];delete Ns[e];for(let h=0,p=d.length;h<p;h++){const m=d[h];m.onLoad&&m.onLoad(c)}}).catch(c=>{const d=Ns[e];if(d===void 0)throw this.manager.itemError(e),c;delete Ns[e];for(let h=0,p=d.length;h<p;h++){const m=d[h];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class s9 extends Di{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new sr(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=yu.parse(e[i]);t.push(r)}return t}}class o9 extends Di{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new jS,l=new sr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function d(h){l.load(e[h],function(p){const m=s.parse(p,!0);o[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=fn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)d(h);else l.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let y=0;y<m;y++){o[y]={mipmaps:[]};for(let g=0;g<p.mipmapCount;g++)o[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+g]),o[y].format=p.format,o[y].width=p.width,o[y].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=fn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class Fd extends Di{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Pl.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Ld("img");function l(){d(),Pl.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(h){d(),r&&r(h),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class a9 extends Di{constructor(e){super(e)}load(e,t,i,r){const s=new th,o=new Fd(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(d){s.images[c]=d,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class l9 extends Di{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new tu,a=new sr(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:ni,o.wrapT=c.wrapT!==void 0?c.wrapT:ni,o.magFilter=c.magFilter!==void 0?c.magFilter:fn,o.minFilter=c.minFilter!==void 0?c.minFilter:fn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Ss),c.mipmapCount===1&&(o.minFilter=fn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},i,r),o}}class FL extends Di{constructor(e){super(e)}load(e,t,i,r){const s=new an,o=new Fd(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class wa extends Bt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Oe(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class NL extends wa{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Bt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Oe(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const _x=new ct,JT=new I,XT=new I;class iA{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new pe(512,512),this.map=null,this.mapPass=null,this.matrix=new ct,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new F0,this._frameExtents=new pe(1,1),this._viewportCount=1,this._viewports=[new Vt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;JT.setFromMatrixPosition(e.matrixWorld),t.position.copy(JT),XT.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(XT),t.updateMatrixWorld(),_x.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_x),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(_x)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class c9 extends iA{constructor(){super(new on(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=Bd*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class rA extends wa{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Bt.DEFAULT_UP),this.updateMatrix(),this.target=new Bt,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new c9}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const KT=new ct,Tf=new I,wx=new I;class u9 extends iA{constructor(){super(new on(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new pe(4,2),this._viewportCount=6,this._viewports=[new Vt(2,1,1,1),new Vt(0,1,1,1),new Vt(3,1,1,1),new Vt(1,1,1,1),new Vt(3,0,1,1),new Vt(1,0,1,1)],this._cubeDirections=[new I(1,0,0),new I(-1,0,0),new I(0,0,1),new I(0,0,-1),new I(0,1,0),new I(0,-1,0)],this._cubeUps=[new I(0,1,0),new I(0,1,0),new I(0,1,0),new I(0,1,0),new I(0,0,1),new I(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Tf.setFromMatrixPosition(e.matrixWorld),i.position.copy(Tf),wx.copy(i.position),wx.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(wx),i.updateMatrixWorld(),r.makeTranslation(-Tf.x,-Tf.y,-Tf.z),KT.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(KT)}}class sA extends wa{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new u9}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class f9 extends iA{constructor(){super(new qr(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class oA extends wa{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Bt.DEFAULT_UP),this.updateMatrix(),this.target=new Bt,this.shadow=new f9}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class zL extends wa{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class UL extends wa{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class GL{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new I)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class J0 extends wa{constructor(e=new GL,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class X0 extends Di{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new sr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=X0.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Oe().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new Oe().setHex(o.value);break;case"v2":r.uniforms[s].value=new pe().fromArray(o.value);break;case"v3":r.uniforms[s].value=new I().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Vt().fromArray(o.value);break;case"m3":r.uniforms[s].value=new ii().fromArray(o.value);break;case"m4":r.uniforms[s].value=new ct().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new pe().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new pe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:bL,SpriteMaterial:US,RawShaderMaterial:CL,ShaderMaterial:As,PointsMaterial:rh,MeshPhysicalMaterial:Br,MeshStandardMaterial:vh,MeshPhongMaterial:TL,MeshToonMaterial:EL,MeshNormalMaterial:PL,MeshLambertMaterial:RL,MeshDepthMaterial:NS,MeshDistanceMaterial:zS,MeshBasicMaterial:tr,MeshMatcapMaterial:BL,LineDashedMaterial:LL,LineBasicMaterial:xi,Material:Fn};return new t[e]}}class ea{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class HL extends ht{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class VL extends Di{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new sr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(m,y){if(t[y]!==void 0)return t[y];const x=m.interleavedBuffers[y],w=s(m,x.buffer),_=Nc(x.type,w),S=new nh(_,x.stride);return S.uuid=x.uuid,t[y]=S,S}function s(m,y){if(i[y]!==void 0)return i[y];const x=m.arrayBuffers[y],w=new Uint32Array(x).buffer;return i[y]=w,w}const o=e.isInstancedBufferGeometry?new HL:new ht,a=e.data.index;if(a!==void 0){const m=Nc(a.type,a.array);o.setIndex(new Ft(m,1))}const l=e.data.attributes;for(const m in l){const y=l[m];let g;if(y.isInterleavedBufferAttribute){const x=r(e.data,y.data);g=new ua(x,y.itemSize,y.offset,y.normalized)}else{const x=Nc(y.type,y.array),w=y.isInstancedBufferAttribute?bl:Ft;g=new w(x,y.itemSize,y.normalized)}y.name!==void 0&&(g.name=y.name),y.usage!==void 0&&g.setUsage(y.usage),y.updateRange!==void 0&&(g.updateRange.offset=y.updateRange.offset,g.updateRange.count=y.updateRange.count),o.setAttribute(m,g)}const c=e.data.morphAttributes;if(c)for(const m in c){const y=c[m],g=[];for(let x=0,w=y.length;x<w;x++){const _=y[x];let S;if(_.isInterleavedBufferAttribute){const M=r(e.data,_.data);S=new ua(M,_.itemSize,_.offset,_.normalized)}else{const M=Nc(_.type,_.array);S=new Ft(M,_.itemSize,_.normalized)}_.name!==void 0&&(S.name=_.name),g.push(S)}o.morphAttributes[m]=g}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,y=h.length;m!==y;++m){const g=h[m];o.addGroup(g.start,g.count,g.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new I;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new xa(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class d9 extends Di{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?ea.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new sr(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(h){r!==void 0&&r(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const d=c.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?ea.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new sr(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,i),d=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,d),t!==void 0){let h=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new gl().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new ih().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new VL;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in jT?a=jT[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new X0;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=yu.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return o(d)}else return l.data?{data:Nc(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new nA(t);s=new Fd(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,d=e.length;c<d;c++){const h=e[c],p=h.url;if(Array.isArray(p)){const m=[];for(let y=0,g=p.length;y<g;y++){const x=p[y],w=a(x);w!==null&&(w instanceof HTMLImageElement?m.push(w):m.push(new tu(w.data,w.width,w.height)))}r[h.uuid]=new rl(m)}else{const m=a(h.url);r[h.uuid]=new rl(m)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:Nc(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new Fd(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const d=[];for(let h=0,p=c.length;h<p;h++){const m=c[h],y=await s(m);y!==null&&(y instanceof HTMLImageElement?d.push(y):d.push(new tu(y.data,y.width,y.height)))}i[l.uuid]=new rl(d)}else{const d=await s(l.url);i[l.uuid]=new rl(d)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let d;Array.isArray(c)?(d=new th,c.length===6&&(d.needsUpdate=!0)):(c&&c.data?d=new tu:d=new an,c&&(d.needsUpdate=!0)),d.source=l,d.uuid=a.uuid,a.name!==void 0&&(d.name=a.name),a.mapping!==void 0&&(d.mapping=i(a.mapping,h9)),a.offset!==void 0&&d.offset.fromArray(a.offset),a.repeat!==void 0&&d.repeat.fromArray(a.repeat),a.center!==void 0&&d.center.fromArray(a.center),a.rotation!==void 0&&(d.rotation=a.rotation),a.wrap!==void 0&&(d.wrapS=i(a.wrap[0],YT),d.wrapT=i(a.wrap[1],YT)),a.format!==void 0&&(d.format=a.format),a.internalFormat!==void 0&&(d.internalFormat=a.internalFormat),a.type!==void 0&&(d.type=a.type),a.encoding!==void 0&&(d.encoding=a.encoding),a.minFilter!==void 0&&(d.minFilter=i(a.minFilter,QT)),a.magFilter!==void 0&&(d.magFilter=i(a.magFilter,QT)),a.anisotropy!==void 0&&(d.anisotropy=a.anisotropy),a.flipY!==void 0&&(d.flipY=a.flipY),a.generateMipmaps!==void 0&&(d.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(d.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(d.userData=a.userData),r[a.uuid]=d}return r}parseObject(e,t,i,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let y=0,g=p.length;y<g;y++){const x=p[y];i[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),m.push(i[x])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function c(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let d,h;switch(e.type){case"Scene":o=new Wg,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Oe(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new G0(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new U0(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new on(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new qr(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new zL(e.color,e.intensity);break;case"DirectionalLight":o=new oA(e.color,e.intensity);break;case"PointLight":o=new sA(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new UL(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new rA(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new NL(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new J0().fromJSON(e);break;case"SkinnedMesh":d=a(e.geometry),h=l(e.material),o=new GS(d,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=a(e.geometry),h=l(e.material),o=new Yn(d,h);break;case"InstancedMesh":d=a(e.geometry),h=l(e.material);const p=e.count,m=e.instanceMatrix,y=e.instanceColor;o=new HS(d,h,p),o.instanceMatrix=new bl(new Float32Array(m.array),16),y!==void 0&&(o.instanceColor=new bl(new Float32Array(y.array),y.itemSize));break;case"LOD":o=new pL;break;case"Line":o=new ao(a(e.geometry),l(e.material));break;case"LineLoop":o=new VS(a(e.geometry),l(e.material));break;case"LineSegments":o=new es(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new WS(a(e.geometry),l(e.material));break;case"Sprite":o=new hL(l(e.material));break;case"Group":o=new Ks;break;case"Bone":o=new H0;break;default:o=new Bt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const y=p[m];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const y=p[m],g=o.getObjectByProperty("uuid",y.object);g!==void 0&&o.addLevel(g,y.distance,y.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const h9={UVMapping:D0,CubeReflectionMapping:oa,CubeRefractionMapping:aa,EquirectangularReflectionMapping:Cd,EquirectangularRefractionMapping:Td,CubeUVReflectionMapping:Lu},YT={RepeatWrapping:la,ClampToEdgeWrapping:ni,MirroredRepeatWrapping:hu},QT={NearestFilter:An,NearestMipmapNearestFilter:Ed,NearestMipmapLinearFilter:$c,LinearFilter:fn,LinearMipmapNearestFilter:I0,LinearMipmapLinearFilter:Ss};class WL extends Di{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Pl.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Pl.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let bm;class aA{static getContext(){return bm===void 0&&(bm=new(window.AudioContext||window.webkitAudioContext)),bm}static setContext(e){bm=e}}class p9 extends Di{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new sr(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);aA.getContext().decodeAudioData(l,function(d){t(d)})}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}}class m9 extends J0{constructor(e,t,i=1){super(void 0,i),this.isHemisphereLightProbe=!0;const r=new Oe().set(e),s=new Oe().set(t),o=new I(r.r,r.g,r.b),a=new I(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class g9 extends J0{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const i=new Oe().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const qT=new ct,ZT=new ct,Oa=new ct;class v9{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new on,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new on,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Oa.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(pl*t.fov*.5)/t.zoom;let a,l;ZT.elements[12]=-r,qT.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,Oa.elements[0]=2*t.near/(l-a),Oa.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Oa),a=-o*t.aspect-s,l=o*t.aspect-s,Oa.elements[0]=2*t.near/(l-a),Oa.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Oa)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(ZT),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(qT)}}class lA{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=$T(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=$T();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function $T(){return(typeof performance>"u"?Date:performance).now()}const ka=new I,eE=new qn,y9=new I,Fa=new I;class x9 extends Bt{constructor(){super(),this.type="AudioListener",this.context=aA.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new lA}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ka,eE,y9),Fa.set(0,0,-1).applyQuaternion(eE),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(ka.x,r),t.positionY.linearRampToValueAtTime(ka.y,r),t.positionZ.linearRampToValueAtTime(ka.z,r),t.forwardX.linearRampToValueAtTime(Fa.x,r),t.forwardY.linearRampToValueAtTime(Fa.y,r),t.forwardZ.linearRampToValueAtTime(Fa.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(ka.x,ka.y,ka.z),t.setOrientation(Fa.x,Fa.y,Fa.z,i.x,i.y,i.z)}}class jL extends Bt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Na=new I,tE=new qn,_9=new I,za=new I;class w9 extends jL{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Na,tE,_9),za.set(0,0,1).applyQuaternion(tE);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Na.x,i),t.positionY.linearRampToValueAtTime(Na.y,i),t.positionZ.linearRampToValueAtTime(Na.z,i),t.orientationX.linearRampToValueAtTime(za.x,i),t.orientationY.linearRampToValueAtTime(za.y,i),t.orientationZ.linearRampToValueAtTime(za.z,i)}else t.setPosition(Na.x,Na.y,Na.z),t.setOrientation(za.x,za.y,za.z)}}class S9{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class JL{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){qn.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;qn.multiplyQuaternionsFlat(e,o,e,t,e,i),qn.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const cA="\\[\\]\\.:\\/",A9=new RegExp("["+cA+"]","g"),uA="[^"+cA+"]",M9="[^"+cA.replace("\\.","")+"]",b9=/((?:WC+[\/:])*)/.source.replace("WC",uA),C9=/(WCOD+)?/.source.replace("WCOD",M9),T9=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",uA),E9=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",uA),P9=new RegExp("^"+b9+C9+T9+E9+"$"),R9=["material","materials","bones","map"];class B9{constructor(e,t,i){const r=i||Rt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Rt{constructor(e,t,i){this.path=t,this.parsedPath=i||Rt.parseTrackName(t),this.node=Rt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Rt.Composite(e,t,i):new Rt(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(A9,"")}static parseTrackName(e){const t=P9.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);R9.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Rt.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===c){c=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Rt.Composite=B9;Rt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Rt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Rt.prototype.GetterByBindingType=[Rt.prototype._getValue_direct,Rt.prototype._getValue_array,Rt.prototype._getValue_arrayElement,Rt.prototype._getValue_toArray];Rt.prototype.SetterByBindingTypeAndVersioning=[[Rt.prototype._setValue_direct,Rt.prototype._setValue_direct_setNeedsUpdate,Rt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Rt.prototype._setValue_array,Rt.prototype._setValue_array_setNeedsUpdate,Rt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Rt.prototype._setValue_arrayElement,Rt.prototype._setValue_arrayElement_setNeedsUpdate,Rt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Rt.prototype._setValue_fromArray,Rt.prototype._setValue_fromArray_setNeedsUpdate,Rt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class L9{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ir(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let d=0,h=arguments.length;d!==h;++d){const p=arguments[d],m=p.uuid;let y=t[m];if(y===void 0){y=l++,t[m]=y,e.push(p);for(let g=0,x=o;g!==x;++g)s[g].push(new Rt(p,i[g],r[g]))}else if(y<c){a=e[y];const g=--c,x=e[g];t[x.uuid]=y,e[y]=x,t[m]=g,e[g]=p;for(let w=0,_=o;w!==_;++w){const S=s[w],M=S[g];let T=S[y];S[y]=M,T===void 0&&(T=new Rt(p,i[w],r[w])),S[g]=T}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,d=t[c];if(d!==void 0&&d>=s){const h=s++,p=e[h];t[p.uuid]=d,e[d]=p,t[c]=h,e[h]=l;for(let m=0,y=r;m!==y;++m){const g=i[m],x=g[h],w=g[d];g[d]=x,g[h]=w}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],d=c.uuid,h=t[d];if(h!==void 0)if(delete t[d],h<s){const p=--s,m=e[p],y=--o,g=e[y];t[m.uuid]=h,e[h]=m,t[g.uuid]=p,e[p]=g,e.pop();for(let x=0,w=r;x!==w;++x){const _=i[x],S=_[p],M=_[y];_[h]=S,_[p]=M,_.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=h),e[h]=m,e.pop();for(let y=0,g=r;y!==g;++y){const x=i[y];x[h]=x[p],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,d=this.nCachedObjects_,h=new Array(c);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(h);for(let p=d,m=l.length;p!==m;++p){const y=l[p];h[p]=new Rt(y,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class D9{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:nl,endingEnd:nl};for(let c=0;c!==o;++c){const d=s[c].createInterpolant(null);a[c]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=VB,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case TS:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),c[d].accumulateAdditive(a);break;case O0:default:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),c[d].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===WB;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===HB){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=il,r.endingEnd=il):(e?r.endingStart=this.zeroSlopeAtStart?il:nl:r.endingStart=Pd,t?r.endingEnd=this.zeroSlopeAtEnd?il:nl:r.endingEnd=Pd)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const I9=new Float32Array(1);class O9 extends ho{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let d=c[l];d===void 0&&(d={},c[l]=d);for(let h=0;h!==s;++h){const p=r[h],m=p.name;let y=d[m];if(y!==void 0)++y.referenceCount,o[h]=y;else{if(y=o[h],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,m));continue}const g=t&&t._propertyBindings[h].binding.parsedPath;y=new JL(Rt.create(i,m,g),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,m),o[h]=y}a[h].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],d=e._byClipCacheIndex;c._byClipCacheIndex=d,l[d]=c,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new eA(new Float32Array(2),new Float32Array(2),1,I9),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?yu.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=O0),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===i)return h;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const d=new D9(this,o,t,i);return this._bindAction(d,c),this._addInactiveAction(d,a,s),d}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?yu.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)t[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const d=c._cacheIndex,h=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=d,t[d]=h,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class fA{constructor(e){this.value=e}clone(){return new fA(this.value.clone===void 0?this.value:this.value.clone())}}let k9=0;class F9 extends ho{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:k9++}),this.name="",this.usage=Rd,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++)this.uniforms.push(t[i].clone());return this}clone(){return new this.constructor().copy(this)}}class N9 extends nh{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class z9{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class XL{constructor(e,t,i=0,r=1/0){this.ray=new Du(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new ml,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return U1(e,this,i,t),i.sort(nE),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)U1(e[r],this,i,t);return i.sort(nE),i}}function nE(n,e){return n.distance-e.distance}function U1(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,o=r.length;s<o;s++)U1(r[s],e,t,!0)}}class G1{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Pn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class U9{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const iE=new pe;class G9{constructor(e=new pe(1/0,1/0),t=new pe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=iE.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,iE).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const rE=new I,Cm=new I;class H9{constructor(e=new I,t=new I){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){rE.subVectors(e,this.start),Cm.subVectors(this.end,this.start);const i=Cm.dot(Cm);let s=Cm.dot(rE)/i;return t&&(s=Pn(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const sE=new I;class V9 extends Bt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new ht,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,d=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(d),Math.sin(d),1)}i.setAttribute("position",new Xe(r,3));const s=new xi({fog:!1,toneMapped:!1});this.cone=new es(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),sE.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(sE),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Eo=new I,Tm=new ct,Sx=new ct;class W9 extends es{constructor(e){const t=KL(e),i=new ht,r=[],s=[],o=new Oe(0,0,1),a=new Oe(0,1,0);for(let c=0;c<t.length;c++){const d=t[c];d.parent&&d.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new Xe(r,3)),i.setAttribute("color",new Xe(s,3));const l=new xi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");Sx.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Tm.multiplyMatrices(Sx,a.matrixWorld),Eo.setFromMatrixPosition(Tm),r.setXYZ(o,Eo.x,Eo.y,Eo.z),Tm.multiplyMatrices(Sx,a.parent.matrixWorld),Eo.setFromMatrixPosition(Tm),r.setXYZ(o+1,Eo.x,Eo.y,Eo.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function KL(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,KL(n.children[t]));return e}class j9 extends Yn{constructor(e,t,i){const r=new Nu(t,4,2),s=new tr({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const J9=new I,oE=new Oe,aE=new Oe;class X9 extends Bt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new Fu(t);r.rotateY(Math.PI*.5),this.material=new tr({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Ft(o,3)),this.add(new Yn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");oE.copy(this.light.color),aE.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?oE:aE;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(J9.setFromMatrixPosition(this.light.matrixWorld).negate())}}class K9 extends es{constructor(e=10,t=10,i=4473924,r=8947848){i=new Oe(i),r=new Oe(r);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let p=0,m=0,y=-a;p<=t;p++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const g=p===s?i:r;g.toArray(c,m),m+=3,g.toArray(c,m),m+=3,g.toArray(c,m),m+=3,g.toArray(c,m),m+=3}const d=new ht;d.setAttribute("position",new Xe(l,3)),d.setAttribute("color",new Xe(c,3));const h=new xi({vertexColors:!0,toneMapped:!1});super(d,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Y9 extends es{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new Oe(s),o=new Oe(o);const a=[],l=[];if(t>1)for(let h=0;h<t;h++){const p=h/t*(Math.PI*2),m=Math.sin(p)*e,y=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,y);const g=h&1?s:o;l.push(g.r,g.g,g.b),l.push(g.r,g.g,g.b)}for(let h=0;h<i;h++){const p=h&1?s:o,m=e-e/i*h;for(let y=0;y<r;y++){let g=y/r*(Math.PI*2),x=Math.sin(g)*m,w=Math.cos(g)*m;a.push(x,0,w),l.push(p.r,p.g,p.b),g=(y+1)/r*(Math.PI*2),x=Math.sin(g)*m,w=Math.cos(g)*m,a.push(x,0,w),l.push(p.r,p.g,p.b)}}const c=new ht;c.setAttribute("position",new Xe(a,3)),c.setAttribute("color",new Xe(l,3));const d=new xi({vertexColors:!0,toneMapped:!1});super(c,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const lE=new I,Em=new I,cE=new I;class Q9 extends Bt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new ht;r.setAttribute("position",new Xe([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new xi({fog:!1,toneMapped:!1});this.lightPlane=new ao(r,s),this.add(this.lightPlane),r=new ht,r.setAttribute("position",new Xe([0,0,0,0,0,1],3)),this.targetLine=new ao(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),lE.setFromMatrixPosition(this.light.matrixWorld),Em.setFromMatrixPosition(this.light.target.matrixWorld),cE.subVectors(Em,lE),this.lightPlane.lookAt(Em),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Em),this.targetLine.scale.z=cE.length()}}const Pm=new I,wn=new eh;class q9 extends es{constructor(e){const t=new ht,i=new xi({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,g){l(y),l(g)}function l(y){r.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(r.length/3-1)}t.setAttribute("position",new Xe(r,3)),t.setAttribute("color",new Xe(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Oe(16755200),d=new Oe(16711680),h=new Oe(43775),p=new Oe(16777215),m=new Oe(3355443);this.setColors(c,d,h,p,m)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;wn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Tn("c",t,e,wn,0,0,-1),Tn("t",t,e,wn,0,0,1),Tn("n1",t,e,wn,-i,-r,-1),Tn("n2",t,e,wn,i,-r,-1),Tn("n3",t,e,wn,-i,r,-1),Tn("n4",t,e,wn,i,r,-1),Tn("f1",t,e,wn,-i,-r,1),Tn("f2",t,e,wn,i,-r,1),Tn("f3",t,e,wn,-i,r,1),Tn("f4",t,e,wn,i,r,1),Tn("u1",t,e,wn,i*.7,r*1.1,-1),Tn("u2",t,e,wn,-i*.7,r*1.1,-1),Tn("u3",t,e,wn,0,r*2,-1),Tn("cf1",t,e,wn,-i,0,1),Tn("cf2",t,e,wn,i,0,1),Tn("cf3",t,e,wn,0,-r,1),Tn("cf4",t,e,wn,0,r,1),Tn("cn1",t,e,wn,-i,0,-1),Tn("cn2",t,e,wn,i,0,-1),Tn("cn3",t,e,wn,0,-r,-1),Tn("cn4",t,e,wn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Tn(n,e,t,i,r,s,o){Pm.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,d=a.length;c<d;c++)l.setXYZ(a[c],Pm.x,Pm.y,Pm.z)}}const Rm=new ya;class Z9 extends es{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new ht;s.setIndex(new Ft(i,1)),s.setAttribute("position",new Ft(r,3)),super(s,new xi({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Rm.setFromObject(this.object),Rm.isEmpty())return;const t=Rm.min,i=Rm.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class $9 extends es{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new ht;s.setIndex(new Ft(i,1)),s.setAttribute("position",new Xe(r,3)),super(s,new xi({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class eV extends ao{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new ht;o.setAttribute("position",new Xe(s,3)),o.computeBoundingSphere(),super(o,new xi({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new ht;l.setAttribute("position",new Xe(a,3)),l.computeBoundingSphere(),this.add(new Yn(l,new tr({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const uE=new I;let Bm,Ax;class tV extends Bt{constructor(e=new I(0,0,1),t=new I(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",Bm===void 0&&(Bm=new ht,Bm.setAttribute("position",new Xe([0,0,0,0,1,0],3)),Ax=new Fl(0,.5,1,5,1),Ax.translate(0,-.5,0)),this.position.copy(t),this.line=new ao(Bm,new xi({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Yn(Ax,new tr({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{uE.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(uE,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class nV extends es{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new ht;r.setAttribute("position",new Xe(t,3)),r.setAttribute("color",new Xe(i,3));const s=new xi({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new Oe,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class iV{constructor(){this.type="ShapePath",this.color=new Oe,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Dd,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(w){const _=[];for(let S=0,M=w.length;S<M;S++){const T=w[S],E=new gl;E.curves=T.curves,_.push(E)}return _}function i(w,_){const S=_.length;let M=!1;for(let T=S-1,E=0;E<S;T=E++){let B=_[T],C=_[E],R=C.x-B.x,L=C.y-B.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(B=_[E],R=-R,C=_[T],L=-L),w.y<B.y||w.y>C.y)continue;if(w.y===B.y){if(w.x===B.x)return!0}else{const O=L*(w.x-B.x)-R*(w.y-B.y);if(O===0)return!0;if(O<0)continue;M=!M}}else{if(w.y!==B.y)continue;if(C.x<=w.x&&w.x<=B.x||B.x<=w.x&&w.x<=C.x)return!0}}return M}const r=xs.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new gl,l.curves=a.curves,c.push(l),c;let d=!r(s[0].getPoints());d=e?!d:d;const h=[],p=[];let m=[],y=0,g;p[y]=void 0,m[y]=[];for(let w=0,_=s.length;w<_;w++)a=s[w],g=a.getPoints(),o=r(g),o=e?!o:o,o?(!d&&p[y]&&y++,p[y]={s:new gl,p:g},p[y].s.curves=a.curves,d&&y++,m[y]=[]):m[y].push({h:a,p:g[0]});if(!p[0])return t(s);if(p.length>1){let w=!1,_=0;for(let S=0,M=p.length;S<M;S++)h[S]=[];for(let S=0,M=p.length;S<M;S++){const T=m[S];for(let E=0;E<T.length;E++){const B=T[E];let C=!0;for(let R=0;R<p.length;R++)i(B.p,p[R].p)&&(S!==R&&_++,C?(C=!1,h[R].push(B)):w=!0);C&&h[S].push(B)}}_>0&&w===!1&&(m=h)}let x;for(let w=0,_=p.length;w<_;w++){l=p[w].s,c.push(l),x=m[w];for(let S=0,M=x.length;S<M;S++)l.holes.push(x[S].h)}return c}}const Vs=rV();function rV(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,d=0;for(;!(c&8388608);)c<<=1,d-=8388608;c&=-8388609,d+=947912704,s[l]=c|d}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function sV(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Pn(n,-65504,65504),Vs.floatView[0]=n;const e=Vs.uint32View[0],t=e>>23&511;return Vs.baseTable[t]+((e&8388607)>>Vs.shiftTable[t])}function oV(n){const e=n>>10;return Vs.uint32View[0]=Vs.mantissaTable[Vs.offsetTable[e]+(n&1023)]+Vs.exponentTable[e],Vs.floatView[0]}const aV={toHalfFloat:sV,fromHalfFloat:oV};class lV extends _a{constructor(e,t,i,r,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,i,r,s,o)}}class cV extends sh{constructor(e,t,i,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,i,r)}}class uV extends oh{constructor(e,t,i,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,i,r)}}class fV extends ah{constructor(e,t,i,r,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,i,r,s,o,a)}}class dV extends Fl{constructor(e,t,i,r,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,i,r,s,o,a,l)}}class hV extends lh{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class pV extends ch{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class mV extends uh{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class gV extends ku{constructor(e,t,i,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,i,r)}}class vV extends Fu{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class yV extends Iu{constructor(e,t,i,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,i,r)}}class xV extends po{constructor(e,t,i,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,i,r)}}class _V extends fh{constructor(e,t,i,r,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,i,r,s,o)}}class wV extends dh{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class SV extends Nu{constructor(e,t,i,r,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,i,r,s,o,a)}}class AV extends hh{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class MV extends ph{constructor(e,t,i,r,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,i,r,s)}}class bV extends mh{constructor(e,t,i,r,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,i,r,s,o)}}class CV extends gh{constructor(e,t,i,r,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,i,r,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Bu}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Bu);const TV=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:bS,AddEquation:Qa,AddOperation:SB,AdditiveAnimationBlendMode:TS,AdditiveBlending:r1,AlphaFormat:LB,AlwaysDepth:mB,AlwaysStencilFunc:YB,AmbientLight:zL,AmbientLightProbe:g9,AnimationClip:yu,AnimationLoader:s9,AnimationMixer:O9,AnimationObjectGroup:L9,AnimationUtils:t9,ArcCurve:mL,ArrayCamera:cL,ArrowHelper:tV,Audio:jL,AudioAnalyser:S9,AudioContext:aA,AudioListener:x9,AudioLoader:p9,AxesHelper:nV,BackSide:ji,BasicDepthPacking:JB,BasicShadowMap:tB,Bone:H0,BooleanKeyframeTrack:Nl,Box2:G9,Box3:ya,Box3Helper:$9,BoxBufferGeometry:lV,BoxGeometry:_a,BoxHelper:Z9,BufferAttribute:Ft,BufferGeometry:ht,BufferGeometryLoader:VL,ByteType:TB,Cache:Pl,Camera:eh,CameraHelper:q9,CanvasTexture:b8,CapsuleBufferGeometry:cV,CapsuleGeometry:sh,CatmullRomCurve3:gL,CineonToneMapping:bB,CircleBufferGeometry:uV,CircleGeometry:oh,ClampToEdgeWrapping:ni,Clock:lA,Color:Oe,ColorKeyframeTrack:tA,ColorManagement:mi,CompressedArrayTexture:M8,CompressedTexture:jS,CompressedTextureLoader:o9,ConeBufferGeometry:fV,ConeGeometry:ah,CubeCamera:OS,CubeReflectionMapping:oa,CubeRefractionMapping:aa,CubeTexture:th,CubeTextureLoader:a9,CubeUVReflectionMapping:Lu,CubicBezierCurve:XS,CubicBezierCurve3:vL,CubicInterpolant:IL,CullFaceBack:i1,CullFaceFront:eB,CullFaceFrontBack:bz,CullFaceNone:$R,Curve:ts,CurvePath:xL,CustomBlending:nB,CustomToneMapping:CB,CylinderBufferGeometry:dV,CylinderGeometry:Fl,Cylindrical:U9,Data3DTexture:LS,DataArrayTexture:k0,DataTexture:tu,DataTextureLoader:l9,DataUtils:aV,DecrementStencilOp:Oz,DecrementWrapStencilOp:Fz,DefaultLoadingManager:Gc,DepthFormat:$o,DepthStencilFormat:Al,DepthTexture:uL,DirectionalLight:oA,DirectionalLightHelper:Q9,DiscreteInterpolant:OL,DisplayP3ColorSpace:PS,DodecahedronBufferGeometry:hV,DodecahedronGeometry:lh,DoubleSide:Xr,DstAlphaFactor:cB,DstColorFactor:fB,DynamicCopyUsage:qz,DynamicDrawUsage:hl,DynamicReadUsage:Kz,EdgesGeometry:_L,EllipseCurve:V0,EqualDepth:vB,EqualStencilFunc:Gz,EquirectangularReflectionMapping:Cd,EquirectangularRefractionMapping:Td,Euler:$d,EventDispatcher:ho,ExtrudeBufferGeometry:pV,ExtrudeGeometry:ch,FileLoader:sr,Float16BufferAttribute:F5,Float32BufferAttribute:Xe,Float64BufferAttribute:N5,FloatType:Js,Fog:G0,FogExp2:U0,FramebufferTexture:A8,FrontSide:ws,Frustum:F0,GLBufferAttribute:z9,GLSL1:$z,GLSL3:L1,GreaterDepth:xB,GreaterEqualDepth:yB,GreaterEqualStencilFunc:jz,GreaterStencilFunc:Vz,GridHelper:K9,Group:Ks,HalfFloatType:pu,HemisphereLight:NL,HemisphereLightHelper:X9,HemisphereLightProbe:m9,IcosahedronBufferGeometry:mV,IcosahedronGeometry:uh,ImageBitmapLoader:WL,ImageLoader:Fd,ImageUtils:BS,IncrementStencilOp:Iz,IncrementWrapStencilOp:kz,InstancedBufferAttribute:bl,InstancedBufferGeometry:HL,InstancedInterleavedBuffer:N9,InstancedMesh:HS,Int16BufferAttribute:O5,Int32BufferAttribute:k5,Int8BufferAttribute:L5,IntType:PB,InterleavedBuffer:nh,InterleavedBufferAttribute:ua,Interpolant:zu,InterpolateDiscrete:mu,InterpolateLinear:Ml,InterpolateSmooth:ag,InvertStencilOp:Nz,KeepStencilOp:lg,KeyframeTrack:ns,LOD:pL,LatheBufferGeometry:gV,LatheGeometry:ku,Layers:ml,LessDepth:gB,LessEqualDepth:Gg,LessEqualStencilFunc:Hz,LessStencilFunc:Uz,Light:wa,LightProbe:J0,Line:ao,Line3:H9,LineBasicMaterial:xi,LineCurve:W0,LineCurve3:yL,LineDashedMaterial:LL,LineLoop:VS,LineSegments:es,LinearEncoding:ca,LinearFilter:fn,LinearInterpolant:eA,LinearMipMapLinearFilter:Rz,LinearMipMapNearestFilter:Pz,LinearMipmapLinearFilter:Ss,LinearMipmapNearestFilter:I0,LinearSRGBColorSpace:gu,LinearToneMapping:AB,Loader:Di,LoaderUtils:ea,LoadingManager:nA,LoopOnce:HB,LoopPingPong:WB,LoopRepeat:VB,LuminanceAlphaFormat:IB,LuminanceFormat:DB,MOUSE:ja,Material:Fn,MaterialLoader:X0,MathUtils:ZB,Matrix3:ii,Matrix4:ct,MaxEquation:l1,Mesh:Yn,MeshBasicMaterial:tr,MeshDepthMaterial:NS,MeshDistanceMaterial:zS,MeshLambertMaterial:RL,MeshMatcapMaterial:BL,MeshNormalMaterial:PL,MeshPhongMaterial:TL,MeshPhysicalMaterial:Br,MeshStandardMaterial:vh,MeshToonMaterial:EL,MinEquation:a1,MirroredRepeatWrapping:hu,MixOperation:wB,MultiplyBlending:o1,MultiplyOperation:Zd,NearestFilter:An,NearestMipMapLinearFilter:Ez,NearestMipMapNearestFilter:Tz,NearestMipmapLinearFilter:$c,NearestMipmapNearestFilter:Ed,NeverDepth:pB,NeverStencilFunc:zz,NoBlending:Zs,NoColorSpace:Bz,NoToneMapping:Qr,NormalAnimationBlendMode:O0,NormalBlending:fl,NotEqualDepth:_B,NotEqualStencilFunc:Wz,NumberKeyframeTrack:Tl,Object3D:Bt,ObjectLoader:d9,ObjectSpaceNormalMap:KB,OctahedronBufferGeometry:vV,OctahedronGeometry:Fu,OneFactor:oB,OneMinusDstAlphaFactor:uB,OneMinusDstColorFactor:dB,OneMinusSrcAlphaFactor:MS,OneMinusSrcColorFactor:lB,OrthographicCamera:qr,PCFShadowMap:L0,PCFSoftShadowMap:$f,PMREMGenerator:I1,Path:Dd,PerspectiveCamera:on,Plane:Hs,PlaneBufferGeometry:yV,PlaneGeometry:Iu,PlaneHelper:eV,PointLight:sA,PointLightHelper:j9,Points:WS,PointsMaterial:rh,PolarGridHelper:Y9,PolyhedronBufferGeometry:xV,PolyhedronGeometry:po,PositionalAudio:w9,PropertyBinding:Rt,PropertyMixer:JL,QuadraticBezierCurve:KS,QuadraticBezierCurve3:YS,Quaternion:qn,QuaternionKeyframeTrack:fa,QuaternionLinearInterpolant:kL,RED_GREEN_RGTC2_Format:R1,RED_RGTC1_Format:GB,REVISION:Bu,RGBADepthPacking:XB,RGBAFormat:Ui,RGBAIntegerFormat:zB,RGBA_ASTC_10x10_Format:C1,RGBA_ASTC_10x5_Format:A1,RGBA_ASTC_10x6_Format:M1,RGBA_ASTC_10x8_Format:b1,RGBA_ASTC_12x10_Format:T1,RGBA_ASTC_12x12_Format:E1,RGBA_ASTC_4x4_Format:m1,RGBA_ASTC_5x4_Format:g1,RGBA_ASTC_5x5_Format:v1,RGBA_ASTC_6x5_Format:y1,RGBA_ASTC_6x6_Format:x1,RGBA_ASTC_8x5_Format:_1,RGBA_ASTC_8x6_Format:w1,RGBA_ASTC_8x8_Format:S1,RGBA_BPTC_Format:og,RGBA_ETC2_EAC_Format:p1,RGBA_PVRTC_2BPPV1_Format:d1,RGBA_PVRTC_4BPPV1_Format:f1,RGBA_S3TC_DXT1_Format:ig,RGBA_S3TC_DXT3_Format:rg,RGBA_S3TC_DXT5_Format:sg,RGB_ETC1_Format:UB,RGB_ETC2_Format:h1,RGB_PVRTC_2BPPV1_Format:u1,RGB_PVRTC_4BPPV1_Format:c1,RGB_S3TC_DXT1_Format:ng,RGFormat:FB,RGIntegerFormat:NB,RawShaderMaterial:CL,Ray:Du,Raycaster:XL,RectAreaLight:UL,RedFormat:OB,RedIntegerFormat:kB,ReinhardToneMapping:MB,RepeatWrapping:la,ReplaceStencilOp:Dz,ReverseSubtractEquation:rB,RingBufferGeometry:_V,RingGeometry:fh,SIGNED_RED_GREEN_RGTC2_Format:B1,SIGNED_RED_RGTC1_Format:P1,SRGBColorSpace:Wr,Scene:Wg,ShaderChunk:vt,ShaderLib:Jr,ShaderMaterial:As,ShadowMaterial:bL,Shape:gl,ShapeBufferGeometry:wV,ShapeGeometry:dh,ShapePath:iV,ShapeUtils:xs,ShortType:EB,Skeleton:ih,SkeletonHelper:W9,SkinnedMesh:GS,Source:rl,Sphere:xa,SphereBufferGeometry:SV,SphereGeometry:Nu,Spherical:G1,SphericalHarmonics3:GL,SplineCurve:QS,SpotLight:rA,SpotLightHelper:V9,Sprite:hL,SpriteMaterial:US,SrcAlphaFactor:AS,SrcAlphaSaturateFactor:hB,SrcColorFactor:aB,StaticCopyUsage:Qz,StaticDrawUsage:Rd,StaticReadUsage:Xz,StereoCamera:v9,StreamCopyUsage:Zz,StreamDrawUsage:Jz,StreamReadUsage:Yz,StringKeyframeTrack:zl,SubtractEquation:iB,SubtractiveBlending:s1,TOUCH:Ja,TangentSpaceNormalMap:va,TetrahedronBufferGeometry:AV,TetrahedronGeometry:hh,Texture:an,TextureLoader:FL,TorusBufferGeometry:MV,TorusGeometry:ph,TorusKnotBufferGeometry:bV,TorusKnotGeometry:mh,Triangle:Cr,TriangleFanDrawMode:Hg,TriangleStripDrawMode:ES,TrianglesDrawMode:jB,TubeBufferGeometry:CV,TubeGeometry:gh,TwoPassDoubleSide:Cz,UVMapping:D0,Uint16BufferAttribute:DS,Uint32BufferAttribute:IS,Uint8BufferAttribute:D5,Uint8ClampedBufferAttribute:I5,Uniform:fA,UniformsGroup:F9,UniformsLib:Be,UniformsUtils:nL,UnsignedByteType:oo,UnsignedInt248Type:dl,UnsignedIntType:Ho,UnsignedShort4444Type:RB,UnsignedShort5551Type:BB,UnsignedShortType:CS,VSMShadowMap:tl,Vector2:pe,Vector3:I,Vector4:Vt,VectorKeyframeTrack:El,VideoTexture:S8,WebGL1Renderer:fL,WebGL3DRenderTarget:S5,WebGLArrayRenderTarget:w5,WebGLCubeRenderTarget:kS,WebGLMultipleRenderTargets:A5,WebGLRenderTarget:$r,WebGLRenderer:z0,WebGLUtils:lL,WireframeGeometry:ML,WrapAroundEnding:Pd,ZeroCurvatureEnding:nl,ZeroFactor:sB,ZeroSlopeEnding:il,ZeroStencilOp:Lz,_SRGBAFormat:Vg,sRGBEncoding:Kt},Symbol.toStringTag,{value:"Module"}));var YL={exports:{}},Ul={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Ul.ConcurrentRoot=1;Ul.ContinuousEventPriority=4;Ul.DefaultEventPriority=16;Ul.DiscreteEventPriority=1;Ul.IdleEventPriority=536870912;Ul.LegacyRoot=0;YL.exports=Ul;var Hc=YL.exports;function EV(n){let e;const t=new Set,i=(c,d)=>{const h=typeof c=="function"?c(e):c;if(h!==e){const p=e;e=d?h:Object.assign({},e,h),t.forEach(m=>m(e,p))}},r=()=>e,s=(c,d=r,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=d(e);function m(){const y=d(e);if(!h(p,y)){const g=p;c(p=y,g)}}return t.add(m),()=>t.delete(m)},l={setState:i,getState:r,subscribe:(c,d,h)=>d||h?s(c,d,h):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(i,r,l),l}const PV=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),fE=PV?F.useEffect:F.useLayoutEffect;function RV(n){const e=typeof n=="function"?EV(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=F.useReducer(x=>x+1,0),o=e.getState(),a=F.useRef(o),l=F.useRef(i),c=F.useRef(r),d=F.useRef(!1),h=F.useRef();h.current===void 0&&(h.current=i(o));let p,m=!1;(a.current!==o||l.current!==i||c.current!==r||d.current)&&(p=i(o),m=!r(h.current,p)),fE(()=>{m&&(h.current=p),a.current=o,l.current=i,c.current=r,d.current=!1});const y=F.useRef(o);fE(()=>{const x=()=>{try{const _=e.getState(),S=l.current(_);c.current(h.current,S)||(a.current=_,h.current=S,s())}catch{d.current=!0,s()}},w=e.subscribe(x);return e.getState()!==y.current&&x(),w},[]);const g=m?p:h.current;return F.useDebugValue(g),g};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}const BV=n=>typeof n=="object"&&typeof n.then=="function",ol=[];function QL(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function qL(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const s of ol)if(QL(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=ol.indexOf(r);s!==-1&&ol.splice(s,1)},promise:(BV(n)?n:n(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(ol.push(r),!t)throw r.promise}const LV=(n,e,t)=>qL(n,e,!1,t),DV=(n,e,t)=>void qL(n,e,!0,t),IV=n=>{if(n===void 0||n.length===0)ol.splice(0,ol.length);else{const e=ol.find(t=>QL(n,t.keys,t.equal));e&&e.remove()}};var ZL={exports:{}},$L={exports:{}},eD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(k,K){var J=k.length;k.push(K);e:for(;0<J;){var te=J-1>>>1,X=k[te];if(0<r(X,K))k[te]=K,k[J]=X,J=te;else break e}}function t(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var K=k[0],J=k.pop();if(J!==K){k[0]=J;e:for(var te=0,X=k.length,ie=X>>>1;te<ie;){var ve=2*(te+1)-1,q=k[ve],we=ve+1,Ae=k[we];if(0>r(q,J))we<X&&0>r(Ae,q)?(k[te]=Ae,k[we]=J,te=we):(k[te]=q,k[ve]=J,te=ve);else if(we<X&&0>r(Ae,J))k[te]=Ae,k[we]=J,te=we;else break e}}return K}function r(k,K){var J=k.sortIndex-K.sortIndex;return J!==0?J:k.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,m=!1,y=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(k){for(var K=t(c);K!==null;){if(K.callback===null)i(c);else if(K.startTime<=k)i(c),K.sortIndex=K.expirationTime,e(l,K);else break;K=t(c)}}function M(k){if(g=!1,S(k),!y)if(t(l)!==null)y=!0,ee(T);else{var K=t(c);K!==null&&oe(M,K.startTime-k)}}function T(k,K){y=!1,g&&(g=!1,w(C),C=-1),m=!0;var J=p;try{for(S(K),h=t(l);h!==null&&(!(h.expirationTime>K)||k&&!O());){var te=h.callback;if(typeof te=="function"){h.callback=null,p=h.priorityLevel;var X=te(h.expirationTime<=K);K=n.unstable_now(),typeof X=="function"?h.callback=X:h===t(l)&&i(l),S(K)}else i(l);h=t(l)}if(h!==null)var ie=!0;else{var ve=t(c);ve!==null&&oe(M,ve.startTime-K),ie=!1}return ie}finally{h=null,p=J,m=!1}}var E=!1,B=null,C=-1,R=5,L=-1;function O(){return!(n.unstable_now()-L<R)}function V(){if(B!==null){var k=n.unstable_now();L=k;var K=!0;try{K=B(!0,k)}finally{K?H():(E=!1,B=null)}}else E=!1}var H;if(typeof _=="function")H=function(){_(V)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,$=G.port2;G.port1.onmessage=V,H=function(){$.postMessage(null)}}else H=function(){x(V,0)};function ee(k){B=k,E||(E=!0,H())}function oe(k,K){C=x(function(){k(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,ee(T))},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(k){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var J=p;p=K;try{return k()}finally{p=J}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,K){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var J=p;p=k;try{return K()}finally{p=J}},n.unstable_scheduleCallback=function(k,K,J){var te=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?te+J:te):J=te,k){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=J+X,k={id:d++,callback:K,priorityLevel:k,startTime:J,expirationTime:X,sortIndex:-1},J>te?(k.sortIndex=J,e(c,k),t(l)===null&&k===t(c)&&(g?(w(C),C=-1):g=!0,oe(M,J-te))):(k.sortIndex=X,e(l,k),y||m||(y=!0,ee(T))),k},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(k){var K=p;return function(){var J=p;p=K;try{return k.apply(this,arguments)}finally{p=J}}}})(eD);$L.exports=eD;var H1=$L.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OV=function(e){var t={},i=F,r=H1,s=Object.assign;function o(u){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+u,v=1;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),T=Symbol.iterator;function E(u){return u===null||typeof u!="object"?null:(u=T&&u[T]||u["@@iterator"],typeof u=="function"?u:null)}function B(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case d:return"Fragment";case c:return"Portal";case p:return"Profiler";case h:return"StrictMode";case x:return"Suspense";case w:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case y:return(u.displayName||"Context")+".Consumer";case m:return(u._context.displayName||"Context")+".Provider";case g:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case _:return f=u.displayName||null,f!==null?f:B(u.type)||"Memo";case S:f=u._payload,u=u._init;try{return B(u(f))}catch{}}return null}function C(u){var f=u.type;switch(u.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=f.render,u=u.displayName||u.name||"",f.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(f);case 8:return f===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function R(u){var f=u,v=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,f.flags&4098&&(v=f.return),u=f.return;while(u)}return f.tag===3?v:null}function L(u){if(R(u)!==u)throw Error(o(188))}function O(u){var f=u.alternate;if(!f){if(f=R(u),f===null)throw Error(o(188));return f!==u?null:u}for(var v=u,A=f;;){var b=v.return;if(b===null)break;var P=b.alternate;if(P===null){if(A=b.return,A!==null){v=A;continue}break}if(b.child===P.child){for(P=b.child;P;){if(P===v)return L(b),u;if(P===A)return L(b),f;P=P.sibling}throw Error(o(188))}if(v.return!==A.return)v=b,A=P;else{for(var z=!1,Q=b.child;Q;){if(Q===v){z=!0,v=b,A=P;break}if(Q===A){z=!0,A=b,v=P;break}Q=Q.sibling}if(!z){for(Q=P.child;Q;){if(Q===v){z=!0,v=P,A=b;break}if(Q===A){z=!0,A=P,v=b;break}Q=Q.sibling}if(!z)throw Error(o(189))}}if(v.alternate!==A)throw Error(o(190))}if(v.tag!==3)throw Error(o(188));return v.stateNode.current===v?u:f}function V(u){return u=O(u),u!==null?H(u):null}function H(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var f=H(u);if(f!==null)return f;u=u.sibling}return null}function G(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){if(u.tag!==4){var f=G(u);if(f!==null)return f}u=u.sibling}return null}var $=Array.isArray,ee=e.getPublicInstance,oe=e.getRootHostContext,k=e.getChildHostContext,K=e.prepareForCommit,J=e.resetAfterCommit,te=e.createInstance,X=e.appendInitialChild,ie=e.finalizeInitialChildren,ve=e.prepareUpdate,q=e.shouldSetTextContent,we=e.createTextInstance,Ae=e.scheduleTimeout,De=e.cancelTimeout,Fe=e.noTimeout,Ee=e.isPrimaryRenderer,_e=e.supportsMutation,de=e.supportsPersistence,he=e.supportsHydration,Me=e.getInstanceFromNode,Ve=e.preparePortalMount,Re=e.getCurrentEventPriority,Ye=e.detachDeletedInstance,Ke=e.supportsMicrotasks,et=e.scheduleMicrotask,wt=e.supportsTestSelectors,Et=e.findFiberRoot,U=e.getBoundingRect,D=e.getTextContent,ae=e.isHiddenSubtree,be=e.matchAccessibilityRole,Ce=e.setFocusIfFocusable,Pe=e.setupIntersectionObserver,Qe=e.appendChild,Ue=e.appendChildToContainer,ge=e.commitTextUpdate,tt=e.commitMount,Je=e.commitUpdate,ot=e.insertBefore,nt=e.insertInContainerBefore,qe=e.removeChild,Y=e.removeChildFromContainer,ye=e.resetTextContent,Ge=e.hideInstance,j=e.hideTextInstance,le=e.unhideInstance,xe=e.unhideTextInstance,Le=e.clearContainer,je=e.cloneInstance,Nt=e.createContainerChildSet,zt=e.appendChildToContainerChildSet,jt=e.finalizeContainerChildren,Nn=e.replaceContainerChildren,Ut=e.cloneHiddenInstance,bn=e.cloneHiddenTextInstance,Zn=e.canHydrateInstance,dv=e.canHydrateTextInstance,hv=e.canHydrateSuspenseInstance,Dh=e.isSuspenseInstancePending,N=e.isSuspenseInstanceFallback,se=e.registerSuspenseInstanceRetry,fe=e.getNextHydratableSibling,ne=e.getFirstHydratableChild,me=e.getFirstHydratableChildWithinContainer,it=e.getFirstHydratableChildWithinSuspenseInstance,ut=e.hydrateInstance,mt=e.hydrateTextInstance,yt=e.hydrateSuspenseInstance,Pt=e.getNextHydratableInstanceAfterSuspenseInstance,St=e.commitHydratedContainer,Tt=e.commitHydratedSuspenseInstance,gn=e.clearSuspenseBoundary,_i=e.clearSuspenseBoundaryFromContainer,Lr=e.shouldDeleteUnhydratedTailInstances,Ms=e.didNotMatchHydratedContainerTextInstance,vn=e.didNotMatchHydratedTextInstance,_t;function bs(u){if(_t===void 0)try{throw Error()}catch(v){var f=v.stack.trim().match(/\n( *(at )?)/);_t=f&&f[1]||""}return`
`+_t+u}var yn=!1;function Dr(u,f){if(!u||yn)return"";yn=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Te){var A=Te}Reflect.construct(u,[],f)}else{try{f.call()}catch(Te){A=Te}u.call(f.prototype)}else{try{throw Error()}catch(Te){A=Te}u()}}catch(Te){if(Te&&A&&typeof Te.stack=="string"){for(var b=Te.stack.split(`
`),P=A.stack.split(`
`),z=b.length-1,Q=P.length-1;1<=z&&0<=Q&&b[z]!==P[Q];)Q--;for(;1<=z&&0<=Q;z--,Q--)if(b[z]!==P[Q]){if(z!==1||Q!==1)do if(z--,Q--,0>Q||b[z]!==P[Q]){var ue=`
`+b[z].replace(" at new "," at ");return u.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",u.displayName)),ue}while(1<=z&&0<=Q);break}}}finally{yn=!1,Error.prepareStackTrace=v}return(u=u?u.displayName||u.name:"")?bs(u):""}var Ih=Object.prototype.hasOwnProperty,Cs=[],is=-1;function en(u){return{current:u}}function Lt(u){0>is||(u.current=Cs[is],Cs[is]=null,is--)}function Gt(u,f){is++,Cs[is]=u.current,u.current=f}var xn={},Rn=en(xn),oi=en(!1),rs=xn;function Vl(u,f){var v=u.type.contextTypes;if(!v)return xn;var A=u.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===f)return A.__reactInternalMemoizedMaskedChildContext;var b={},P;for(P in v)b[P]=f[P];return A&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=f,u.__reactInternalMemoizedMaskedChildContext=b),b}function Ii(u){return u=u.childContextTypes,u!=null}function Oh(){Lt(oi),Lt(Rn)}function jA(u,f,v){if(Rn.current!==xn)throw Error(o(168));Gt(Rn,f),Gt(oi,v)}function JA(u,f,v){var A=u.stateNode;if(f=f.childContextTypes,typeof A.getChildContext!="function")return v;A=A.getChildContext();for(var b in A)if(!(b in f))throw Error(o(108,C(u)||"Unknown",b));return s({},v,A)}function kh(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||xn,rs=Rn.current,Gt(Rn,u),Gt(oi,oi.current),!0}function XA(u,f,v){var A=u.stateNode;if(!A)throw Error(o(169));v?(u=JA(u,f,rs),A.__reactInternalMemoizedMergedChildContext=u,Lt(oi),Lt(Rn),Gt(Rn,u)):Lt(oi),Gt(oi,v)}var Ir=Math.clz32?Math.clz32:sk,ik=Math.log,rk=Math.LN2;function sk(u){return u>>>=0,u===0?32:31-(ik(u)/rk|0)|0}var Fh=64,Nh=4194304;function Hu(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function zh(u,f){var v=u.pendingLanes;if(v===0)return 0;var A=0,b=u.suspendedLanes,P=u.pingedLanes,z=v&268435455;if(z!==0){var Q=z&~b;Q!==0?A=Hu(Q):(P&=z,P!==0&&(A=Hu(P)))}else z=v&~b,z!==0?A=Hu(z):P!==0&&(A=Hu(P));if(A===0)return 0;if(f!==0&&f!==A&&!(f&b)&&(b=A&-A,P=f&-f,b>=P||b===16&&(P&4194240)!==0))return f;if(A&4&&(A|=v&16),f=u.entangledLanes,f!==0)for(u=u.entanglements,f&=A;0<f;)v=31-Ir(f),b=1<<v,A|=u[v],f&=~b;return A}function ok(u,f){switch(u){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ak(u,f){for(var v=u.suspendedLanes,A=u.pingedLanes,b=u.expirationTimes,P=u.pendingLanes;0<P;){var z=31-Ir(P),Q=1<<z,ue=b[z];ue===-1?(!(Q&v)||Q&A)&&(b[z]=ok(Q,f)):ue<=f&&(u.expiredLanes|=Q),P&=~Q}}function pv(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function mv(u){for(var f=[],v=0;31>v;v++)f.push(u);return f}function Vu(u,f,v){u.pendingLanes|=f,f!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,f=31-Ir(f),u[f]=v}function lk(u,f){var v=u.pendingLanes&~f;u.pendingLanes=f,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=f,u.mutableReadLanes&=f,u.entangledLanes&=f,f=u.entanglements;var A=u.eventTimes;for(u=u.expirationTimes;0<v;){var b=31-Ir(v),P=1<<b;f[b]=0,A[b]=-1,u[b]=-1,v&=~P}}function gv(u,f){var v=u.entangledLanes|=f;for(u=u.entanglements;v;){var A=31-Ir(v),b=1<<A;b&f|u[A]&f&&(u[A]|=f),v&=~b}}var It=0;function KA(u){return u&=-u,1<u?4<u?u&268435455?16:536870912:4:1}var vv=r.unstable_scheduleCallback,YA=r.unstable_cancelCallback,ck=r.unstable_shouldYield,uk=r.unstable_requestPaint,Wn=r.unstable_now,yv=r.unstable_ImmediatePriority,fk=r.unstable_UserBlockingPriority,xv=r.unstable_NormalPriority,dk=r.unstable_IdlePriority,Uh=null,ss=null;function hk(u){if(ss&&typeof ss.onCommitFiberRoot=="function")try{ss.onCommitFiberRoot(Uh,u,void 0,(u.current.flags&128)===128)}catch{}}function pk(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var os=typeof Object.is=="function"?Object.is:pk,Ts=null,Gh=!1,_v=!1;function QA(u){Ts===null?Ts=[u]:Ts.push(u)}function mk(u){Gh=!0,QA(u)}function as(){if(!_v&&Ts!==null){_v=!0;var u=0,f=It;try{var v=Ts;for(It=1;u<v.length;u++){var A=v[u];do A=A(!0);while(A!==null)}Ts=null,Gh=!1}catch(b){throw Ts!==null&&(Ts=Ts.slice(u+1)),vv(yv,as),b}finally{It=f,_v=!1}}return null}var gk=a.ReactCurrentBatchConfig;function Hh(u,f){if(os(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var v=Object.keys(u),A=Object.keys(f);if(v.length!==A.length)return!1;for(A=0;A<v.length;A++){var b=v[A];if(!Ih.call(f,b)||!os(u[b],f[b]))return!1}return!0}function vk(u){switch(u.tag){case 5:return bs(u.type);case 16:return bs("Lazy");case 13:return bs("Suspense");case 19:return bs("SuspenseList");case 0:case 2:case 15:return u=Dr(u.type,!1),u;case 11:return u=Dr(u.type.render,!1),u;case 1:return u=Dr(u.type,!0),u;default:return""}}function Or(u,f){if(u&&u.defaultProps){f=s({},f),u=u.defaultProps;for(var v in u)f[v]===void 0&&(f[v]=u[v]);return f}return f}var Vh=en(null),Wh=null,Wl=null,wv=null;function Sv(){wv=Wl=Wh=null}function qA(u,f,v){Ee?(Gt(Vh,f._currentValue),f._currentValue=v):(Gt(Vh,f._currentValue2),f._currentValue2=v)}function Av(u){var f=Vh.current;Lt(Vh),Ee?u._currentValue=f:u._currentValue2=f}function Mv(u,f,v){for(;u!==null;){var A=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,A!==null&&(A.childLanes|=f)):A!==null&&(A.childLanes&f)!==f&&(A.childLanes|=f),u===v)break;u=u.return}}function jl(u,f){Wh=u,wv=Wl=null,u=u.dependencies,u!==null&&u.firstContext!==null&&(u.lanes&f&&(Yi=!0),u.firstContext=null)}function cr(u){var f=Ee?u._currentValue:u._currentValue2;if(wv!==u)if(u={context:u,memoizedValue:f,next:null},Wl===null){if(Wh===null)throw Error(o(308));Wl=u,Wh.dependencies={lanes:0,firstContext:u}}else Wl=Wl.next=u;return f}var ls=null,mo=!1;function bv(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZA(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Es(u,f){return{eventTime:u,lane:f,tag:0,payload:null,callback:null,next:null}}function go(u,f){var v=u.updateQueue;v!==null&&(v=v.shared,Bn!==null&&u.mode&1&&!(xt&2)?(u=v.interleaved,u===null?(f.next=f,ls===null?ls=[v]:ls.push(v)):(f.next=u.next,u.next=f),v.interleaved=f):(u=v.pending,u===null?f.next=f:(f.next=u.next,u.next=f),v.pending=f))}function jh(u,f,v){if(f=f.updateQueue,f!==null&&(f=f.shared,(v&4194240)!==0)){var A=f.lanes;A&=u.pendingLanes,v|=A,f.lanes=v,gv(u,v)}}function $A(u,f){var v=u.updateQueue,A=u.alternate;if(A!==null&&(A=A.updateQueue,v===A)){var b=null,P=null;if(v=v.firstBaseUpdate,v!==null){do{var z={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};P===null?b=P=z:P=P.next=z,v=v.next}while(v!==null);P===null?b=P=f:P=P.next=f}else b=P=f;v={baseState:A.baseState,firstBaseUpdate:b,lastBaseUpdate:P,shared:A.shared,effects:A.effects},u.updateQueue=v;return}u=v.lastBaseUpdate,u===null?v.firstBaseUpdate=f:u.next=f,v.lastBaseUpdate=f}function Jh(u,f,v,A){var b=u.updateQueue;mo=!1;var P=b.firstBaseUpdate,z=b.lastBaseUpdate,Q=b.shared.pending;if(Q!==null){b.shared.pending=null;var ue=Q,Te=ue.next;ue.next=null,z===null?P=Te:z.next=Te,z=ue;var We=u.alternate;We!==null&&(We=We.updateQueue,Q=We.lastBaseUpdate,Q!==z&&(Q===null?We.firstBaseUpdate=Te:Q.next=Te,We.lastBaseUpdate=ue))}if(P!==null){var ft=b.baseState;z=0,We=Te=ue=null,Q=P;do{var rt=Q.lane,Jt=Q.eventTime;if((A&rt)===rt){We!==null&&(We=We.next={eventTime:Jt,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var $e=u,ui=Q;switch(rt=f,Jt=v,ui.tag){case 1:if($e=ui.payload,typeof $e=="function"){ft=$e.call(Jt,ft,rt);break e}ft=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=ui.payload,rt=typeof $e=="function"?$e.call(Jt,ft,rt):$e,rt==null)break e;ft=s({},ft,rt);break e;case 2:mo=!0}}Q.callback!==null&&Q.lane!==0&&(u.flags|=64,rt=b.effects,rt===null?b.effects=[Q]:rt.push(Q))}else Jt={eventTime:Jt,lane:rt,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},We===null?(Te=We=Jt,ue=ft):We=We.next=Jt,z|=rt;if(Q=Q.next,Q===null){if(Q=b.shared.pending,Q===null)break;rt=Q,Q=rt.next,rt.next=null,b.lastBaseUpdate=rt,b.shared.pending=null}}while(1);if(We===null&&(ue=ft),b.baseState=ue,b.firstBaseUpdate=Te,b.lastBaseUpdate=We,f=b.shared.interleaved,f!==null){b=f;do z|=b.lane,b=b.next;while(b!==f)}else P===null&&(b.shared.lanes=0);ec|=z,u.lanes=z,u.memoizedState=ft}}function eM(u,f,v){if(u=f.effects,f.effects=null,u!==null)for(f=0;f<u.length;f++){var A=u[f],b=A.callback;if(b!==null){if(A.callback=null,A=v,typeof b!="function")throw Error(o(191,b));b.call(A)}}}var tM=new i.Component().refs;function Cv(u,f,v,A){f=u.memoizedState,v=v(A,f),v=v==null?f:s({},f,v),u.memoizedState=v,u.lanes===0&&(u.updateQueue.baseState=v)}var Xh={isMounted:function(u){return(u=u._reactInternals)?R(u)===u:!1},enqueueSetState:function(u,f,v){u=u._reactInternals;var A=Si(),b=xo(u),P=Es(A,b);P.payload=f,v!=null&&(P.callback=v),go(u,P),f=pr(u,b,A),f!==null&&jh(f,u,b)},enqueueReplaceState:function(u,f,v){u=u._reactInternals;var A=Si(),b=xo(u),P=Es(A,b);P.tag=1,P.payload=f,v!=null&&(P.callback=v),go(u,P),f=pr(u,b,A),f!==null&&jh(f,u,b)},enqueueForceUpdate:function(u,f){u=u._reactInternals;var v=Si(),A=xo(u),b=Es(v,A);b.tag=2,f!=null&&(b.callback=f),go(u,b),f=pr(u,A,v),f!==null&&jh(f,u,A)}};function nM(u,f,v,A,b,P,z){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(A,P,z):f.prototype&&f.prototype.isPureReactComponent?!Hh(v,A)||!Hh(b,P):!0}function iM(u,f,v){var A=!1,b=xn,P=f.contextType;return typeof P=="object"&&P!==null?P=cr(P):(b=Ii(f)?rs:Rn.current,A=f.contextTypes,P=(A=A!=null)?Vl(u,b):xn),f=new f(v,P),u.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Xh,u.stateNode=f,f._reactInternals=u,A&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=b,u.__reactInternalMemoizedMaskedChildContext=P),f}function rM(u,f,v,A){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(v,A),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(v,A),f.state!==u&&Xh.enqueueReplaceState(f,f.state,null)}function Tv(u,f,v,A){var b=u.stateNode;b.props=v,b.state=u.memoizedState,b.refs=tM,bv(u);var P=f.contextType;typeof P=="object"&&P!==null?b.context=cr(P):(P=Ii(f)?rs:Rn.current,b.context=Vl(u,P)),b.state=u.memoizedState,P=f.getDerivedStateFromProps,typeof P=="function"&&(Cv(u,f,P,v),b.state=u.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(f=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),f!==b.state&&Xh.enqueueReplaceState(b,b.state,null),Jh(u,v,b,A),b.state=u.memoizedState),typeof b.componentDidMount=="function"&&(u.flags|=4194308)}var Jl=[],Xl=0,Kh=null,Yh=0,ur=[],fr=0,Aa=null,Ps=1,Rs="";function Ma(u,f){Jl[Xl++]=Yh,Jl[Xl++]=Kh,Kh=u,Yh=f}function sM(u,f,v){ur[fr++]=Ps,ur[fr++]=Rs,ur[fr++]=Aa,Aa=u;var A=Ps;u=Rs;var b=32-Ir(A)-1;A&=~(1<<b),v+=1;var P=32-Ir(f)+b;if(30<P){var z=b-b%5;P=(A&(1<<z)-1).toString(32),A>>=z,b-=z,Ps=1<<32-Ir(f)+b|v<<b|A,Rs=P+u}else Ps=1<<P|v<<b|A,Rs=u}function Ev(u){u.return!==null&&(Ma(u,1),sM(u,1,0))}function Pv(u){for(;u===Kh;)Kh=Jl[--Xl],Jl[Xl]=null,Yh=Jl[--Xl],Jl[Xl]=null;for(;u===Aa;)Aa=ur[--fr],ur[fr]=null,Rs=ur[--fr],ur[fr]=null,Ps=ur[--fr],ur[fr]=null}var Xi=null,Ki=null,tn=!1,Wu=!1,kr=null;function oM(u,f){var v=mr(5,null,null,0);v.elementType="DELETED",v.stateNode=f,v.return=u,f=u.deletions,f===null?(u.deletions=[v],u.flags|=16):f.push(v)}function aM(u,f){switch(u.tag){case 5:return f=Zn(f,u.type,u.pendingProps),f!==null?(u.stateNode=f,Xi=u,Ki=ne(f),!0):!1;case 6:return f=dv(f,u.pendingProps),f!==null?(u.stateNode=f,Xi=u,Ki=null,!0):!1;case 13:if(f=hv(f),f!==null){var v=Aa!==null?{id:Ps,overflow:Rs}:null;return u.memoizedState={dehydrated:f,treeContext:v,retryLane:1073741824},v=mr(18,null,null,0),v.stateNode=f,v.return=u,u.child=v,Xi=u,Ki=null,!0}return!1;default:return!1}}function Rv(u){return(u.mode&1)!==0&&(u.flags&128)===0}function Bv(u){if(tn){var f=Ki;if(f){var v=f;if(!aM(u,f)){if(Rv(u))throw Error(o(418));f=fe(v);var A=Xi;f&&aM(u,f)?oM(A,v):(u.flags=u.flags&-4097|2,tn=!1,Xi=u)}}else{if(Rv(u))throw Error(o(418));u.flags=u.flags&-4097|2,tn=!1,Xi=u}}}function lM(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Xi=u}function ju(u){if(!he||u!==Xi)return!1;if(!tn)return lM(u),tn=!0,!1;if(u.tag!==3&&(u.tag!==5||Lr(u.type)&&!q(u.type,u.memoizedProps))){var f=Ki;if(f){if(Rv(u)){for(u=Ki;u;)u=fe(u);throw Error(o(418))}for(;f;)oM(u,f),f=fe(f)}}if(lM(u),u.tag===13){if(!he)throw Error(o(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));Ki=Pt(u)}else Ki=Xi?fe(u.stateNode):null;return!0}function Kl(){he&&(Ki=Xi=null,Wu=tn=!1)}function Lv(u){kr===null?kr=[u]:kr.push(u)}function Ju(u,f,v){if(u=v.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(o(309));var A=v.stateNode}if(!A)throw Error(o(147,u));var b=A,P=""+u;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===P?f.ref:(f=function(z){var Q=b.refs;Q===tM&&(Q=b.refs={}),z===null?delete Q[P]:Q[P]=z},f._stringRef=P,f)}if(typeof u!="string")throw Error(o(284));if(!v._owner)throw Error(o(290,u))}return u}function Qh(u,f){throw u=Object.prototype.toString.call(f),Error(o(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u))}function cM(u){var f=u._init;return f(u._payload)}function uM(u){function f(re,Z){if(u){var ce=re.deletions;ce===null?(re.deletions=[Z],re.flags|=16):ce.push(Z)}}function v(re,Z){if(!u)return null;for(;Z!==null;)f(re,Z),Z=Z.sibling;return null}function A(re,Z){for(re=new Map;Z!==null;)Z.key!==null?re.set(Z.key,Z):re.set(Z.index,Z),Z=Z.sibling;return re}function b(re,Z){return re=wo(re,Z),re.index=0,re.sibling=null,re}function P(re,Z,ce){return re.index=ce,u?(ce=re.alternate,ce!==null?(ce=ce.index,ce<Z?(re.flags|=2,Z):ce):(re.flags|=2,Z)):(re.flags|=1048576,Z)}function z(re){return u&&re.alternate===null&&(re.flags|=2),re}function Q(re,Z,ce,Ne){return Z===null||Z.tag!==6?(Z=my(ce,re.mode,Ne),Z.return=re,Z):(Z=b(Z,ce),Z.return=re,Z)}function ue(re,Z,ce,Ne){var Ze=ce.type;return Ze===d?We(re,Z,ce.props.children,Ne,ce.key):Z!==null&&(Z.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===S&&cM(Ze)===Z.type)?(Ne=b(Z,ce.props),Ne.ref=Ju(re,Z,ce),Ne.return=re,Ne):(Ne=Tp(ce.type,ce.key,ce.props,null,re.mode,Ne),Ne.ref=Ju(re,Z,ce),Ne.return=re,Ne)}function Te(re,Z,ce,Ne){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ce.containerInfo||Z.stateNode.implementation!==ce.implementation?(Z=gy(ce,re.mode,Ne),Z.return=re,Z):(Z=b(Z,ce.children||[]),Z.return=re,Z)}function We(re,Z,ce,Ne,Ze){return Z===null||Z.tag!==7?(Z=Ba(ce,re.mode,Ne,Ze),Z.return=re,Z):(Z=b(Z,ce),Z.return=re,Z)}function ft(re,Z,ce){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=my(""+Z,re.mode,ce),Z.return=re,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case l:return ce=Tp(Z.type,Z.key,Z.props,null,re.mode,ce),ce.ref=Ju(re,null,Z),ce.return=re,ce;case c:return Z=gy(Z,re.mode,ce),Z.return=re,Z;case S:var Ne=Z._init;return ft(re,Ne(Z._payload),ce)}if($(Z)||E(Z))return Z=Ba(Z,re.mode,ce,null),Z.return=re,Z;Qh(re,Z)}return null}function rt(re,Z,ce,Ne){var Ze=Z!==null?Z.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return Ze!==null?null:Q(re,Z,""+ce,Ne);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case l:return ce.key===Ze?ue(re,Z,ce,Ne):null;case c:return ce.key===Ze?Te(re,Z,ce,Ne):null;case S:return Ze=ce._init,rt(re,Z,Ze(ce._payload),Ne)}if($(ce)||E(ce))return Ze!==null?null:We(re,Z,ce,Ne,null);Qh(re,ce)}return null}function Jt(re,Z,ce,Ne,Ze){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return re=re.get(ce)||null,Q(Z,re,""+Ne,Ze);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case l:return re=re.get(Ne.key===null?ce:Ne.key)||null,ue(Z,re,Ne,Ze);case c:return re=re.get(Ne.key===null?ce:Ne.key)||null,Te(Z,re,Ne,Ze);case S:var gt=Ne._init;return Jt(re,Z,ce,gt(Ne._payload),Ze)}if($(Ne)||E(Ne))return re=re.get(ce)||null,We(Z,re,Ne,Ze,null);Qh(Z,Ne)}return null}function $e(re,Z,ce,Ne){for(var Ze=null,gt=null,dt=Z,Ot=Z=0,Jn=null;dt!==null&&Ot<ce.length;Ot++){dt.index>Ot?(Jn=dt,dt=null):Jn=dt.sibling;var kt=rt(re,dt,ce[Ot],Ne);if(kt===null){dt===null&&(dt=Jn);break}u&&dt&&kt.alternate===null&&f(re,dt),Z=P(kt,Z,Ot),gt===null?Ze=kt:gt.sibling=kt,gt=kt,dt=Jn}if(Ot===ce.length)return v(re,dt),tn&&Ma(re,Ot),Ze;if(dt===null){for(;Ot<ce.length;Ot++)dt=ft(re,ce[Ot],Ne),dt!==null&&(Z=P(dt,Z,Ot),gt===null?Ze=dt:gt.sibling=dt,gt=dt);return tn&&Ma(re,Ot),Ze}for(dt=A(re,dt);Ot<ce.length;Ot++)Jn=Jt(dt,re,Ot,ce[Ot],Ne),Jn!==null&&(u&&Jn.alternate!==null&&dt.delete(Jn.key===null?Ot:Jn.key),Z=P(Jn,Z,Ot),gt===null?Ze=Jn:gt.sibling=Jn,gt=Jn);return u&&dt.forEach(function(So){return f(re,So)}),tn&&Ma(re,Ot),Ze}function ui(re,Z,ce,Ne){var Ze=E(ce);if(typeof Ze!="function")throw Error(o(150));if(ce=Ze.call(ce),ce==null)throw Error(o(151));for(var gt=Ze=null,dt=Z,Ot=Z=0,Jn=null,kt=ce.next();dt!==null&&!kt.done;Ot++,kt=ce.next()){dt.index>Ot?(Jn=dt,dt=null):Jn=dt.sibling;var So=rt(re,dt,kt.value,Ne);if(So===null){dt===null&&(dt=Jn);break}u&&dt&&So.alternate===null&&f(re,dt),Z=P(So,Z,Ot),gt===null?Ze=So:gt.sibling=So,gt=So,dt=Jn}if(kt.done)return v(re,dt),tn&&Ma(re,Ot),Ze;if(dt===null){for(;!kt.done;Ot++,kt=ce.next())kt=ft(re,kt.value,Ne),kt!==null&&(Z=P(kt,Z,Ot),gt===null?Ze=kt:gt.sibling=kt,gt=kt);return tn&&Ma(re,Ot),Ze}for(dt=A(re,dt);!kt.done;Ot++,kt=ce.next())kt=Jt(dt,re,Ot,kt.value,Ne),kt!==null&&(u&&kt.alternate!==null&&dt.delete(kt.key===null?Ot:kt.key),Z=P(kt,Z,Ot),gt===null?Ze=kt:gt.sibling=kt,gt=kt);return u&&dt.forEach(function(Xk){return f(re,Xk)}),tn&&Ma(re,Ot),Ze}function gr(re,Z,ce,Ne){if(typeof ce=="object"&&ce!==null&&ce.type===d&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case l:e:{for(var Ze=ce.key,gt=Z;gt!==null;){if(gt.key===Ze){if(Ze=ce.type,Ze===d){if(gt.tag===7){v(re,gt.sibling),Z=b(gt,ce.props.children),Z.return=re,re=Z;break e}}else if(gt.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===S&&cM(Ze)===gt.type){v(re,gt.sibling),Z=b(gt,ce.props),Z.ref=Ju(re,gt,ce),Z.return=re,re=Z;break e}v(re,gt);break}else f(re,gt);gt=gt.sibling}ce.type===d?(Z=Ba(ce.props.children,re.mode,Ne,ce.key),Z.return=re,re=Z):(Ne=Tp(ce.type,ce.key,ce.props,null,re.mode,Ne),Ne.ref=Ju(re,Z,ce),Ne.return=re,re=Ne)}return z(re);case c:e:{for(gt=ce.key;Z!==null;){if(Z.key===gt)if(Z.tag===4&&Z.stateNode.containerInfo===ce.containerInfo&&Z.stateNode.implementation===ce.implementation){v(re,Z.sibling),Z=b(Z,ce.children||[]),Z.return=re,re=Z;break e}else{v(re,Z);break}else f(re,Z);Z=Z.sibling}Z=gy(ce,re.mode,Ne),Z.return=re,re=Z}return z(re);case S:return gt=ce._init,gr(re,Z,gt(ce._payload),Ne)}if($(ce))return $e(re,Z,ce,Ne);if(E(ce))return ui(re,Z,ce,Ne);Qh(re,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,Z!==null&&Z.tag===6?(v(re,Z.sibling),Z=b(Z,ce),Z.return=re,re=Z):(v(re,Z),Z=my(ce,re.mode,Ne),Z.return=re,re=Z),z(re)):v(re,Z)}return gr}var Yl=uM(!0),fM=uM(!1),Xu={},dr=en(Xu),Ku=en(Xu),Ql=en(Xu);function cs(u){if(u===Xu)throw Error(o(174));return u}function Dv(u,f){Gt(Ql,f),Gt(Ku,u),Gt(dr,Xu),u=oe(f),Lt(dr),Gt(dr,u)}function ql(){Lt(dr),Lt(Ku),Lt(Ql)}function dM(u){var f=cs(Ql.current),v=cs(dr.current);f=k(v,u.type,f),v!==f&&(Gt(Ku,u),Gt(dr,f))}function Iv(u){Ku.current===u&&(Lt(dr),Lt(Ku))}var ln=en(0);function qh(u){for(var f=u;f!==null;){if(f.tag===13){var v=f.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||Dh(v)||N(v)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Ov=[];function kv(){for(var u=0;u<Ov.length;u++){var f=Ov[u];Ee?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}Ov.length=0}var Zh=a.ReactCurrentDispatcher,hr=a.ReactCurrentBatchConfig,Zl=0,_n=null,ai=null,jn=null,$h=!1,Yu=!1,Qu=0,yk=0;function li(){throw Error(o(321))}function Fv(u,f){if(f===null)return!1;for(var v=0;v<f.length&&v<u.length;v++)if(!os(u[v],f[v]))return!1;return!0}function Nv(u,f,v,A,b,P){if(Zl=P,_n=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Zh.current=u===null||u.memoizedState===null?Sk:Ak,u=v(A,b),Yu){P=0;do{if(Yu=!1,Qu=0,25<=P)throw Error(o(301));P+=1,jn=ai=null,f.updateQueue=null,Zh.current=Mk,u=v(A,b)}while(Yu)}if(Zh.current=rp,f=ai!==null&&ai.next!==null,Zl=0,jn=ai=_n=null,$h=!1,f)throw Error(o(300));return u}function zv(){var u=Qu!==0;return Qu=0,u}function Bs(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?_n.memoizedState=jn=u:jn=jn.next=u,jn}function us(){if(ai===null){var u=_n.alternate;u=u!==null?u.memoizedState:null}else u=ai.next;var f=jn===null?_n.memoizedState:jn.next;if(f!==null)jn=f,ai=u;else{if(u===null)throw Error(o(310));ai=u,u={memoizedState:ai.memoizedState,baseState:ai.baseState,baseQueue:ai.baseQueue,queue:ai.queue,next:null},jn===null?_n.memoizedState=jn=u:jn=jn.next=u}return jn}function ba(u,f){return typeof f=="function"?f(u):f}function ep(u){var f=us(),v=f.queue;if(v===null)throw Error(o(311));v.lastRenderedReducer=u;var A=ai,b=A.baseQueue,P=v.pending;if(P!==null){if(b!==null){var z=b.next;b.next=P.next,P.next=z}A.baseQueue=b=P,v.pending=null}if(b!==null){P=b.next,A=A.baseState;var Q=z=null,ue=null,Te=P;do{var We=Te.lane;if((Zl&We)===We)ue!==null&&(ue=ue.next={lane:0,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null}),A=Te.hasEagerState?Te.eagerState:u(A,Te.action);else{var ft={lane:We,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null};ue===null?(Q=ue=ft,z=A):ue=ue.next=ft,_n.lanes|=We,ec|=We}Te=Te.next}while(Te!==null&&Te!==P);ue===null?z=A:ue.next=Q,os(A,f.memoizedState)||(Yi=!0),f.memoizedState=A,f.baseState=z,f.baseQueue=ue,v.lastRenderedState=A}if(u=v.interleaved,u!==null){b=u;do P=b.lane,_n.lanes|=P,ec|=P,b=b.next;while(b!==u)}else b===null&&(v.lanes=0);return[f.memoizedState,v.dispatch]}function tp(u){var f=us(),v=f.queue;if(v===null)throw Error(o(311));v.lastRenderedReducer=u;var A=v.dispatch,b=v.pending,P=f.memoizedState;if(b!==null){v.pending=null;var z=b=b.next;do P=u(P,z.action),z=z.next;while(z!==b);os(P,f.memoizedState)||(Yi=!0),f.memoizedState=P,f.baseQueue===null&&(f.baseState=P),v.lastRenderedState=P}return[P,A]}function hM(){}function pM(u,f){var v=_n,A=us(),b=f(),P=!os(A.memoizedState,b);if(P&&(A.memoizedState=b,Yi=!0),A=A.queue,Zu(vM.bind(null,v,A,u),[u]),A.getSnapshot!==f||P||jn!==null&&jn.memoizedState.tag&1){if(v.flags|=2048,qu(9,gM.bind(null,v,A,b,f),void 0,null),Bn===null)throw Error(o(349));Zl&30||mM(v,f,b)}return b}function mM(u,f,v){u.flags|=16384,u={getSnapshot:f,value:v},f=_n.updateQueue,f===null?(f={lastEffect:null,stores:null},_n.updateQueue=f,f.stores=[u]):(v=f.stores,v===null?f.stores=[u]:v.push(u))}function gM(u,f,v,A){f.value=v,f.getSnapshot=A,yM(f)&&pr(u,1,-1)}function vM(u,f,v){return v(function(){yM(f)&&pr(u,1,-1)})}function yM(u){var f=u.getSnapshot;u=u.value;try{var v=f();return!os(u,v)}catch{return!0}}function Uv(u){var f=Bs();return typeof u=="function"&&(u=u()),f.memoizedState=f.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:u},f.queue=u,u=u.dispatch=wk.bind(null,_n,u),[f.memoizedState,u]}function qu(u,f,v,A){return u={tag:u,create:f,destroy:v,deps:A,next:null},f=_n.updateQueue,f===null?(f={lastEffect:null,stores:null},_n.updateQueue=f,f.lastEffect=u.next=u):(v=f.lastEffect,v===null?f.lastEffect=u.next=u:(A=v.next,v.next=u,u.next=A,f.lastEffect=u)),u}function xM(){return us().memoizedState}function np(u,f,v,A){var b=Bs();_n.flags|=u,b.memoizedState=qu(1|f,v,void 0,A===void 0?null:A)}function ip(u,f,v,A){var b=us();A=A===void 0?null:A;var P=void 0;if(ai!==null){var z=ai.memoizedState;if(P=z.destroy,A!==null&&Fv(A,z.deps)){b.memoizedState=qu(f,v,P,A);return}}_n.flags|=u,b.memoizedState=qu(1|f,v,P,A)}function Gv(u,f){return np(8390656,8,u,f)}function Zu(u,f){return ip(2048,8,u,f)}function _M(u,f){return ip(4,2,u,f)}function wM(u,f){return ip(4,4,u,f)}function SM(u,f){if(typeof f=="function")return u=u(),f(u),function(){f(null)};if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function AM(u,f,v){return v=v!=null?v.concat([u]):null,ip(4,4,SM.bind(null,f,u),v)}function Hv(){}function MM(u,f){var v=us();f=f===void 0?null:f;var A=v.memoizedState;return A!==null&&f!==null&&Fv(f,A[1])?A[0]:(v.memoizedState=[u,f],u)}function bM(u,f){var v=us();f=f===void 0?null:f;var A=v.memoizedState;return A!==null&&f!==null&&Fv(f,A[1])?A[0]:(u=u(),v.memoizedState=[u,f],u)}function xk(u,f){var v=It;It=v!==0&&4>v?v:4,u(!0);var A=hr.transition;hr.transition={};try{u(!1),f()}finally{It=v,hr.transition=A}}function CM(){return us().memoizedState}function _k(u,f,v){var A=xo(u);v={lane:A,action:v,hasEagerState:!1,eagerState:null,next:null},TM(u)?EM(f,v):(PM(u,f,v),v=Si(),u=pr(u,A,v),u!==null&&RM(u,f,A))}function wk(u,f,v){var A=xo(u),b={lane:A,action:v,hasEagerState:!1,eagerState:null,next:null};if(TM(u))EM(f,b);else{PM(u,f,b);var P=u.alternate;if(u.lanes===0&&(P===null||P.lanes===0)&&(P=f.lastRenderedReducer,P!==null))try{var z=f.lastRenderedState,Q=P(z,v);if(b.hasEagerState=!0,b.eagerState=Q,os(Q,z))return}catch{}finally{}v=Si(),u=pr(u,A,v),u!==null&&RM(u,f,A)}}function TM(u){var f=u.alternate;return u===_n||f!==null&&f===_n}function EM(u,f){Yu=$h=!0;var v=u.pending;v===null?f.next=f:(f.next=v.next,v.next=f),u.pending=f}function PM(u,f,v){Bn!==null&&u.mode&1&&!(xt&2)?(u=f.interleaved,u===null?(v.next=v,ls===null?ls=[f]:ls.push(f)):(v.next=u.next,u.next=v),f.interleaved=v):(u=f.pending,u===null?v.next=v:(v.next=u.next,u.next=v),f.pending=v)}function RM(u,f,v){if(v&4194240){var A=f.lanes;A&=u.pendingLanes,v|=A,f.lanes=v,gv(u,v)}}var rp={readContext:cr,useCallback:li,useContext:li,useEffect:li,useImperativeHandle:li,useInsertionEffect:li,useLayoutEffect:li,useMemo:li,useReducer:li,useRef:li,useState:li,useDebugValue:li,useDeferredValue:li,useTransition:li,useMutableSource:li,useSyncExternalStore:li,useId:li,unstable_isNewReconciler:!1},Sk={readContext:cr,useCallback:function(u,f){return Bs().memoizedState=[u,f===void 0?null:f],u},useContext:cr,useEffect:Gv,useImperativeHandle:function(u,f,v){return v=v!=null?v.concat([u]):null,np(4194308,4,SM.bind(null,f,u),v)},useLayoutEffect:function(u,f){return np(4194308,4,u,f)},useInsertionEffect:function(u,f){return np(4,2,u,f)},useMemo:function(u,f){var v=Bs();return f=f===void 0?null:f,u=u(),v.memoizedState=[u,f],u},useReducer:function(u,f,v){var A=Bs();return f=v!==void 0?v(f):f,A.memoizedState=A.baseState=f,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:f},A.queue=u,u=u.dispatch=_k.bind(null,_n,u),[A.memoizedState,u]},useRef:function(u){var f=Bs();return u={current:u},f.memoizedState=u},useState:Uv,useDebugValue:Hv,useDeferredValue:function(u){var f=Uv(u),v=f[0],A=f[1];return Gv(function(){var b=hr.transition;hr.transition={};try{A(u)}finally{hr.transition=b}},[u]),v},useTransition:function(){var u=Uv(!1),f=u[0];return u=xk.bind(null,u[1]),Bs().memoizedState=u,[f,u]},useMutableSource:function(){},useSyncExternalStore:function(u,f,v){var A=_n,b=Bs();if(tn){if(v===void 0)throw Error(o(407));v=v()}else{if(v=f(),Bn===null)throw Error(o(349));Zl&30||mM(A,f,v)}b.memoizedState=v;var P={value:v,getSnapshot:f};return b.queue=P,Gv(vM.bind(null,A,P,u),[u]),A.flags|=2048,qu(9,gM.bind(null,A,P,v,f),void 0,null),v},useId:function(){var u=Bs(),f=Bn.identifierPrefix;if(tn){var v=Rs,A=Ps;v=(A&~(1<<32-Ir(A)-1)).toString(32)+v,f=":"+f+"R"+v,v=Qu++,0<v&&(f+="H"+v.toString(32)),f+=":"}else v=yk++,f=":"+f+"r"+v.toString(32)+":";return u.memoizedState=f},unstable_isNewReconciler:!1},Ak={readContext:cr,useCallback:MM,useContext:cr,useEffect:Zu,useImperativeHandle:AM,useInsertionEffect:_M,useLayoutEffect:wM,useMemo:bM,useReducer:ep,useRef:xM,useState:function(){return ep(ba)},useDebugValue:Hv,useDeferredValue:function(u){var f=ep(ba),v=f[0],A=f[1];return Zu(function(){var b=hr.transition;hr.transition={};try{A(u)}finally{hr.transition=b}},[u]),v},useTransition:function(){var u=ep(ba)[0],f=us().memoizedState;return[u,f]},useMutableSource:hM,useSyncExternalStore:pM,useId:CM,unstable_isNewReconciler:!1},Mk={readContext:cr,useCallback:MM,useContext:cr,useEffect:Zu,useImperativeHandle:AM,useInsertionEffect:_M,useLayoutEffect:wM,useMemo:bM,useReducer:tp,useRef:xM,useState:function(){return tp(ba)},useDebugValue:Hv,useDeferredValue:function(u){var f=tp(ba),v=f[0],A=f[1];return Zu(function(){var b=hr.transition;hr.transition={};try{A(u)}finally{hr.transition=b}},[u]),v},useTransition:function(){var u=tp(ba)[0],f=us().memoizedState;return[u,f]},useMutableSource:hM,useSyncExternalStore:pM,useId:CM,unstable_isNewReconciler:!1};function Vv(u,f){try{var v="",A=f;do v+=vk(A),A=A.return;while(A);var b=v}catch(P){b=`
Error generating stack: `+P.message+`
`+P.stack}return{value:u,source:f,stack:b}}function Wv(u,f){try{console.error(f.value)}catch(v){setTimeout(function(){throw v})}}var bk=typeof WeakMap=="function"?WeakMap:Map;function BM(u,f,v){v=Es(-1,v),v.tag=3,v.payload={element:null};var A=f.value;return v.callback=function(){_p||(_p=!0,ly=A),Wv(u,f)},v}function LM(u,f,v){v=Es(-1,v),v.tag=3;var A=u.type.getDerivedStateFromError;if(typeof A=="function"){var b=f.value;v.payload=function(){return A(b)},v.callback=function(){Wv(u,f)}}var P=u.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(v.callback=function(){Wv(u,f),typeof A!="function"&&(vo===null?vo=new Set([this]):vo.add(this));var z=f.stack;this.componentDidCatch(f.value,{componentStack:z!==null?z:""})}),v}function DM(u,f,v){var A=u.pingCache;if(A===null){A=u.pingCache=new bk;var b=new Set;A.set(f,b)}else b=A.get(f),b===void 0&&(b=new Set,A.set(f,b));b.has(v)||(b.add(v),u=zk.bind(null,u,f,v),f.then(u,u))}function IM(u){do{var f;if((f=u.tag===13)&&(f=u.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return u;u=u.return}while(u!==null);return null}function OM(u,f,v,A,b){return u.mode&1?(u.flags|=65536,u.lanes=b,u):(u===f?u.flags|=65536:(u.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(f=Es(-1,1),f.tag=2,go(v,f))),v.lanes|=1),u)}function fs(u){u.flags|=4}function kM(u,f){if(u!==null&&u.child===f.child)return!0;if(f.flags&16)return!1;for(u=f.child;u!==null;){if(u.flags&12854||u.subtreeFlags&12854)return!1;u=u.sibling}return!0}var $u,ef,sp,op;if(_e)$u=function(u,f){for(var v=f.child;v!==null;){if(v.tag===5||v.tag===6)X(u,v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===f)break;for(;v.sibling===null;){if(v.return===null||v.return===f)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},ef=function(){},sp=function(u,f,v,A,b){if(u=u.memoizedProps,u!==A){var P=f.stateNode,z=cs(dr.current);v=ve(P,v,u,A,b,z),(f.updateQueue=v)&&fs(f)}},op=function(u,f,v,A){v!==A&&fs(f)};else if(de){$u=function(u,f,v,A){for(var b=f.child;b!==null;){if(b.tag===5){var P=b.stateNode;v&&A&&(P=Ut(P,b.type,b.memoizedProps,b)),X(u,P)}else if(b.tag===6)P=b.stateNode,v&&A&&(P=bn(P,b.memoizedProps,b)),X(u,P);else if(b.tag!==4){if(b.tag===22&&b.memoizedState!==null)P=b.child,P!==null&&(P.return=b),$u(u,b,!0,!0);else if(b.child!==null){b.child.return=b,b=b.child;continue}}if(b===f)break;for(;b.sibling===null;){if(b.return===null||b.return===f)return;b=b.return}b.sibling.return=b.return,b=b.sibling}};var FM=function(u,f,v,A){for(var b=f.child;b!==null;){if(b.tag===5){var P=b.stateNode;v&&A&&(P=Ut(P,b.type,b.memoizedProps,b)),zt(u,P)}else if(b.tag===6)P=b.stateNode,v&&A&&(P=bn(P,b.memoizedProps,b)),zt(u,P);else if(b.tag!==4){if(b.tag===22&&b.memoizedState!==null)P=b.child,P!==null&&(P.return=b),FM(u,b,!0,!0);else if(b.child!==null){b.child.return=b,b=b.child;continue}}if(b===f)break;for(;b.sibling===null;){if(b.return===null||b.return===f)return;b=b.return}b.sibling.return=b.return,b=b.sibling}};ef=function(u,f){var v=f.stateNode;if(!kM(u,f)){u=v.containerInfo;var A=Nt(u);FM(A,f,!1,!1),v.pendingChildren=A,fs(f),jt(u,A)}},sp=function(u,f,v,A,b){var P=u.stateNode,z=u.memoizedProps;if((u=kM(u,f))&&z===A)f.stateNode=P;else{var Q=f.stateNode,ue=cs(dr.current),Te=null;z!==A&&(Te=ve(Q,v,z,A,b,ue)),u&&Te===null?f.stateNode=P:(P=je(P,Te,v,z,A,f,u,Q),ie(P,v,A,b,ue)&&fs(f),f.stateNode=P,u?fs(f):$u(P,f,!1,!1))}},op=function(u,f,v,A){v!==A?(u=cs(Ql.current),v=cs(dr.current),f.stateNode=we(A,u,v,f),fs(f)):f.stateNode=u.stateNode}}else ef=function(){},sp=function(){},op=function(){};function tf(u,f){if(!tn)switch(u.tailMode){case"hidden":f=u.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?u.tail=null:v.sibling=null;break;case"collapsed":v=u.tail;for(var A=null;v!==null;)v.alternate!==null&&(A=v),v=v.sibling;A===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:A.sibling=null}}function ci(u){var f=u.alternate!==null&&u.alternate.child===u.child,v=0,A=0;if(f)for(var b=u.child;b!==null;)v|=b.lanes|b.childLanes,A|=b.subtreeFlags&14680064,A|=b.flags&14680064,b.return=u,b=b.sibling;else for(b=u.child;b!==null;)v|=b.lanes|b.childLanes,A|=b.subtreeFlags,A|=b.flags,b.return=u,b=b.sibling;return u.subtreeFlags|=A,u.childLanes=v,f}function Ck(u,f,v){var A=f.pendingProps;switch(Pv(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ci(f),null;case 1:return Ii(f.type)&&Oh(),ci(f),null;case 3:return A=f.stateNode,ql(),Lt(oi),Lt(Rn),kv(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(u===null||u.child===null)&&(ju(f)?fs(f):u===null||u.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,kr!==null&&(fy(kr),kr=null))),ef(u,f),ci(f),null;case 5:Iv(f),v=cs(Ql.current);var b=f.type;if(u!==null&&f.stateNode!=null)sp(u,f,b,A,v),u.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!A){if(f.stateNode===null)throw Error(o(166));return ci(f),null}if(u=cs(dr.current),ju(f)){if(!he)throw Error(o(175));u=ut(f.stateNode,f.type,f.memoizedProps,v,u,f,!Wu),f.updateQueue=u,u!==null&&fs(f)}else{var P=te(b,A,v,u,f);$u(P,f,!1,!1),f.stateNode=P,ie(P,b,A,v,u)&&fs(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return ci(f),null;case 6:if(u&&f.stateNode!=null)op(u,f,u.memoizedProps,A);else{if(typeof A!="string"&&f.stateNode===null)throw Error(o(166));if(u=cs(Ql.current),v=cs(dr.current),ju(f)){if(!he)throw Error(o(176));if(u=f.stateNode,A=f.memoizedProps,(v=mt(u,A,f,!Wu))&&(b=Xi,b!==null))switch(P=(b.mode&1)!==0,b.tag){case 3:Ms(b.stateNode.containerInfo,u,A,P);break;case 5:vn(b.type,b.memoizedProps,b.stateNode,u,A,P)}v&&fs(f)}else f.stateNode=we(A,u,v,f)}return ci(f),null;case 13:if(Lt(ln),A=f.memoizedState,tn&&Ki!==null&&f.mode&1&&!(f.flags&128)){for(u=Ki;u;)u=fe(u);return Kl(),f.flags|=98560,f}if(A!==null&&A.dehydrated!==null){if(A=ju(f),u===null){if(!A)throw Error(o(318));if(!he)throw Error(o(344));if(u=f.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));yt(u,f)}else Kl(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;return ci(f),null}return kr!==null&&(fy(kr),kr=null),f.flags&128?(f.lanes=v,f):(A=A!==null,v=!1,u===null?ju(f):v=u.memoizedState!==null,A&&!v&&(f.child.flags|=8192,f.mode&1&&(u===null||ln.current&1?zn===0&&(zn=3):hy())),f.updateQueue!==null&&(f.flags|=4),ci(f),null);case 4:return ql(),ef(u,f),u===null&&Ve(f.stateNode.containerInfo),ci(f),null;case 10:return Av(f.type._context),ci(f),null;case 17:return Ii(f.type)&&Oh(),ci(f),null;case 19:if(Lt(ln),b=f.memoizedState,b===null)return ci(f),null;if(A=(f.flags&128)!==0,P=b.rendering,P===null)if(A)tf(b,!1);else{if(zn!==0||u!==null&&u.flags&128)for(u=f.child;u!==null;){if(P=qh(u),P!==null){for(f.flags|=128,tf(b,!1),u=P.updateQueue,u!==null&&(f.updateQueue=u,f.flags|=4),f.subtreeFlags=0,u=v,A=f.child;A!==null;)v=A,b=u,v.flags&=14680066,P=v.alternate,P===null?(v.childLanes=0,v.lanes=b,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=P.childLanes,v.lanes=P.lanes,v.child=P.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=P.memoizedProps,v.memoizedState=P.memoizedState,v.updateQueue=P.updateQueue,v.type=P.type,b=P.dependencies,v.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),A=A.sibling;return Gt(ln,ln.current&1|2),f.child}u=u.sibling}b.tail!==null&&Wn()>ay&&(f.flags|=128,A=!0,tf(b,!1),f.lanes=4194304)}else{if(!A)if(u=qh(P),u!==null){if(f.flags|=128,A=!0,u=u.updateQueue,u!==null&&(f.updateQueue=u,f.flags|=4),tf(b,!0),b.tail===null&&b.tailMode==="hidden"&&!P.alternate&&!tn)return ci(f),null}else 2*Wn()-b.renderingStartTime>ay&&v!==1073741824&&(f.flags|=128,A=!0,tf(b,!1),f.lanes=4194304);b.isBackwards?(P.sibling=f.child,f.child=P):(u=b.last,u!==null?u.sibling=P:f.child=P,b.last=P)}return b.tail!==null?(f=b.tail,b.rendering=f,b.tail=f.sibling,b.renderingStartTime=Wn(),f.sibling=null,u=ln.current,Gt(ln,A?u&1|2:u&1),f):(ci(f),null);case 22:case 23:return dy(),A=f.memoizedState!==null,u!==null&&u.memoizedState!==null!==A&&(f.flags|=8192),A&&f.mode&1?Qi&1073741824&&(ci(f),_e&&f.subtreeFlags&6&&(f.flags|=8192)):ci(f),null;case 24:return null;case 25:return null}throw Error(o(156,f.tag))}var Tk=a.ReactCurrentOwner,Yi=!1;function wi(u,f,v,A){f.child=u===null?fM(f,null,v,A):Yl(f,u.child,v,A)}function NM(u,f,v,A,b){v=v.render;var P=f.ref;return jl(f,b),A=Nv(u,f,v,A,P,b),v=zv(),u!==null&&!Yi?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~b,Ls(u,f,b)):(tn&&v&&Ev(f),f.flags|=1,wi(u,f,A,b),f.child)}function zM(u,f,v,A,b){if(u===null){var P=v.type;return typeof P=="function"&&!py(P)&&P.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(f.tag=15,f.type=P,UM(u,f,P,A,b)):(u=Tp(v.type,null,A,f,f.mode,b),u.ref=f.ref,u.return=f,f.child=u)}if(P=u.child,!(u.lanes&b)){var z=P.memoizedProps;if(v=v.compare,v=v!==null?v:Hh,v(z,A)&&u.ref===f.ref)return Ls(u,f,b)}return f.flags|=1,u=wo(P,A),u.ref=f.ref,u.return=f,f.child=u}function UM(u,f,v,A,b){if(u!==null&&Hh(u.memoizedProps,A)&&u.ref===f.ref)if(Yi=!1,(u.lanes&b)!==0)u.flags&131072&&(Yi=!0);else return f.lanes=u.lanes,Ls(u,f,b);return jv(u,f,v,A,b)}function GM(u,f,v){var A=f.pendingProps,b=A.children,P=u!==null?u.memoizedState:null;if(A.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null},Gt($l,Qi),Qi|=v;else if(v&1073741824)f.memoizedState={baseLanes:0,cachePool:null},A=P!==null?P.baseLanes:v,Gt($l,Qi),Qi|=A;else return u=P!==null?P.baseLanes|v:v,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:u,cachePool:null},f.updateQueue=null,Gt($l,Qi),Qi|=u,null;else P!==null?(A=P.baseLanes|v,f.memoizedState=null):A=v,Gt($l,Qi),Qi|=A;return wi(u,f,b,v),f.child}function HM(u,f){var v=f.ref;(u===null&&v!==null||u!==null&&u.ref!==v)&&(f.flags|=512,f.flags|=2097152)}function jv(u,f,v,A,b){var P=Ii(v)?rs:Rn.current;return P=Vl(f,P),jl(f,b),v=Nv(u,f,v,A,P,b),A=zv(),u!==null&&!Yi?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~b,Ls(u,f,b)):(tn&&A&&Ev(f),f.flags|=1,wi(u,f,v,b),f.child)}function VM(u,f,v,A,b){if(Ii(v)){var P=!0;kh(f)}else P=!1;if(jl(f,b),f.stateNode===null)u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),iM(f,v,A),Tv(f,v,A,b),A=!0;else if(u===null){var z=f.stateNode,Q=f.memoizedProps;z.props=Q;var ue=z.context,Te=v.contextType;typeof Te=="object"&&Te!==null?Te=cr(Te):(Te=Ii(v)?rs:Rn.current,Te=Vl(f,Te));var We=v.getDerivedStateFromProps,ft=typeof We=="function"||typeof z.getSnapshotBeforeUpdate=="function";ft||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(Q!==A||ue!==Te)&&rM(f,z,A,Te),mo=!1;var rt=f.memoizedState;z.state=rt,Jh(f,A,z,b),ue=f.memoizedState,Q!==A||rt!==ue||oi.current||mo?(typeof We=="function"&&(Cv(f,v,We,A),ue=f.memoizedState),(Q=mo||nM(f,v,Q,A,rt,ue,Te))?(ft||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(f.flags|=4194308)):(typeof z.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=A,f.memoizedState=ue),z.props=A,z.state=ue,z.context=Te,A=Q):(typeof z.componentDidMount=="function"&&(f.flags|=4194308),A=!1)}else{z=f.stateNode,ZA(u,f),Q=f.memoizedProps,Te=f.type===f.elementType?Q:Or(f.type,Q),z.props=Te,ft=f.pendingProps,rt=z.context,ue=v.contextType,typeof ue=="object"&&ue!==null?ue=cr(ue):(ue=Ii(v)?rs:Rn.current,ue=Vl(f,ue));var Jt=v.getDerivedStateFromProps;(We=typeof Jt=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(Q!==ft||rt!==ue)&&rM(f,z,A,ue),mo=!1,rt=f.memoizedState,z.state=rt,Jh(f,A,z,b);var $e=f.memoizedState;Q!==ft||rt!==$e||oi.current||mo?(typeof Jt=="function"&&(Cv(f,v,Jt,A),$e=f.memoizedState),(Te=mo||nM(f,v,Te,A,rt,$e,ue)||!1)?(We||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(A,$e,ue),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(A,$e,ue)),typeof z.componentDidUpdate=="function"&&(f.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof z.componentDidUpdate!="function"||Q===u.memoizedProps&&rt===u.memoizedState||(f.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||Q===u.memoizedProps&&rt===u.memoizedState||(f.flags|=1024),f.memoizedProps=A,f.memoizedState=$e),z.props=A,z.state=$e,z.context=ue,A=Te):(typeof z.componentDidUpdate!="function"||Q===u.memoizedProps&&rt===u.memoizedState||(f.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||Q===u.memoizedProps&&rt===u.memoizedState||(f.flags|=1024),A=!1)}return Jv(u,f,v,A,P,b)}function Jv(u,f,v,A,b,P){HM(u,f);var z=(f.flags&128)!==0;if(!A&&!z)return b&&XA(f,v,!1),Ls(u,f,P);A=f.stateNode,Tk.current=f;var Q=z&&typeof v.getDerivedStateFromError!="function"?null:A.render();return f.flags|=1,u!==null&&z?(f.child=Yl(f,u.child,null,P),f.child=Yl(f,null,Q,P)):wi(u,f,Q,P),f.memoizedState=A.state,b&&XA(f,v,!0),f.child}function WM(u){var f=u.stateNode;f.pendingContext?jA(u,f.pendingContext,f.pendingContext!==f.context):f.context&&jA(u,f.context,!1),Dv(u,f.containerInfo)}function jM(u,f,v,A,b){return Kl(),Lv(b),f.flags|=256,wi(u,f,v,A),f.child}var ap={dehydrated:null,treeContext:null,retryLane:0};function lp(u){return{baseLanes:u,cachePool:null}}function JM(u,f,v){var A=f.pendingProps,b=ln.current,P=!1,z=(f.flags&128)!==0,Q;if((Q=z)||(Q=u!==null&&u.memoizedState===null?!1:(b&2)!==0),Q?(P=!0,f.flags&=-129):(u===null||u.memoizedState!==null)&&(b|=1),Gt(ln,b&1),u===null)return Bv(f),u=f.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?(f.mode&1?N(u)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(b=A.children,u=A.fallback,P?(A=f.mode,P=f.child,b={mode:"hidden",children:b},!(A&1)&&P!==null?(P.childLanes=0,P.pendingProps=b):P=Ep(b,A,0,null),u=Ba(u,A,v,null),P.return=f,u.return=f,P.sibling=u,f.child=P,f.child.memoizedState=lp(v),f.memoizedState=ap,u):Xv(f,b));if(b=u.memoizedState,b!==null){if(Q=b.dehydrated,Q!==null){if(z)return f.flags&256?(f.flags&=-257,cp(u,f,v,Error(o(422)))):f.memoizedState!==null?(f.child=u.child,f.flags|=128,null):(P=A.fallback,b=f.mode,A=Ep({mode:"visible",children:A.children},b,0,null),P=Ba(P,b,v,null),P.flags|=2,A.return=f,P.return=f,A.sibling=P,f.child=A,f.mode&1&&Yl(f,u.child,null,v),f.child.memoizedState=lp(v),f.memoizedState=ap,P);if(!(f.mode&1))f=cp(u,f,v,null);else if(N(Q))f=cp(u,f,v,Error(o(419)));else if(A=(v&u.childLanes)!==0,Yi||A){if(A=Bn,A!==null){switch(v&-v){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}A=P&(A.suspendedLanes|v)?0:P,A!==0&&A!==b.retryLane&&(b.retryLane=A,pr(u,A,-1))}hy(),f=cp(u,f,v,Error(o(421)))}else Dh(Q)?(f.flags|=128,f.child=u.child,f=Uk.bind(null,u),se(Q,f),f=null):(v=b.treeContext,he&&(Ki=it(Q),Xi=f,tn=!0,kr=null,Wu=!1,v!==null&&(ur[fr++]=Ps,ur[fr++]=Rs,ur[fr++]=Aa,Ps=v.id,Rs=v.overflow,Aa=f)),f=Xv(f,f.pendingProps.children),f.flags|=4096);return f}return P?(A=KM(u,f,A.children,A.fallback,v),P=f.child,b=u.child.memoizedState,P.memoizedState=b===null?lp(v):{baseLanes:b.baseLanes|v,cachePool:null},P.childLanes=u.childLanes&~v,f.memoizedState=ap,A):(v=XM(u,f,A.children,v),f.memoizedState=null,v)}return P?(A=KM(u,f,A.children,A.fallback,v),P=f.child,b=u.child.memoizedState,P.memoizedState=b===null?lp(v):{baseLanes:b.baseLanes|v,cachePool:null},P.childLanes=u.childLanes&~v,f.memoizedState=ap,A):(v=XM(u,f,A.children,v),f.memoizedState=null,v)}function Xv(u,f){return f=Ep({mode:"visible",children:f},u.mode,0,null),f.return=u,u.child=f}function XM(u,f,v,A){var b=u.child;return u=b.sibling,v=wo(b,{mode:"visible",children:v}),!(f.mode&1)&&(v.lanes=A),v.return=f,v.sibling=null,u!==null&&(A=f.deletions,A===null?(f.deletions=[u],f.flags|=16):A.push(u)),f.child=v}function KM(u,f,v,A,b){var P=f.mode;u=u.child;var z=u.sibling,Q={mode:"hidden",children:v};return!(P&1)&&f.child!==u?(v=f.child,v.childLanes=0,v.pendingProps=Q,f.deletions=null):(v=wo(u,Q),v.subtreeFlags=u.subtreeFlags&14680064),z!==null?A=wo(z,A):(A=Ba(A,P,b,null),A.flags|=2),A.return=f,v.return=f,v.sibling=A,f.child=v,A}function cp(u,f,v,A){return A!==null&&Lv(A),Yl(f,u.child,null,v),u=Xv(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function YM(u,f,v){u.lanes|=f;var A=u.alternate;A!==null&&(A.lanes|=f),Mv(u.return,f,v)}function Kv(u,f,v,A,b){var P=u.memoizedState;P===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:A,tail:v,tailMode:b}:(P.isBackwards=f,P.rendering=null,P.renderingStartTime=0,P.last=A,P.tail=v,P.tailMode=b)}function QM(u,f,v){var A=f.pendingProps,b=A.revealOrder,P=A.tail;if(wi(u,f,A.children,v),A=ln.current,A&2)A=A&1|2,f.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&YM(u,v,f);else if(u.tag===19)YM(u,v,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}A&=1}if(Gt(ln,A),!(f.mode&1))f.memoizedState=null;else switch(b){case"forwards":for(v=f.child,b=null;v!==null;)u=v.alternate,u!==null&&qh(u)===null&&(b=v),v=v.sibling;v=b,v===null?(b=f.child,f.child=null):(b=v.sibling,v.sibling=null),Kv(f,!1,b,v,P);break;case"backwards":for(v=null,b=f.child,f.child=null;b!==null;){if(u=b.alternate,u!==null&&qh(u)===null){f.child=b;break}u=b.sibling,b.sibling=v,v=b,b=u}Kv(f,!0,v,null,P);break;case"together":Kv(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Ls(u,f,v){if(u!==null&&(f.dependencies=u.dependencies),ec|=f.lanes,!(v&f.childLanes))return null;if(u!==null&&f.child!==u.child)throw Error(o(153));if(f.child!==null){for(u=f.child,v=wo(u,u.pendingProps),f.child=v,v.return=f;u.sibling!==null;)u=u.sibling,v=v.sibling=wo(u,u.pendingProps),v.return=f;v.sibling=null}return f.child}function Ek(u,f,v){switch(f.tag){case 3:WM(f),Kl();break;case 5:dM(f);break;case 1:Ii(f.type)&&kh(f);break;case 4:Dv(f,f.stateNode.containerInfo);break;case 10:qA(f,f.type._context,f.memoizedProps.value);break;case 13:var A=f.memoizedState;if(A!==null)return A.dehydrated!==null?(Gt(ln,ln.current&1),f.flags|=128,null):v&f.child.childLanes?JM(u,f,v):(Gt(ln,ln.current&1),u=Ls(u,f,v),u!==null?u.sibling:null);Gt(ln,ln.current&1);break;case 19:if(A=(v&f.childLanes)!==0,u.flags&128){if(A)return QM(u,f,v);f.flags|=128}var b=f.memoizedState;if(b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Gt(ln,ln.current),A)break;return null;case 22:case 23:return f.lanes=0,GM(u,f,v)}return Ls(u,f,v)}function Pk(u,f){switch(Pv(f),f.tag){case 1:return Ii(f.type)&&Oh(),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return ql(),Lt(oi),Lt(Rn),kv(),u=f.flags,u&65536&&!(u&128)?(f.flags=u&-65537|128,f):null;case 5:return Iv(f),null;case 13:if(Lt(ln),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(o(340));Kl()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return Lt(ln),null;case 4:return ql(),null;case 10:return Av(f.type._context),null;case 22:case 23:return dy(),null;case 24:return null;default:return null}}var up=!1,Ca=!1,Rk=typeof WeakSet=="function"?WeakSet:Set,ke=null;function fp(u,f){var v=u.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(A){Fi(u,f,A)}else v.current=null}function Yv(u,f,v){try{v()}catch(A){Fi(u,f,A)}}var qM=!1;function Bk(u,f){for(K(u.containerInfo),ke=f;ke!==null;)if(u=ke,f=u.child,(u.subtreeFlags&1028)!==0&&f!==null)f.return=u,ke=f;else for(;ke!==null;){u=ke;try{var v=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var A=v.memoizedProps,b=v.memoizedState,P=u.stateNode,z=P.getSnapshotBeforeUpdate(u.elementType===u.type?A:Or(u.type,A),b);P.__reactInternalSnapshotBeforeUpdate=z}break;case 3:_e&&Le(u.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Q){Fi(u,u.return,Q)}if(f=u.sibling,f!==null){f.return=u.return,ke=f;break}ke=u.return}return v=qM,qM=!1,v}function Ta(u,f,v){var A=f.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var b=A=A.next;do{if((b.tag&u)===u){var P=b.destroy;b.destroy=void 0,P!==void 0&&Yv(f,v,P)}b=b.next}while(b!==A)}}function nf(u,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var v=f=f.next;do{if((v.tag&u)===u){var A=v.create;v.destroy=A()}v=v.next}while(v!==f)}}function Qv(u){var f=u.ref;if(f!==null){var v=u.stateNode;switch(u.tag){case 5:u=ee(v);break;default:u=v}typeof f=="function"?f(u):f.current=u}}function ZM(u,f,v){if(ss&&typeof ss.onCommitFiberUnmount=="function")try{ss.onCommitFiberUnmount(Uh,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(u=f.updateQueue,u!==null&&(u=u.lastEffect,u!==null)){var A=u=u.next;do{var b=A,P=b.destroy;b=b.tag,P!==void 0&&(b&2||b&4)&&Yv(f,v,P),A=A.next}while(A!==u)}break;case 1:if(fp(f,v),u=f.stateNode,typeof u.componentWillUnmount=="function")try{u.props=f.memoizedProps,u.state=f.memoizedState,u.componentWillUnmount()}catch(z){Fi(f,v,z)}break;case 5:fp(f,v);break;case 4:_e?rb(u,f,v):de&&de&&(f=f.stateNode.containerInfo,v=Nt(f),Nn(f,v))}}function $M(u,f,v){for(var A=f;;)if(ZM(u,A,v),A.child===null||_e&&A.tag===4){if(A===f)break;for(;A.sibling===null;){if(A.return===null||A.return===f)return;A=A.return}A.sibling.return=A.return,A=A.sibling}else A.child.return=A,A=A.child}function eb(u){var f=u.alternate;f!==null&&(u.alternate=null,eb(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&Ye(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function tb(u){return u.tag===5||u.tag===3||u.tag===4}function nb(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||tb(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function ib(u){if(_e){e:{for(var f=u.return;f!==null;){if(tb(f))break e;f=f.return}throw Error(o(160))}var v=f;switch(v.tag){case 5:f=v.stateNode,v.flags&32&&(ye(f),v.flags&=-33),v=nb(u),Zv(u,v,f);break;case 3:case 4:f=v.stateNode.containerInfo,v=nb(u),qv(u,v,f);break;default:throw Error(o(161))}}}function qv(u,f,v){var A=u.tag;if(A===5||A===6)u=u.stateNode,f?nt(v,u,f):Ue(v,u);else if(A!==4&&(u=u.child,u!==null))for(qv(u,f,v),u=u.sibling;u!==null;)qv(u,f,v),u=u.sibling}function Zv(u,f,v){var A=u.tag;if(A===5||A===6)u=u.stateNode,f?ot(v,u,f):Qe(v,u);else if(A!==4&&(u=u.child,u!==null))for(Zv(u,f,v),u=u.sibling;u!==null;)Zv(u,f,v),u=u.sibling}function rb(u,f,v){for(var A=f,b=!1,P,z;;){if(!b){b=A.return;e:for(;;){if(b===null)throw Error(o(160));switch(P=b.stateNode,b.tag){case 5:z=!1;break e;case 3:P=P.containerInfo,z=!0;break e;case 4:P=P.containerInfo,z=!0;break e}b=b.return}b=!0}if(A.tag===5||A.tag===6)$M(u,A,v),z?Y(P,A.stateNode):qe(P,A.stateNode);else if(A.tag===18)z?_i(P,A.stateNode):gn(P,A.stateNode);else if(A.tag===4){if(A.child!==null){P=A.stateNode.containerInfo,z=!0,A.child.return=A,A=A.child;continue}}else if(ZM(u,A,v),A.child!==null){A.child.return=A,A=A.child;continue}if(A===f)break;for(;A.sibling===null;){if(A.return===null||A.return===f)return;A=A.return,A.tag===4&&(b=!1)}A.sibling.return=A.return,A=A.sibling}}function $v(u,f){if(_e){switch(f.tag){case 0:case 11:case 14:case 15:Ta(3,f,f.return),nf(3,f),Ta(5,f,f.return);return;case 1:return;case 5:var v=f.stateNode;if(v!=null){var A=f.memoizedProps;u=u!==null?u.memoizedProps:A;var b=f.type,P=f.updateQueue;f.updateQueue=null,P!==null&&Je(v,P,b,u,A,f)}return;case 6:if(f.stateNode===null)throw Error(o(162));v=f.memoizedProps,ge(f.stateNode,u!==null?u.memoizedProps:v,v);return;case 3:he&&u!==null&&u.memoizedState.isDehydrated&&St(f.stateNode.containerInfo);return;case 12:return;case 13:dp(f);return;case 19:dp(f);return;case 17:return}throw Error(o(163))}switch(f.tag){case 0:case 11:case 14:case 15:Ta(3,f,f.return),nf(3,f),Ta(5,f,f.return);return;case 12:return;case 13:dp(f);return;case 19:dp(f);return;case 3:he&&u!==null&&u.memoizedState.isDehydrated&&St(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(de){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,Nn(f.containerInfo,f.pendingChildren);break e}throw Error(o(163))}}function dp(u){var f=u.updateQueue;if(f!==null){u.updateQueue=null;var v=u.stateNode;v===null&&(v=u.stateNode=new Rk),f.forEach(function(A){var b=Gk.bind(null,u,A);v.has(A)||(v.add(A),A.then(b,b))})}}function Lk(u,f){for(ke=f;ke!==null;){f=ke;var v=f.deletions;if(v!==null)for(var A=0;A<v.length;A++){var b=v[A];try{var P=u;_e?rb(P,b,f):$M(P,b,f);var z=b.alternate;z!==null&&(z.return=null),b.return=null}catch(Ze){Fi(b,f,Ze)}}if(v=f.child,f.subtreeFlags&12854&&v!==null)v.return=f,ke=v;else for(;ke!==null;){f=ke;try{var Q=f.flags;if(Q&32&&_e&&ye(f.stateNode),Q&512){var ue=f.alternate;if(ue!==null){var Te=ue.ref;Te!==null&&(typeof Te=="function"?Te(null):Te.current=null)}}if(Q&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var We=f.alternate;(We===null||We.memoizedState===null)&&(oy=Wn())}break;case 22:var ft=f.memoizedState!==null,rt=f.alternate,Jt=rt!==null&&rt.memoizedState!==null;if(v=f,_e){e:if(A=v,b=ft,P=null,_e)for(var $e=A;;){if($e.tag===5){if(P===null){P=$e;var ui=$e.stateNode;b?Ge(ui):le($e.stateNode,$e.memoizedProps)}}else if($e.tag===6){if(P===null){var gr=$e.stateNode;b?j(gr):xe(gr,$e.memoizedProps)}}else if(($e.tag!==22&&$e.tag!==23||$e.memoizedState===null||$e===A)&&$e.child!==null){$e.child.return=$e,$e=$e.child;continue}if($e===A)break;for(;$e.sibling===null;){if($e.return===null||$e.return===A)break e;P===$e&&(P=null),$e=$e.return}P===$e&&(P=null),$e.sibling.return=$e.return,$e=$e.sibling}}if(ft&&!Jt&&v.mode&1){ke=v;for(var re=v.child;re!==null;){for(v=ke=re;ke!==null;){A=ke;var Z=A.child;switch(A.tag){case 0:case 11:case 14:case 15:Ta(4,A,A.return);break;case 1:fp(A,A.return);var ce=A.stateNode;if(typeof ce.componentWillUnmount=="function"){var Ne=A.return;try{ce.props=A.memoizedProps,ce.state=A.memoizedState,ce.componentWillUnmount()}catch(Ze){Fi(A,Ne,Ze)}}break;case 5:fp(A,A.return);break;case 22:if(A.memoizedState!==null){ab(v);continue}}Z!==null?(Z.return=A,ke=Z):ab(v)}re=re.sibling}}}switch(Q&4102){case 2:ib(f),f.flags&=-3;break;case 6:ib(f),f.flags&=-3,$v(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,$v(f.alternate,f);break;case 4:$v(f.alternate,f)}}catch(Ze){Fi(f,f.return,Ze)}if(v=f.sibling,v!==null){v.return=f.return,ke=v;break}ke=f.return}}}function Dk(u,f,v){ke=u,sb(u)}function sb(u,f,v){for(var A=(u.mode&1)!==0;ke!==null;){var b=ke,P=b.child;if(b.tag===22&&A){var z=b.memoizedState!==null||up;if(!z){var Q=b.alternate,ue=Q!==null&&Q.memoizedState!==null||Ca;Q=up;var Te=Ca;if(up=z,(Ca=ue)&&!Te)for(ke=b;ke!==null;)z=ke,ue=z.child,z.tag===22&&z.memoizedState!==null?lb(b):ue!==null?(ue.return=z,ke=ue):lb(b);for(;P!==null;)ke=P,sb(P),P=P.sibling;ke=b,up=Q,Ca=Te}ob(u)}else b.subtreeFlags&8772&&P!==null?(P.return=b,ke=P):ob(u)}}function ob(u){for(;ke!==null;){var f=ke;if(f.flags&8772){var v=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:Ca||nf(5,f);break;case 1:var A=f.stateNode;if(f.flags&4&&!Ca)if(v===null)A.componentDidMount();else{var b=f.elementType===f.type?v.memoizedProps:Or(f.type,v.memoizedProps);A.componentDidUpdate(b,v.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var P=f.updateQueue;P!==null&&eM(f,P,A);break;case 3:var z=f.updateQueue;if(z!==null){if(v=null,f.child!==null)switch(f.child.tag){case 5:v=ee(f.child.stateNode);break;case 1:v=f.child.stateNode}eM(f,z,v)}break;case 5:var Q=f.stateNode;v===null&&f.flags&4&&tt(Q,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(he&&f.memoizedState===null){var ue=f.alternate;if(ue!==null){var Te=ue.memoizedState;if(Te!==null){var We=Te.dehydrated;We!==null&&Tt(We)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Ca||f.flags&512&&Qv(f)}catch(ft){Fi(f,f.return,ft)}}if(f===u){ke=null;break}if(v=f.sibling,v!==null){v.return=f.return,ke=v;break}ke=f.return}}function ab(u){for(;ke!==null;){var f=ke;if(f===u){ke=null;break}var v=f.sibling;if(v!==null){v.return=f.return,ke=v;break}ke=f.return}}function lb(u){for(;ke!==null;){var f=ke;try{switch(f.tag){case 0:case 11:case 15:var v=f.return;try{nf(4,f)}catch(ue){Fi(f,v,ue)}break;case 1:var A=f.stateNode;if(typeof A.componentDidMount=="function"){var b=f.return;try{A.componentDidMount()}catch(ue){Fi(f,b,ue)}}var P=f.return;try{Qv(f)}catch(ue){Fi(f,P,ue)}break;case 5:var z=f.return;try{Qv(f)}catch(ue){Fi(f,z,ue)}}}catch(ue){Fi(f,f.return,ue)}if(f===u){ke=null;break}var Q=f.sibling;if(Q!==null){Q.return=f.return,ke=Q;break}ke=f.return}}var hp=0,pp=1,mp=2,gp=3,vp=4;if(typeof Symbol=="function"&&Symbol.for){var rf=Symbol.for;hp=rf("selector.component"),pp=rf("selector.has_pseudo_class"),mp=rf("selector.role"),gp=rf("selector.test_id"),vp=rf("selector.text")}function ey(u){var f=Me(u);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(o(364));return f}if(u=Et(u),u===null)throw Error(o(362));return u.stateNode.current}function ty(u,f){switch(f.$$typeof){case hp:if(u.type===f.value)return!0;break;case pp:e:{f=f.value,u=[u,0];for(var v=0;v<u.length;){var A=u[v++],b=u[v++],P=f[b];if(A.tag!==5||!ae(A)){for(;P!=null&&ty(A,P);)b++,P=f[b];if(b===f.length){f=!0;break e}else for(A=A.child;A!==null;)u.push(A,b),A=A.sibling}}f=!1}return f;case mp:if(u.tag===5&&be(u.stateNode,f.value))return!0;break;case vp:if((u.tag===5||u.tag===6)&&(u=D(u),u!==null&&0<=u.indexOf(f.value)))return!0;break;case gp:if(u.tag===5&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function ny(u){switch(u.$$typeof){case hp:return"<"+(B(u.value)||"Unknown")+">";case pp:return":has("+(ny(u)||"")+")";case mp:return'[role="'+u.value+'"]';case vp:return'"'+u.value+'"';case gp:return'[data-testname="'+u.value+'"]';default:throw Error(o(365))}}function cb(u,f){var v=[];u=[u,0];for(var A=0;A<u.length;){var b=u[A++],P=u[A++],z=f[P];if(b.tag!==5||!ae(b)){for(;z!=null&&ty(b,z);)P++,z=f[P];if(P===f.length)v.push(b);else for(b=b.child;b!==null;)u.push(b,P),b=b.sibling}}return v}function iy(u,f){if(!wt)throw Error(o(363));u=ey(u),u=cb(u,f),f=[],u=Array.from(u);for(var v=0;v<u.length;){var A=u[v++];if(A.tag===5)ae(A)||f.push(A.stateNode);else for(A=A.child;A!==null;)u.push(A),A=A.sibling}return f}var Ik=Math.ceil,yp=a.ReactCurrentDispatcher,ry=a.ReactCurrentOwner,Cn=a.ReactCurrentBatchConfig,xt=0,Bn=null,Ln=null,$n=0,Qi=0,$l=en(0),zn=0,sf=null,ec=0,xp=0,sy=0,of=null,Oi=null,oy=0,ay=1/0;function tc(){ay=Wn()+500}var _p=!1,ly=null,vo=null,wp=!1,yo=null,Sp=0,af=0,cy=null,Ap=-1,Mp=0;function Si(){return xt&6?Wn():Ap!==-1?Ap:Ap=Wn()}function xo(u){return u.mode&1?xt&2&&$n!==0?$n&-$n:gk.transition!==null?(Mp===0&&(u=Fh,Fh<<=1,!(Fh&4194240)&&(Fh=64),Mp=u),Mp):(u=It,u!==0?u:Re()):1}function pr(u,f,v){if(50<af)throw af=0,cy=null,Error(o(185));var A=bp(u,f);return A===null?null:(Vu(A,f,v),(!(xt&2)||A!==Bn)&&(A===Bn&&(!(xt&2)&&(xp|=f),zn===4&&_o(A,$n)),ki(A,v),f===1&&xt===0&&!(u.mode&1)&&(tc(),Gh&&as())),A)}function bp(u,f){u.lanes|=f;var v=u.alternate;for(v!==null&&(v.lanes|=f),v=u,u=u.return;u!==null;)u.childLanes|=f,v=u.alternate,v!==null&&(v.childLanes|=f),v=u,u=u.return;return v.tag===3?v.stateNode:null}function ki(u,f){var v=u.callbackNode;ak(u,f);var A=zh(u,u===Bn?$n:0);if(A===0)v!==null&&YA(v),u.callbackNode=null,u.callbackPriority=0;else if(f=A&-A,u.callbackPriority!==f){if(v!=null&&YA(v),f===1)u.tag===0?mk(fb.bind(null,u)):QA(fb.bind(null,u)),Ke?et(function(){xt===0&&as()}):vv(yv,as),v=null;else{switch(KA(A)){case 1:v=yv;break;case 4:v=fk;break;case 16:v=xv;break;case 536870912:v=dk;break;default:v=xv}v=_b(v,ub.bind(null,u))}u.callbackPriority=f,u.callbackNode=v}}function ub(u,f){if(Ap=-1,Mp=0,xt&6)throw Error(o(327));var v=u.callbackNode;if(Ra()&&u.callbackNode!==v)return null;var A=zh(u,u===Bn?$n:0);if(A===0)return null;if(A&30||A&u.expiredLanes||f)f=Cp(u,A);else{f=A;var b=xt;xt|=2;var P=pb();(Bn!==u||$n!==f)&&(tc(),Ea(u,f));do try{Fk();break}catch(Q){hb(u,Q)}while(1);Sv(),yp.current=P,xt=b,Ln!==null?f=0:(Bn=null,$n=0,f=zn)}if(f!==0){if(f===2&&(b=pv(u),b!==0&&(A=b,f=uy(u,b))),f===1)throw v=sf,Ea(u,0),_o(u,A),ki(u,Wn()),v;if(f===6)_o(u,A);else{if(b=u.current.alternate,!(A&30)&&!Ok(b)&&(f=Cp(u,A),f===2&&(P=pv(u),P!==0&&(A=P,f=uy(u,P))),f===1))throw v=sf,Ea(u,0),_o(u,A),ki(u,Wn()),v;switch(u.finishedWork=b,u.finishedLanes=A,f){case 0:case 1:throw Error(o(345));case 2:Pa(u,Oi);break;case 3:if(_o(u,A),(A&130023424)===A&&(f=oy+500-Wn(),10<f)){if(zh(u,0)!==0)break;if(b=u.suspendedLanes,(b&A)!==A){Si(),u.pingedLanes|=u.suspendedLanes&b;break}u.timeoutHandle=Ae(Pa.bind(null,u,Oi),f);break}Pa(u,Oi);break;case 4:if(_o(u,A),(A&4194240)===A)break;for(f=u.eventTimes,b=-1;0<A;){var z=31-Ir(A);P=1<<z,z=f[z],z>b&&(b=z),A&=~P}if(A=b,A=Wn()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*Ik(A/1960))-A,10<A){u.timeoutHandle=Ae(Pa.bind(null,u,Oi),A);break}Pa(u,Oi);break;case 5:Pa(u,Oi);break;default:throw Error(o(329))}}}return ki(u,Wn()),u.callbackNode===v?ub.bind(null,u):null}function uy(u,f){var v=of;return u.current.memoizedState.isDehydrated&&(Ea(u,f).flags|=256),u=Cp(u,f),u!==2&&(f=Oi,Oi=v,f!==null&&fy(f)),u}function fy(u){Oi===null?Oi=u:Oi.push.apply(Oi,u)}function Ok(u){for(var f=u;;){if(f.flags&16384){var v=f.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var A=0;A<v.length;A++){var b=v[A],P=b.getSnapshot;b=b.value;try{if(!os(P(),b))return!1}catch{return!1}}}if(v=f.child,f.subtreeFlags&16384&&v!==null)v.return=f,f=v;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function _o(u,f){for(f&=~sy,f&=~xp,u.suspendedLanes|=f,u.pingedLanes&=~f,u=u.expirationTimes;0<f;){var v=31-Ir(f),A=1<<v;u[v]=-1,f&=~A}}function fb(u){if(xt&6)throw Error(o(327));Ra();var f=zh(u,0);if(!(f&1))return ki(u,Wn()),null;var v=Cp(u,f);if(u.tag!==0&&v===2){var A=pv(u);A!==0&&(f=A,v=uy(u,A))}if(v===1)throw v=sf,Ea(u,0),_o(u,f),ki(u,Wn()),v;if(v===6)throw Error(o(345));return u.finishedWork=u.current.alternate,u.finishedLanes=f,Pa(u,Oi),ki(u,Wn()),null}function db(u){yo!==null&&yo.tag===0&&!(xt&6)&&Ra();var f=xt;xt|=1;var v=Cn.transition,A=It;try{if(Cn.transition=null,It=1,u)return u()}finally{It=A,Cn.transition=v,xt=f,!(xt&6)&&as()}}function dy(){Qi=$l.current,Lt($l)}function Ea(u,f){u.finishedWork=null,u.finishedLanes=0;var v=u.timeoutHandle;if(v!==Fe&&(u.timeoutHandle=Fe,De(v)),Ln!==null)for(v=Ln.return;v!==null;){var A=v;switch(Pv(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&Oh();break;case 3:ql(),Lt(oi),Lt(Rn),kv();break;case 5:Iv(A);break;case 4:ql();break;case 13:Lt(ln);break;case 19:Lt(ln);break;case 10:Av(A.type._context);break;case 22:case 23:dy()}v=v.return}if(Bn=u,Ln=u=wo(u.current,null),$n=Qi=f,zn=0,sf=null,sy=xp=ec=0,Oi=of=null,ls!==null){for(f=0;f<ls.length;f++)if(v=ls[f],A=v.interleaved,A!==null){v.interleaved=null;var b=A.next,P=v.pending;if(P!==null){var z=P.next;P.next=b,A.next=z}v.pending=A}ls=null}return u}function hb(u,f){do{var v=Ln;try{if(Sv(),Zh.current=rp,$h){for(var A=_n.memoizedState;A!==null;){var b=A.queue;b!==null&&(b.pending=null),A=A.next}$h=!1}if(Zl=0,jn=ai=_n=null,Yu=!1,Qu=0,ry.current=null,v===null||v.return===null){zn=1,sf=f,Ln=null;break}e:{var P=u,z=v.return,Q=v,ue=f;if(f=$n,Q.flags|=32768,ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var Te=ue,We=Q,ft=We.tag;if(!(We.mode&1)&&(ft===0||ft===11||ft===15)){var rt=We.alternate;rt?(We.updateQueue=rt.updateQueue,We.memoizedState=rt.memoizedState,We.lanes=rt.lanes):(We.updateQueue=null,We.memoizedState=null)}var Jt=IM(z);if(Jt!==null){Jt.flags&=-257,OM(Jt,z,Q,P,f),Jt.mode&1&&DM(P,Te,f),f=Jt,ue=Te;var $e=f.updateQueue;if($e===null){var ui=new Set;ui.add(ue),f.updateQueue=ui}else $e.add(ue);break e}else{if(!(f&1)){DM(P,Te,f),hy();break e}ue=Error(o(426))}}else if(tn&&Q.mode&1){var gr=IM(z);if(gr!==null){!(gr.flags&65536)&&(gr.flags|=256),OM(gr,z,Q,P,f),Lv(ue);break e}}P=ue,zn!==4&&(zn=2),of===null?of=[P]:of.push(P),ue=Vv(ue,Q),Q=z;do{switch(Q.tag){case 3:Q.flags|=65536,f&=-f,Q.lanes|=f;var re=BM(Q,ue,f);$A(Q,re);break e;case 1:P=ue;var Z=Q.type,ce=Q.stateNode;if(!(Q.flags&128)&&(typeof Z.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(vo===null||!vo.has(ce)))){Q.flags|=65536,f&=-f,Q.lanes|=f;var Ne=LM(Q,P,f);$A(Q,Ne);break e}}Q=Q.return}while(Q!==null)}gb(v)}catch(Ze){f=Ze,Ln===v&&v!==null&&(Ln=v=v.return);continue}break}while(1)}function pb(){var u=yp.current;return yp.current=rp,u===null?rp:u}function hy(){(zn===0||zn===3||zn===2)&&(zn=4),Bn===null||!(ec&268435455)&&!(xp&268435455)||_o(Bn,$n)}function Cp(u,f){var v=xt;xt|=2;var A=pb();Bn===u&&$n===f||Ea(u,f);do try{kk();break}catch(b){hb(u,b)}while(1);if(Sv(),xt=v,yp.current=A,Ln!==null)throw Error(o(261));return Bn=null,$n=0,zn}function kk(){for(;Ln!==null;)mb(Ln)}function Fk(){for(;Ln!==null&&!ck();)mb(Ln)}function mb(u){var f=xb(u.alternate,u,Qi);u.memoizedProps=u.pendingProps,f===null?gb(u):Ln=f,ry.current=null}function gb(u){var f=u;do{var v=f.alternate;if(u=f.return,f.flags&32768){if(v=Pk(v,f),v!==null){v.flags&=32767,Ln=v;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{zn=6,Ln=null;return}}else if(v=Ck(v,f,Qi),v!==null){Ln=v;return}if(f=f.sibling,f!==null){Ln=f;return}Ln=f=u}while(f!==null);zn===0&&(zn=5)}function Pa(u,f){var v=It,A=Cn.transition;try{Cn.transition=null,It=1,Nk(u,f,v)}finally{Cn.transition=A,It=v}return null}function Nk(u,f,v){do Ra();while(yo!==null);if(xt&6)throw Error(o(327));var A=u.finishedWork,b=u.finishedLanes;if(A===null)return null;if(u.finishedWork=null,u.finishedLanes=0,A===u.current)throw Error(o(177));u.callbackNode=null,u.callbackPriority=0;var P=A.lanes|A.childLanes;if(lk(u,P),u===Bn&&(Ln=Bn=null,$n=0),!(A.subtreeFlags&2064)&&!(A.flags&2064)||wp||(wp=!0,_b(xv,function(){return Ra(),null})),P=(A.flags&15990)!==0,A.subtreeFlags&15990||P){P=Cn.transition,Cn.transition=null;var z=It;It=1;var Q=xt;xt|=4,ry.current=null,Bk(u,A),Lk(u,A),J(u.containerInfo),u.current=A,Dk(A),uk(),xt=Q,It=z,Cn.transition=P}else u.current=A;if(wp&&(wp=!1,yo=u,Sp=b),P=u.pendingLanes,P===0&&(vo=null),hk(A.stateNode),ki(u,Wn()),f!==null)for(v=u.onRecoverableError,A=0;A<f.length;A++)v(f[A]);if(_p)throw _p=!1,u=ly,ly=null,u;return Sp&1&&u.tag!==0&&Ra(),P=u.pendingLanes,P&1?u===cy?af++:(af=0,cy=u):af=0,as(),null}function Ra(){if(yo!==null){var u=KA(Sp),f=Cn.transition,v=It;try{if(Cn.transition=null,It=16>u?16:u,yo===null)var A=!1;else{if(u=yo,yo=null,Sp=0,xt&6)throw Error(o(331));var b=xt;for(xt|=4,ke=u.current;ke!==null;){var P=ke,z=P.child;if(ke.flags&16){var Q=P.deletions;if(Q!==null){for(var ue=0;ue<Q.length;ue++){var Te=Q[ue];for(ke=Te;ke!==null;){var We=ke;switch(We.tag){case 0:case 11:case 15:Ta(8,We,P)}var ft=We.child;if(ft!==null)ft.return=We,ke=ft;else for(;ke!==null;){We=ke;var rt=We.sibling,Jt=We.return;if(eb(We),We===Te){ke=null;break}if(rt!==null){rt.return=Jt,ke=rt;break}ke=Jt}}}var $e=P.alternate;if($e!==null){var ui=$e.child;if(ui!==null){$e.child=null;do{var gr=ui.sibling;ui.sibling=null,ui=gr}while(ui!==null)}}ke=P}}if(P.subtreeFlags&2064&&z!==null)z.return=P,ke=z;else e:for(;ke!==null;){if(P=ke,P.flags&2048)switch(P.tag){case 0:case 11:case 15:Ta(9,P,P.return)}var re=P.sibling;if(re!==null){re.return=P.return,ke=re;break e}ke=P.return}}var Z=u.current;for(ke=Z;ke!==null;){z=ke;var ce=z.child;if(z.subtreeFlags&2064&&ce!==null)ce.return=z,ke=ce;else e:for(z=Z;ke!==null;){if(Q=ke,Q.flags&2048)try{switch(Q.tag){case 0:case 11:case 15:nf(9,Q)}}catch(Ze){Fi(Q,Q.return,Ze)}if(Q===z){ke=null;break e}var Ne=Q.sibling;if(Ne!==null){Ne.return=Q.return,ke=Ne;break e}ke=Q.return}}if(xt=b,as(),ss&&typeof ss.onPostCommitFiberRoot=="function")try{ss.onPostCommitFiberRoot(Uh,u)}catch{}A=!0}return A}finally{It=v,Cn.transition=f}}return!1}function vb(u,f,v){f=Vv(v,f),f=BM(u,f,1),go(u,f),f=Si(),u=bp(u,1),u!==null&&(Vu(u,1,f),ki(u,f))}function Fi(u,f,v){if(u.tag===3)vb(u,u,v);else for(;f!==null;){if(f.tag===3){vb(f,u,v);break}else if(f.tag===1){var A=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(vo===null||!vo.has(A))){u=Vv(v,u),u=LM(f,u,1),go(f,u),u=Si(),f=bp(f,1),f!==null&&(Vu(f,1,u),ki(f,u));break}}f=f.return}}function zk(u,f,v){var A=u.pingCache;A!==null&&A.delete(f),f=Si(),u.pingedLanes|=u.suspendedLanes&v,Bn===u&&($n&v)===v&&(zn===4||zn===3&&($n&130023424)===$n&&500>Wn()-oy?Ea(u,0):sy|=v),ki(u,f)}function yb(u,f){f===0&&(u.mode&1?(f=Nh,Nh<<=1,!(Nh&130023424)&&(Nh=4194304)):f=1);var v=Si();u=bp(u,f),u!==null&&(Vu(u,f,v),ki(u,v))}function Uk(u){var f=u.memoizedState,v=0;f!==null&&(v=f.retryLane),yb(u,v)}function Gk(u,f){var v=0;switch(u.tag){case 13:var A=u.stateNode,b=u.memoizedState;b!==null&&(v=b.retryLane);break;case 19:A=u.stateNode;break;default:throw Error(o(314))}A!==null&&A.delete(f),yb(u,v)}var xb;xb=function(u,f,v){if(u!==null)if(u.memoizedProps!==f.pendingProps||oi.current)Yi=!0;else{if(!(u.lanes&v)&&!(f.flags&128))return Yi=!1,Ek(u,f,v);Yi=!!(u.flags&131072)}else Yi=!1,tn&&f.flags&1048576&&sM(f,Yh,f.index);switch(f.lanes=0,f.tag){case 2:var A=f.type;u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),u=f.pendingProps;var b=Vl(f,Rn.current);jl(f,v),b=Nv(null,f,A,u,b,v);var P=zv();return f.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,Ii(A)?(P=!0,kh(f)):P=!1,f.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,bv(f),b.updater=Xh,f.stateNode=b,b._reactInternals=f,Tv(f,A,u,v),f=Jv(null,f,A,!0,P,v)):(f.tag=0,tn&&P&&Ev(f),wi(null,f,b,v),f=f.child),f;case 16:A=f.elementType;e:{switch(u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),u=f.pendingProps,b=A._init,A=b(A._payload),f.type=A,b=f.tag=Vk(A),u=Or(A,u),b){case 0:f=jv(null,f,A,u,v);break e;case 1:f=VM(null,f,A,u,v);break e;case 11:f=NM(null,f,A,u,v);break e;case 14:f=zM(null,f,A,Or(A.type,u),v);break e}throw Error(o(306,A,""))}return f;case 0:return A=f.type,b=f.pendingProps,b=f.elementType===A?b:Or(A,b),jv(u,f,A,b,v);case 1:return A=f.type,b=f.pendingProps,b=f.elementType===A?b:Or(A,b),VM(u,f,A,b,v);case 3:e:{if(WM(f),u===null)throw Error(o(387));A=f.pendingProps,P=f.memoizedState,b=P.element,ZA(u,f),Jh(f,A,null,v);var z=f.memoizedState;if(A=z.element,he&&P.isDehydrated)if(P={element:A,isDehydrated:!1,cache:z.cache,transitions:z.transitions},f.updateQueue.baseState=P,f.memoizedState=P,f.flags&256){b=Error(o(423)),f=jM(u,f,A,v,b);break e}else if(A!==b){b=Error(o(424)),f=jM(u,f,A,v,b);break e}else for(he&&(Ki=me(f.stateNode.containerInfo),Xi=f,tn=!0,kr=null,Wu=!1),v=fM(f,null,A,v),f.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Kl(),A===b){f=Ls(u,f,v);break e}wi(u,f,A,v)}f=f.child}return f;case 5:return dM(f),u===null&&Bv(f),A=f.type,b=f.pendingProps,P=u!==null?u.memoizedProps:null,z=b.children,q(A,b)?z=null:P!==null&&q(A,P)&&(f.flags|=32),HM(u,f),wi(u,f,z,v),f.child;case 6:return u===null&&Bv(f),null;case 13:return JM(u,f,v);case 4:return Dv(f,f.stateNode.containerInfo),A=f.pendingProps,u===null?f.child=Yl(f,null,A,v):wi(u,f,A,v),f.child;case 11:return A=f.type,b=f.pendingProps,b=f.elementType===A?b:Or(A,b),NM(u,f,A,b,v);case 7:return wi(u,f,f.pendingProps,v),f.child;case 8:return wi(u,f,f.pendingProps.children,v),f.child;case 12:return wi(u,f,f.pendingProps.children,v),f.child;case 10:e:{if(A=f.type._context,b=f.pendingProps,P=f.memoizedProps,z=b.value,qA(f,A,z),P!==null)if(os(P.value,z)){if(P.children===b.children&&!oi.current){f=Ls(u,f,v);break e}}else for(P=f.child,P!==null&&(P.return=f);P!==null;){var Q=P.dependencies;if(Q!==null){z=P.child;for(var ue=Q.firstContext;ue!==null;){if(ue.context===A){if(P.tag===1){ue=Es(-1,v&-v),ue.tag=2;var Te=P.updateQueue;if(Te!==null){Te=Te.shared;var We=Te.pending;We===null?ue.next=ue:(ue.next=We.next,We.next=ue),Te.pending=ue}}P.lanes|=v,ue=P.alternate,ue!==null&&(ue.lanes|=v),Mv(P.return,v,f),Q.lanes|=v;break}ue=ue.next}}else if(P.tag===10)z=P.type===f.type?null:P.child;else if(P.tag===18){if(z=P.return,z===null)throw Error(o(341));z.lanes|=v,Q=z.alternate,Q!==null&&(Q.lanes|=v),Mv(z,v,f),z=P.sibling}else z=P.child;if(z!==null)z.return=P;else for(z=P;z!==null;){if(z===f){z=null;break}if(P=z.sibling,P!==null){P.return=z.return,z=P;break}z=z.return}P=z}wi(u,f,b.children,v),f=f.child}return f;case 9:return b=f.type,A=f.pendingProps.children,jl(f,v),b=cr(b),A=A(b),f.flags|=1,wi(u,f,A,v),f.child;case 14:return A=f.type,b=Or(A,f.pendingProps),b=Or(A.type,b),zM(u,f,A,b,v);case 15:return UM(u,f,f.type,f.pendingProps,v);case 17:return A=f.type,b=f.pendingProps,b=f.elementType===A?b:Or(A,b),u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,Ii(A)?(u=!0,kh(f)):u=!1,jl(f,v),iM(f,A,b),Tv(f,A,b,v),Jv(null,f,A,!0,u,v);case 19:return QM(u,f,v);case 22:return GM(u,f,v)}throw Error(o(156,f.tag))};function _b(u,f){return vv(u,f)}function Hk(u,f,v,A){this.tag=u,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(u,f,v,A){return new Hk(u,f,v,A)}function py(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Vk(u){if(typeof u=="function")return py(u)?1:0;if(u!=null){if(u=u.$$typeof,u===g)return 11;if(u===_)return 14}return 2}function wo(u,f){var v=u.alternate;return v===null?(v=mr(u.tag,f,u.key,u.mode),v.elementType=u.elementType,v.type=u.type,v.stateNode=u.stateNode,v.alternate=u,u.alternate=v):(v.pendingProps=f,v.type=u.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=u.flags&14680064,v.childLanes=u.childLanes,v.lanes=u.lanes,v.child=u.child,v.memoizedProps=u.memoizedProps,v.memoizedState=u.memoizedState,v.updateQueue=u.updateQueue,f=u.dependencies,v.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},v.sibling=u.sibling,v.index=u.index,v.ref=u.ref,v}function Tp(u,f,v,A,b,P){var z=2;if(A=u,typeof u=="function")py(u)&&(z=1);else if(typeof u=="string")z=5;else e:switch(u){case d:return Ba(v.children,b,P,f);case h:z=8,b|=8;break;case p:return u=mr(12,v,f,b|2),u.elementType=p,u.lanes=P,u;case x:return u=mr(13,v,f,b),u.elementType=x,u.lanes=P,u;case w:return u=mr(19,v,f,b),u.elementType=w,u.lanes=P,u;case M:return Ep(v,b,P,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case m:z=10;break e;case y:z=9;break e;case g:z=11;break e;case _:z=14;break e;case S:z=16,A=null;break e}throw Error(o(130,u==null?u:typeof u,""))}return f=mr(z,v,f,b),f.elementType=u,f.type=A,f.lanes=P,f}function Ba(u,f,v,A){return u=mr(7,u,A,f),u.lanes=v,u}function Ep(u,f,v,A){return u=mr(22,u,A,f),u.elementType=M,u.lanes=v,u.stateNode={},u}function my(u,f,v){return u=mr(6,u,null,f),u.lanes=v,u}function gy(u,f,v){return f=mr(4,u.children!==null?u.children:[],u.key,f),f.lanes=v,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function Wk(u,f,v,A,b){this.tag=f,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Fe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mv(0),this.expirationTimes=mv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mv(0),this.identifierPrefix=A,this.onRecoverableError=b,he&&(this.mutableSourceEagerHydrationData=null)}function wb(u,f,v,A,b,P,z,Q,ue){return u=new Wk(u,f,v,Q,ue),f===1?(f=1,P===!0&&(f|=8)):f=0,P=mr(3,null,null,f),u.current=P,P.stateNode=u,P.memoizedState={element:A,isDehydrated:v,cache:null,transitions:null},bv(P),u}function Sb(u){if(!u)return xn;u=u._reactInternals;e:{if(R(u)!==u||u.tag!==1)throw Error(o(170));var f=u;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(Ii(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(o(171))}if(u.tag===1){var v=u.type;if(Ii(v))return JA(u,v,f)}return f}function Ab(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(o(188)):(u=Object.keys(u).join(","),Error(o(268,u)));return u=V(f),u===null?null:u.stateNode}function Mb(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var v=u.retryLane;u.retryLane=v!==0&&v<f?v:f}}function vy(u,f){Mb(u,f),(u=u.alternate)&&Mb(u,f)}function jk(u){return u=V(u),u===null?null:u.stateNode}function Jk(){return null}return t.attemptContinuousHydration=function(u){if(u.tag===13){var f=Si();pr(u,134217728,f),vy(u,134217728)}},t.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var f=Si(),v=xo(u);pr(u,v,f),vy(u,v)}},t.attemptSynchronousHydration=function(u){switch(u.tag){case 3:var f=u.stateNode;if(f.current.memoizedState.isDehydrated){var v=Hu(f.pendingLanes);v!==0&&(gv(f,v|1),ki(f,Wn()),!(xt&6)&&(tc(),as()))}break;case 13:var A=Si();db(function(){return pr(u,1,A)}),vy(u,1)}},t.batchedUpdates=function(u,f){var v=xt;xt|=1;try{return u(f)}finally{xt=v,xt===0&&(tc(),Gh&&as())}},t.createComponentSelector=function(u){return{$$typeof:hp,value:u}},t.createContainer=function(u,f,v,A,b,P,z){return wb(u,f,!1,null,v,A,b,P,z)},t.createHasPseudoClassSelector=function(u){return{$$typeof:pp,value:u}},t.createHydrationContainer=function(u,f,v,A,b,P,z,Q,ue){return u=wb(v,A,!0,u,b,P,z,Q,ue),u.context=Sb(null),v=u.current,A=Si(),b=xo(v),P=Es(A,b),P.callback=f??null,go(v,P),u.current.lanes=b,Vu(u,b,A),ki(u,A),u},t.createPortal=function(u,f,v){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:A==null?null:""+A,children:u,containerInfo:f,implementation:v}},t.createRoleSelector=function(u){return{$$typeof:mp,value:u}},t.createTestNameSelector=function(u){return{$$typeof:gp,value:u}},t.createTextSelector=function(u){return{$$typeof:vp,value:u}},t.deferredUpdates=function(u){var f=It,v=Cn.transition;try{return Cn.transition=null,It=16,u()}finally{It=f,Cn.transition=v}},t.discreteUpdates=function(u,f,v,A,b){var P=It,z=Cn.transition;try{return Cn.transition=null,It=1,u(f,v,A,b)}finally{It=P,Cn.transition=z,xt===0&&tc()}},t.findAllNodes=iy,t.findBoundingRects=function(u,f){if(!wt)throw Error(o(363));f=iy(u,f),u=[];for(var v=0;v<f.length;v++)u.push(U(f[v]));for(f=u.length-1;0<f;f--){v=u[f];for(var A=v.x,b=A+v.width,P=v.y,z=P+v.height,Q=f-1;0<=Q;Q--)if(f!==Q){var ue=u[Q],Te=ue.x,We=Te+ue.width,ft=ue.y,rt=ft+ue.height;if(A>=Te&&P>=ft&&b<=We&&z<=rt){u.splice(f,1);break}else if(A!==Te||v.width!==ue.width||rt<P||ft>z){if(!(P!==ft||v.height!==ue.height||We<A||Te>b)){Te>A&&(ue.width+=Te-A,ue.x=A),We<b&&(ue.width=b-Te),u.splice(f,1);break}}else{ft>P&&(ue.height+=ft-P,ue.y=P),rt<z&&(ue.height=z-ft),u.splice(f,1);break}}}return u},t.findHostInstance=Ab,t.findHostInstanceWithNoPortals=function(u){return u=O(u),u=u!==null?G(u):null,u===null?null:u.stateNode},t.findHostInstanceWithWarning=function(u){return Ab(u)},t.flushControlled=function(u){var f=xt;xt|=1;var v=Cn.transition,A=It;try{Cn.transition=null,It=1,u()}finally{It=A,Cn.transition=v,xt=f,xt===0&&(tc(),as())}},t.flushPassiveEffects=Ra,t.flushSync=db,t.focusWithin=function(u,f){if(!wt)throw Error(o(363));for(u=ey(u),f=cb(u,f),f=Array.from(f),u=0;u<f.length;){var v=f[u++];if(!ae(v)){if(v.tag===5&&Ce(v.stateNode))return!0;for(v=v.child;v!==null;)f.push(v),v=v.sibling}}return!1},t.getCurrentUpdatePriority=function(){return It},t.getFindAllNodesFailureDescription=function(u,f){if(!wt)throw Error(o(363));var v=0,A=[];u=[ey(u),0];for(var b=0;b<u.length;){var P=u[b++],z=u[b++],Q=f[z];if((P.tag!==5||!ae(P))&&(ty(P,Q)&&(A.push(ny(Q)),z++,z>v&&(v=z)),z<f.length))for(P=P.child;P!==null;)u.push(P,z),P=P.sibling}if(v<f.length){for(u=[];v<f.length;v++)u.push(ny(f[v]));return`findAllNodes was able to match part of the selector:
  `+(A.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},t.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return ee(u.child.stateNode);default:return u.child.stateNode}},t.injectIntoDevTools=function(u){if(u={bundleType:u.bundleType,version:u.version,rendererPackageName:u.rendererPackageName,rendererConfig:u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:jk,findFiberByHostInstance:u.findFiberByHostInstance||Jk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)u=!0;else{try{Uh=f.inject(u),ss=f}catch{}u=!!f.checkDCE}}return u},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(u,f,v,A){if(!wt)throw Error(o(363));u=iy(u,f);var b=Pe(u,v,A).disconnect;return{disconnect:function(){b()}}},t.registerMutableSourceForHydration=function(u,f){var v=f._getVersion;v=v(f._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[f,v]:u.mutableSourceEagerHydrationData.push(f,v)},t.runWithPriority=function(u,f){var v=It;try{return It=u,f()}finally{It=v}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(u,f,v,A){var b=f.current,P=Si(),z=xo(b);return v=Sb(v),f.context===null?f.context=v:f.pendingContext=v,f=Es(P,z),f.payload={element:u},A=A===void 0?null:A,A!==null&&(f.callback=A),go(b,f),u=pr(b,z,P),u!==null&&jh(u,b,z),z},t};ZL.exports=OV;var kV=ZL.exports;const FV=h0(kV),dA={},NV=n=>void Object.assign(dA,n);function zV(n,e){function t(d,{args:h=[],attach:p,...m},y){let g=`${d[0].toUpperCase()}${d.slice(1)}`,x;if(d==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const w=m.object;x=Mc(w,{type:d,root:y,attach:p,primitive:!0})}else{const w=dA[g];if(!w)throw new Error(`R3F: ${g} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");x=Mc(new w(...h),{type:d,root:y,attach:p,memoizedProps:{args:h}})}return x.__r3f.attach===void 0&&(x instanceof ht?x.__r3f.attach="geometry":x instanceof Fn&&(x.__r3f.attach="material")),g!=="inject"&&Cx(x,m),x}function i(d,h){let p=!1;if(h){var m,y;(m=h.__r3f)!=null&&m.attach?bx(d,h,h.__r3f.attach):h.isObject3D&&d.isObject3D&&(d.add(h),p=!0),p||(y=d.__r3f)==null||y.objects.push(h),h.__r3f||Mc(h,{}),h.__r3f.parent=d,W1(h),bc(h)}}function r(d,h,p){let m=!1;if(h){var y,g;if((y=h.__r3f)!=null&&y.attach)bx(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){h.parent=d,h.dispatchEvent({type:"added"}),d.dispatchEvent({type:"childadded",child:h});const x=d.children.filter(_=>_!==h),w=x.indexOf(p);d.children=[...x.slice(0,w),h,...x.slice(w)],m=!0}m||(g=d.__r3f)==null||g.objects.push(h),h.__r3f||Mc(h,{}),h.__r3f.parent=d,W1(h),bc(h)}}function s(d,h,p=!1){d&&[...d].forEach(m=>o(h,m,p))}function o(d,h,p){if(h){var m,y,g;if(h.__r3f&&(h.__r3f.parent=null),(m=d.__r3f)!=null&&m.objects&&(d.__r3f.objects=d.__r3f.objects.filter(M=>M!==h)),(y=h.__r3f)!=null&&y.attach)gE(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){var x;d.remove(h),(x=h.__r3f)!=null&&x.root&&KV(ug(h),h)}const _=(g=h.__r3f)==null?void 0:g.primitive,S=!_&&(p===void 0?h.dispose!==null:p);if(!_){var w;s((w=h.__r3f)==null?void 0:w.objects,h,S),s(h.children,h,S)}if(delete h.__r3f,S&&h.dispose&&h.type!=="Scene"){const M=()=>{try{h.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?H1.unstable_scheduleCallback(H1.unstable_IdlePriority,M):M()}bc(d)}}function a(d,h,p,m){var y;const g=(y=d.__r3f)==null?void 0:y.parent;if(!g)return;const x=t(h,p,d.__r3f.root);if(d.children){for(const w of d.children)w.__r3f&&i(x,w);d.children=d.children.filter(w=>!w.__r3f)}d.__r3f.objects.forEach(w=>i(x,w)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||o(g,d),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),i(g,x),x.raycast&&x.__r3f.eventCount&&ug(x).getState().internal.interaction.push(x),[m,m.alternate].forEach(w=>{w!==null&&(w.stateNode=x,w.ref&&(typeof w.ref=="function"?w.ref(x):w.ref.current=x))})}const l=()=>{};return{reconciler:FV({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,h)=>{if(!h)return;const p=d.getState().scene;p.__r3f&&(p.__r3f.root=d,i(p,h))},removeChildFromContainer:(d,h)=>{h&&o(d.getState().scene,h)},insertInContainerBefore:(d,h,p)=>{if(!h||!p)return;const m=d.getState().scene;m.__r3f&&r(m,h,p)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var h;return!!((h=d==null?void 0:d.__r3f)!=null?h:{}).handlers},prepareUpdate(d,h,p,m){var y;if(((y=d==null?void 0:d.__r3f)!=null?y:{}).primitive&&m.object&&m.object!==d)return[!0];{const{args:x=[],children:w,..._}=m,{args:S=[],children:M,...T}=p;if(!Array.isArray(x))throw new Error("R3F: the args prop must be an array!");if(x.some((B,C)=>B!==S[C]))return[!0];const E=aD(d,_,T,!0);return E.changes.length?[!1,E]:null}},commitUpdate(d,[h,p],m,y,g,x){h?a(d,m,g,x):Cx(d,p)},commitMount(d,h,p,m){var y;const g=(y=d.__r3f)!=null?y:{};d.raycast&&g.handlers&&g.eventCount&&ug(d).getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>Mc(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var h;const{attach:p,parent:m}=(h=d.__r3f)!=null?h:{};p&&m&&gE(m,d,p),d.isObject3D&&(d.visible=!1),bc(d)},unhideInstance(d,h){var p;const{attach:m,parent:y}=(p=d.__r3f)!=null?p:{};m&&y&&bx(y,d,m),(d.isObject3D&&h.visible==null||h.visible)&&(d.visible=!0),bc(d)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Hc.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Yt.fun(performance.now)?performance.now:Yt.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Yt.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Yt.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Cx}}var dE,hE;const Mx=n=>"colorSpace"in n||"outputColorSpace"in n,tD=()=>{var n;return(n=dA.ColorManagement)!=null?n:null},nD=n=>n&&n.isOrthographicCamera,UV=n=>n&&n.hasOwnProperty("current"),yh=typeof window<"u"&&((dE=window.document)!=null&&dE.createElement||((hE=window.navigator)==null?void 0:hE.product)==="ReactNative")?F.useLayoutEffect:F.useEffect;function iD(n){const e=F.useRef(n);return yh(()=>void(e.current=n),[n]),e}function GV({set:n}){return yh(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class rD extends F.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}rD.getDerivedStateFromError=()=>({error:!0});const sD="__default",pE=new Map,HV=n=>n&&!!n.memoized&&!!n.changes;function oD(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const Ef=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function ug(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Yt={obj:n=>n===Object(n)&&!Yt.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Yt.str(n)||Yt.num(n)||Yt.boo(n))return n===e;const s=Yt.obj(n);if(s&&i==="reference")return n===e;const o=Yt.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!Yt.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if(Yt.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function VV(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function WV(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Mc(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function V1(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const mE=/-\d+$/;function bx(n,e,t){if(Yt.str(t)){if(mE.test(t)){const s=t.replace(mE,""),{target:o,key:a}=V1(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=V1(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function gE(n,e,t){var i,r;if(Yt.str(t)){const{target:s,key:o}=V1(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function aD(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...l}={},c=!1){const d=n.__r3f,h=Object.entries(r),p=[];if(c){const y=Object.keys(l);for(let g=0;g<y.length;g++)r.hasOwnProperty(y[g])||h.unshift([y[g],sD+"remove"])}h.forEach(([y,g])=>{var x;if((x=n.__r3f)!=null&&x.primitive&&y==="object"||Yt.equ(g,l[y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(y))return p.push([y,g,!0,[]]);let w=[];y.includes("-")&&(w=y.split("-")),p.push([y,g,!1,w]);for(const _ in r){const S=r[_];_.startsWith(`${y}-`)&&p.push([_,S,!1,_.split("-")])}});const m={...r};return d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.args&&(m.args=d.memoizedProps.args),d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.attach&&(m.attach=d.memoizedProps.attach),{memoized:m,changes:p}}const jV=typeof process<"u"&&!1;function Cx(n,e){var t;const i=n.__r3f,r=i==null?void 0:i.root,s=r==null||r.getState==null?void 0:r.getState(),{memoized:o,changes:a}=HV(e)?e:aD(n,e),l=i==null?void 0:i.eventCount;n.__r3f&&(n.__r3f.memoizedProps=o);for(let d=0;d<a.length;d++){let[h,p,m,y]=a[d];if(Mx(n)){const _="srgb",S="srgb-linear";h==="encoding"?(h="colorSpace",p=p===3001?_:S):h==="outputEncoding"&&(h="outputColorSpace",p=p===3001?_:S)}let g=n,x=g[h];if(y.length&&(x=y.reduce((w,_)=>w[_],n),!(x&&x.set))){const[w,..._]=y.reverse();g=_.reverse().reduce((S,M)=>S[M],n),h=w}if(p===sD+"remove")if(g.constructor){let w=pE.get(g.constructor);w||(w=new g.constructor,pE.set(g.constructor,w)),p=w[h]}else p=0;if(m&&i)p?i.handlers[h]=p:delete i.handlers[h],i.eventCount=Object.keys(i.handlers).length;else if(x&&x.set&&(x.copy||x instanceof ml)){if(Array.isArray(p))x.fromArray?x.fromArray(p):x.set(...p);else if(x.copy&&p&&p.constructor&&(jV?x.constructor.name===p.constructor.name:x.constructor===p.constructor))x.copy(p);else if(p!==void 0){const w=x instanceof Oe;!w&&x.setScalar?x.setScalar(p):x instanceof ml&&p instanceof ml?x.mask=p.mask:x.set(p),!tD()&&s&&!s.linear&&w&&x.convertSRGBToLinear()}}else if(g[h]=p,g[h]instanceof an&&g[h].format===Ui&&g[h].type===oo&&s){const w=g[h];Mx(w)&&Mx(s.gl)?w.colorSpace=s.gl.outputColorSpace:w.encoding=s.gl.outputEncoding}bc(n)}if(i&&i.parent&&n.raycast&&l!==i.eventCount){const d=ug(n).getState().internal,h=d.interaction.indexOf(n);h>-1&&d.interaction.splice(h,1),i.eventCount&&d.interaction.push(n)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(t=n.__r3f)!=null&&t.parent&&W1(n),n}function bc(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function W1(n){n.onUpdate==null||n.onUpdate(n)}function JV(n,e){n.manual||(nD(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function Lm(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function XV(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Hc.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Hc.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Hc.ContinuousEventPriority;default:return Hc.DefaultEventPriority}}function lD(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function KV(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{lD(t.capturedMap,e,i,r)})}function YV(n){function e(l){const{internal:c}=n.getState(),d=l.offsetX-c.initialClick[0],h=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(d*d+h*h))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(d=>{var h;return(h=c.__r3f)==null?void 0:h.handlers["onPointer"+d]}))}function i(l,c){const d=n.getState(),h=new Set,p=[],m=c?c(d.internal.interaction):d.internal.interaction;for(let w=0;w<m.length;w++){const _=Ef(m[w]);_&&(_.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function y(w){const _=Ef(w);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var S;_.events.compute==null||_.events.compute(l,_,(S=_.previousRoot)==null?void 0:S.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(w,!0):[]}let g=m.flatMap(y).sort((w,_)=>{const S=Ef(w.object),M=Ef(_.object);return!S||!M?w.distance-_.distance:M.events.priority-S.events.priority||w.distance-_.distance}).filter(w=>{const _=Lm(w);return h.has(_)?!1:(h.add(_),!0)});d.events.filter&&(g=d.events.filter(g,d));for(const w of g){let _=w.object;for(;_;){var x;(x=_.__r3f)!=null&&x.eventCount&&p.push({...w,eventObject:_}),_=_.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let w of d.internal.capturedMap.get(l.pointerId).values())h.has(Lm(w.intersection))||p.push(w.intersection);return p}function r(l,c,d,h){const p=n.getState();if(l.length){const m={stopped:!1};for(const y of l){const g=Ef(y.object)||p,{raycaster:x,pointer:w,camera:_,internal:S}=g,M=new I(w.x,w.y,0).unproject(_),T=L=>{var O,V;return(O=(V=S.capturedMap.get(L))==null?void 0:V.has(y.eventObject))!=null?O:!1},E=L=>{const O={intersection:y,target:c.target};S.capturedMap.has(L)?S.capturedMap.get(L).set(y.eventObject,O):S.capturedMap.set(L,new Map([[y.eventObject,O]])),c.target.setPointerCapture(L)},B=L=>{const O=S.capturedMap.get(L);O&&lD(S.capturedMap,y.eventObject,O,L)};let C={};for(let L in c){let O=c[L];typeof O!="function"&&(C[L]=O)}let R={...y,...C,pointer:w,intersections:l,stopped:m.stopped,delta:d,unprojectedPoint:M,ray:x.ray,camera:_,stopPropagation(){const L="pointerId"in c&&S.capturedMap.get(c.pointerId);if((!L||L.has(y.eventObject))&&(R.stopped=m.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(O=>O.eventObject===y.eventObject))){const O=l.slice(0,l.indexOf(y));s([...O,y])}},target:{hasPointerCapture:T,setPointerCapture:E,releasePointerCapture:B},currentTarget:{hasPointerCapture:T,setPointerCapture:E,releasePointerCapture:B},nativeEvent:c};if(h(R),m.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const d of c.hovered.values())if(!l.length||!l.find(h=>h.object===d.object&&h.index===d.index&&h.instanceId===d.instanceId)){const p=d.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(Lm(d)),p!=null&&p.eventCount){const y={...d,intersections:l};m.onPointerOut==null||m.onPointerOut(y),m.onPointerLeave==null||m.onPointerLeave(y)}}}function o(l,c){for(let d=0;d<c.length;d++){const h=c[d].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:d}=n.getState();"pointerId"in c&&d.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(c.pointerId)&&(d.capturedMap.delete(c.pointerId),s([]))})}}return function(d){const{onPointerMissed:h,internal:p}=n.getState();p.lastEvent.current=d;const m=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=i(d,m?t:void 0),w=y?e(d):0;l==="onPointerDown"&&(p.initialClick=[d.offsetX,d.offsetY],p.initialHits=x.map(S=>S.eventObject)),y&&!x.length&&w<=2&&(o(d,p.interaction),h&&h(d)),m&&s(x);function _(S){const M=S.eventObject,T=M.__r3f,E=T==null?void 0:T.handlers;if(T!=null&&T.eventCount)if(m){if(E.onPointerOver||E.onPointerEnter||E.onPointerOut||E.onPointerLeave){const B=Lm(S),C=p.hovered.get(B);C?C.stopped&&S.stopPropagation():(p.hovered.set(B,S),E.onPointerOver==null||E.onPointerOver(S),E.onPointerEnter==null||E.onPointerEnter(S))}E.onPointerMove==null||E.onPointerMove(S)}else{const B=E[l];B?(!y||p.initialHits.includes(M))&&(o(d,p.interaction.filter(C=>!p.initialHits.includes(C))),B(S)):y&&p.initialHits.includes(M)&&o(d,p.interaction.filter(C=>!p.initialHits.includes(C)))}}r(x,d,w,_)}}return{handlePointer:a}}const cD=n=>!!(n!=null&&n.render),uD=F.createContext(null),QV=(n,e)=>{const t=RV((a,l)=>{const c=new I,d=new I,h=new I;function p(w=l().camera,_=d,S=l().size){const{width:M,height:T,top:E,left:B}=S,C=M/T;_ instanceof I?h.copy(_):h.set(..._);const R=w.getWorldPosition(c).distanceTo(h);if(nD(w))return{width:M/w.zoom,height:T/w.zoom,top:E,left:B,factor:1,distance:R,aspect:C};{const L=w.fov*Math.PI/180,O=2*Math.tan(L/2)*R,V=O*(M/T);return{width:V,height:O,top:E,left:B,factor:M/V,distance:R,aspect:C}}}let m;const y=w=>a(_=>({performance:{..._.performance,current:w}})),g=new pe;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(w=1)=>n(l(),w),advance:(w,_)=>e(w,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new lA,pointer:g,mouse:g,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const w=l();m&&clearTimeout(m),w.performance.current!==w.performance.min&&y(w.performance.min),m=setTimeout(()=>y(l().performance.max),w.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:w=>a(_=>({..._,events:{..._.events,...w}})),setSize:(w,_,S,M,T)=>{const E=l().camera,B={width:w,height:_,top:M||0,left:T||0,updateStyle:S};a(C=>({size:B,viewport:{...C.viewport,...p(E,d,B)}}))},setDpr:w=>a(_=>{const S=oD(w);return{viewport:{..._.viewport,dpr:S,initialDpr:_.viewport.initialDpr||S}}}),setFrameloop:(w="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,w!=="never"&&(_.start(),_.elapsedTime=0),a(()=>({frameloop:w}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:F.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(w,_,S)=>{const M=l().internal;return M.priority=M.priority+(_>0?1:0),M.subscribers.push({ref:w,priority:_,store:S}),M.subscribers=M.subscribers.sort((T,E)=>T.priority-E.priority),()=>{const T=l().internal;T!=null&&T.subscribers&&(T.priority=T.priority-(_>0?1:0),T.subscribers=T.subscribers.filter(E=>E.ref!==w))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:d,set:h}=t.getState();if(l.width!==r.width||l.height!==r.height||c.dpr!==s){var p;r=l,s=c.dpr,JV(a,l),d.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(l.width,l.height,m)}a!==o&&(o=a,h(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let Dm,qV=new Set,ZV=new Set,$V=new Set;function Tx(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Pf(n,e){switch(n){case"before":return Tx(qV,e);case"after":return Tx(ZV,e);case"tail":return Tx($V,e)}}let Ex,Px;function Rx(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),Ex=e.internal.subscribers,Dm=0;Dm<Ex.length;Dm++)Px=Ex[Dm],Px.ref.current(Px.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function eW(n){let e=!1,t=!1,i,r,s;function o(c){r=requestAnimationFrame(o),e=!0,i=0,Pf("before",c),t=!0;for(const h of n.values()){var d;s=h.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((d=s.gl.xr)!=null&&d.isPresenting)&&(i+=Rx(c,s))}if(t=!1,Pf("after",c),i===0)return Pf("tail",c),e=!1,cancelAnimationFrame(r)}function a(c,d=1){var h;if(!c)return n.forEach(p=>a(p.store.getState(),d));(h=c.gl.xr)!=null&&h.isPresenting||!c.internal.active||c.frameloop==="never"||(d>1?c.internal.frames=Math.min(60,c.internal.frames+d):t?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,d=!0,h,p){if(d&&Pf("before",c),h)Rx(c,h,p);else for(const m of n.values())Rx(c,m.store.getState());d&&Pf("after",c)}return{loop:o,invalidate:a,advance:l}}function fD(){const n=F.useContext(uD);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Ar(n=t=>t,e){return fD()(n,e)}function xh(n,e=0){const t=fD(),i=t.getState().internal.subscribe,r=iD(n);return yh(()=>i(r,e,t),[e,i,t]),null}const vE=new WeakMap;function dD(n,e){return function(t,...i){let r=vE.get(t);return r||(r=new t,vE.set(t,r)),n&&n(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,VV(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function _h(n,e,t,i){const r=Array.isArray(e)?e:[e],s=LV(dD(t,i),[n,...r],{equal:Yt.equ});return Array.isArray(e)?s:s[0]}_h.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return DV(dD(t),[n,...i])};_h.clear=function(n,e){const t=Array.isArray(e)?e:[e];return IV([n,...t])};const xu=new Map,{invalidate:yE,advance:xE}=eW(xu),{reconciler:jg,applyProps:wc}=zV(xu,XV),Sc={objects:"shallow",strict:!1},tW=(n,e)=>{const t=typeof n=="function"?n(e):n;return cD(t)?t:new z0({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function nW(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:i,height:r,top:s,left:o,updateStyle:a=t}=e;return{width:i,height:r,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:i,height:r,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:i,height:r,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function iW(n){const e=xu.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||QV(yE,xE),o=t||jg.createContainer(s,Hc.ConcurrentRoot,null,!1,null,"",r,null);e||xu.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(d={}){let{gl:h,size:p,scene:m,events:y,onCreated:g,shadows:x=!1,linear:w=!1,flat:_=!1,legacy:S=!1,orthographic:M=!1,frameloop:T="always",dpr:E=[1,2],performance:B,raycaster:C,camera:R,onPointerMissed:L}=d,O=s.getState(),V=O.gl;O.gl||O.set({gl:V=tW(h,n)});let H=O.raycaster;H||O.set({raycaster:H=new XL});const{params:G,...$}=C||{};if(Yt.equ($,H,Sc)||wc(H,{...$}),Yt.equ(G,H.params,Sc)||wc(H,{params:{...H.params,...G}}),!O.camera||O.camera===c&&!Yt.equ(c,R,Sc)){c=R;const J=R instanceof eh,te=J?R:M?new qr(0,0,0,0,.1,1e3):new on(75,0,.1,1e3);J||(te.position.z=5,R&&(wc(te,R),("aspect"in R||"left"in R||"right"in R||"bottom"in R||"top"in R)&&(te.manual=!0,te.updateProjectionMatrix())),!O.camera&&!(R!=null&&R.rotation)&&te.lookAt(0,0,0)),O.set({camera:te}),H.camera=te}if(!O.scene){let J;m instanceof Wg?J=m:(J=new Wg,m&&wc(J,m)),O.set({scene:Mc(J)})}if(!O.xr){var ee;const J=(ie,ve)=>{const q=s.getState();q.frameloop!=="never"&&xE(ie,!0,q,ve)},te=()=>{const ie=s.getState();ie.gl.xr.enabled=ie.gl.xr.isPresenting,ie.gl.xr.setAnimationLoop(ie.gl.xr.isPresenting?J:null),ie.gl.xr.isPresenting||yE(ie)},X={connect(){const ie=s.getState().gl;ie.xr.addEventListener("sessionstart",te),ie.xr.addEventListener("sessionend",te)},disconnect(){const ie=s.getState().gl;ie.xr.removeEventListener("sessionstart",te),ie.xr.removeEventListener("sessionend",te)}};typeof((ee=V.xr)==null?void 0:ee.addEventListener)=="function"&&X.connect(),O.set({xr:X})}if(V.shadowMap){const J=V.shadowMap.enabled,te=V.shadowMap.type;if(V.shadowMap.enabled=!!x,Yt.boo(x))V.shadowMap.type=$f;else if(Yt.str(x)){var oe;const X={basic:tB,percentage:L0,soft:$f,variance:tl};V.shadowMap.type=(oe=X[x])!=null?oe:$f}else Yt.obj(x)&&Object.assign(V.shadowMap,x);(J!==V.shadowMap.enabled||te!==V.shadowMap.type)&&(V.shadowMap.needsUpdate=!0)}const k=tD();k&&("enabled"in k?k.enabled=!S:"legacyMode"in k&&(k.legacyMode=S)),l||wc(V,{outputEncoding:w?3e3:3001,toneMapping:_?Qr:bS}),O.legacy!==S&&O.set(()=>({legacy:S})),O.linear!==w&&O.set(()=>({linear:w})),O.flat!==_&&O.set(()=>({flat:_})),h&&!Yt.fun(h)&&!cD(h)&&!Yt.equ(h,V,Sc)&&wc(V,h),y&&!O.events.handlers&&O.set({events:y(s)});const K=nW(n,p);return Yt.equ(K,O.size,Sc)||O.setSize(K.width,K.height,K.updateStyle,K.top,K.left),E&&O.viewport.dpr!==oD(E)&&O.setDpr(E),O.frameloop!==T&&O.setFrameloop(T),O.onPointerMissed||O.set({onPointerMissed:L}),B&&!Yt.equ(B,O.performance,Sc)&&O.set(J=>({performance:{...J.performance,...B}})),a=g,l=!0,this},render(d){return l||this.configure(),jg.updateContainer(W(rW,{store:s,children:d,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){hD(n)}}}function rW({store:n,children:e,onCreated:t,rootElement:i}){return yh(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),W(uD.Provider,{value:n,children:e})}function hD(n,e){const t=xu.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),jg.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),WV(r),xu.delete(n),e&&e(n)}catch{}},500)})}}jg.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:F.version});const Bx={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function sW(n){const{handlePointer:e}=YV(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(Bx).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,c]=Bx[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=Bx[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}function j1(n,e,t){var i,r,s,o,a;e==null&&(e=100);function l(){var d=Date.now()-o;d<e&&d>=0?i=setTimeout(l,e-d):(i=null,t||(a=n.apply(s,r),s=r=null))}var c=function(){s=this,r=arguments,o=Date.now();var d=t&&!i;return i||(i=setTimeout(l,e)),d&&(a=n.apply(s,r),s=r=null),a};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(a=n.apply(s,r),s=r=null,clearTimeout(i),i=null)},c}j1.debounce=j1;var oW=j1;const _E=h0(oW);var aW=Object.defineProperty,lW=Object.defineProperties,cW=Object.getOwnPropertyDescriptors,wE=Object.getOwnPropertySymbols,uW=Object.prototype.hasOwnProperty,fW=Object.prototype.propertyIsEnumerable,SE=(n,e,t)=>e in n?aW(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,AE=(n,e)=>{for(var t in e||(e={}))uW.call(e,t)&&SE(n,t,e[t]);if(wE)for(var t of wE(e))fW.call(e,t)&&SE(n,t,e[t]);return n},dW=(n,e)=>lW(n,cW(e)),ME,bE;typeof window<"u"&&((ME=window.document)!=null&&ME.createElement||((bE=window.navigator)==null?void 0:bE.product)==="ReactNative")?F.useLayoutEffect:F.useEffect;function pD(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=pD(i,e,t);if(r)return r;i=e?null:i.sibling}}function mD(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const CE=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=CE;return}return CE.apply(this,arguments)};const hA=mD(F.createContext(null));class gD extends F.Component{render(){return F.createElement(hA.Provider,{value:this._reactInternals},this.props.children)}}function hW(){const n=F.useContext(hA);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=F.useId();return F.useMemo(()=>{for(const i of[n,n==null?void 0:n.alternate]){if(!i)continue;const r=pD(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}function pW(){const n=hW(),[e]=F.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const r=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;r&&r!==hA&&!e.has(r)&&e.set(r,F.useContext(mD(r)))}t=t.return}return e}function mW(){const n=pW();return F.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>F.createElement(e,null,F.createElement(t.Provider,dW(AE({},i),{value:n.get(t)}))),e=>F.createElement(gD,AE({},e))),[n])}function gW({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||typeof window<"u"&&window.ResizeObserver,[s,o]=F.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!r)return s.width=1280,s.height=800,[()=>{},s,()=>{}];const a=F.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,c=n?typeof n=="number"?n:n.resize:null,d=F.useRef(!1);F.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[h,p,m]=F.useMemo(()=>{const w=()=>{if(!a.current.element)return;const{left:_,top:S,width:M,height:T,bottom:E,right:B,x:C,y:R}=a.current.element.getBoundingClientRect(),L={left:_,top:S,width:M,height:T,bottom:E,right:B,x:C,y:R};a.current.element instanceof HTMLElement&&i&&(L.height=a.current.element.offsetHeight,L.width=a.current.element.offsetWidth),Object.freeze(L),d.current&&!_W(a.current.lastBounds,L)&&o(a.current.lastBounds=L)};return[w,c?_E(w,c):w,l?_E(w,l):w]},[o,i,l,c]);function y(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(w=>w.removeEventListener("scroll",m,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function g(){var w;a.current.element&&(a.current.resizeObserver=new r(p),(w=a.current.resizeObserver)==null||w.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(_=>_.addEventListener("scroll",m,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const x=w=>{!w||w===a.current.element||(y(),a.current.element=w,a.current.scrollContainers=vD(w),g())};return yW(m,!!e),vW(p),F.useEffect(()=>{y(),g()},[e,m,p]),F.useEffect(()=>y,[]),[x,s,h]}function vW(n){F.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function yW(n,e){F.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function vD(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...vD(n.parentElement)]}const xW=["x","y","top","bottom","left","right","width","height"],_W=(n,e)=>xW.every(t=>n[t]===e[t]),wW=F.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=sW,eventSource:a,eventPrefix:l,shadows:c,linear:d,flat:h,legacy:p,orthographic:m,frameloop:y,dpr:g,performance:x,raycaster:w,camera:_,scene:S,onPointerMissed:M,onCreated:T,...E},B){F.useMemo(()=>NV(TV),[]);const C=mW(),[R,L]=gW({scroll:!0,debounce:{scroll:50,resize:0},...i}),O=F.useRef(null),V=F.useRef(null);F.useImperativeHandle(B,()=>O.current);const H=iD(M),[G,$]=F.useState(!1),[ee,oe]=F.useState(!1);if(G)throw G;if(ee)throw ee;const k=F.useRef(null);return yh(()=>{const J=O.current;L.width>0&&L.height>0&&J&&(k.current||(k.current=iW(J)),k.current.configure({gl:s,events:o,shadows:c,linear:d,flat:h,legacy:p,orthographic:m,frameloop:y,dpr:g,performance:x,raycaster:w,camera:_,scene:S,size:L,onPointerMissed:(...te)=>H.current==null?void 0:H.current(...te),onCreated:te=>{te.events.connect==null||te.events.connect(a?UV(a)?a.current:a:V.current),l&&te.setEvents({compute:(X,ie)=>{const ve=X[l+"X"],q=X[l+"Y"];ie.pointer.set(ve/ie.size.width*2-1,-(q/ie.size.height)*2+1),ie.raycaster.setFromCamera(ie.pointer,ie.camera)}}),T==null||T(te)}}),k.current.render(W(C,{children:W(rD,{set:oe,children:W(F.Suspense,{fallback:W(GV,{set:$}),children:e})})})))}),F.useEffect(()=>{const J=O.current;if(J)return()=>hD(J)},[]),W("div",{ref:V,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:a?"none":"auto",...r},...E,children:W("div",{ref:R,style:{width:"100%",height:"100%"},children:W("canvas",{ref:O,style:{display:"block"},children:t})})})}),pA=F.forwardRef(function(e,t){return W(gD,{children:W(wW,{...e,ref:t})})});function lo(){return lo=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},lo.apply(null,arguments)}const wh=new I,mA=new I,SW=new I,TE=new pe;function AW(n,e,t){const i=wh.setFromMatrixPosition(n.matrixWorld);i.project(e);const r=t.width/2,s=t.height/2;return[i.x*r+r,-(i.y*s)+s]}function MW(n,e){const t=wh.setFromMatrixPosition(n.matrixWorld),i=mA.setFromMatrixPosition(e.matrixWorld),r=t.sub(i),s=e.getWorldDirection(SW);return r.angleTo(s)>Math.PI/2}function bW(n,e,t,i){const r=wh.setFromMatrixPosition(n.matrixWorld),s=r.clone();s.project(e),TE.set(s.x,s.y),t.setFromCamera(TE,e);const o=t.intersectObjects(i,!0);if(o.length){const a=o[0].distance;return r.distanceTo(t.ray.origin)<a}return!0}function CW(n,e){if(e instanceof qr)return e.zoom;if(e instanceof on){const t=wh.setFromMatrixPosition(n.matrixWorld),i=mA.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=t.distanceTo(i);return 1/(2*Math.tan(r/2)*s)}else return 1}function TW(n,e,t){if(e instanceof on||e instanceof qr){const i=wh.setFromMatrixPosition(n.matrixWorld),r=mA.setFromMatrixPosition(e.matrixWorld),s=i.distanceTo(r),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const J1=n=>Math.abs(n)<1e-10?0:n;function yD(n,e,t=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=J1(e[r]*n.elements[r])+(r!==15?",":")");return t+i}const EW=(n=>e=>yD(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),PW=(n=>(e,t)=>yD(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function RW(n){return n&&typeof n=="object"&&"current"in n}const BW=F.forwardRef(({children:n,eps:e=.001,style:t,className:i,prepend:r,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:d=!1,occlude:h,onOcclude:p,castShadow:m,receiveShadow:y,material:g,geometry:x,zIndexRange:w=[16777271,0],calculatePosition:_=AW,as:S="div",wrapperClass:M,pointerEvents:T="auto",...E},B)=>{const{gl:C,camera:R,scene:L,size:O,raycaster:V,events:H,viewport:G}=Ar(),[$]=F.useState(()=>document.createElement(S)),ee=F.useRef(),oe=F.useRef(null),k=F.useRef(0),K=F.useRef([0,0]),J=F.useRef(null),te=F.useRef(null),X=(a==null?void 0:a.current)||H.connected||C.domElement.parentNode,ie=F.useRef(null),ve=F.useRef(!1),q=F.useMemo(()=>h&&h!=="blending"||Array.isArray(h)&&h.length&&RW(h[0]),[h]);F.useLayoutEffect(()=>{const Ee=C.domElement;h&&h==="blending"?(Ee.style.zIndex=`${Math.floor(w[0]/2)}`,Ee.style.position="absolute",Ee.style.pointerEvents="none"):(Ee.style.zIndex=null,Ee.style.position=null,Ee.style.pointerEvents=null)},[h]),F.useLayoutEffect(()=>{if(oe.current){const Ee=ee.current=GR($);if(L.updateMatrixWorld(),d)$.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const _e=_(oe.current,R,O);$.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${_e[0]}px,${_e[1]}px,0);transform-origin:0 0;`}return X&&(r?X.prepend($):X.appendChild($)),()=>{X&&X.removeChild($),Ee.unmount()}}},[X,d]),F.useLayoutEffect(()=>{M&&($.className=M)},[M]);const we=F.useMemo(()=>d?{position:"absolute",top:0,left:0,width:O.width,height:O.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-O.height/2,left:-O.width/2,width:O.width,height:O.height},...t},[t,s,o,O,d]),Ae=F.useMemo(()=>({position:"absolute",pointerEvents:T}),[T]);F.useLayoutEffect(()=>{if(ve.current=!1,d){var Ee;(Ee=ee.current)==null||Ee.render(F.createElement("div",{ref:J,style:we},F.createElement("div",{ref:te,style:Ae},F.createElement("div",{ref:B,className:i,style:t,children:n}))))}else{var _e;(_e=ee.current)==null||_e.render(F.createElement("div",{ref:B,style:we,className:i,children:n}))}});const De=F.useRef(!0);xh(Ee=>{if(oe.current){R.updateMatrixWorld(),oe.current.updateWorldMatrix(!0,!1);const _e=d?K.current:_(oe.current,R,O);if(d||Math.abs(k.current-R.zoom)>e||Math.abs(K.current[0]-_e[0])>e||Math.abs(K.current[1]-_e[1])>e){const de=MW(oe.current,R);let he=!1;q&&(Array.isArray(h)?he=h.map(Ye=>Ye.current):h!=="blending"&&(he=[L]));const Me=De.current;if(he){const Ye=bW(oe.current,R,V,he);De.current=Ye&&!de}else De.current=!de;Me!==De.current&&(p?p(!De.current):$.style.display=De.current?"block":"none");const Ve=Math.floor(w[0]/2),Re=h?q?[w[0],Ve]:[Ve-1,0]:w;if($.style.zIndex=`${TW(oe.current,R,Re)}`,d){const[Ye,Ke]=[O.width/2,O.height/2],et=R.projectionMatrix.elements[5]*Ke,{isOrthographicCamera:wt,top:Et,left:U,bottom:D,right:ae}=R,be=EW(R.matrixWorldInverse),Ce=wt?`scale(${et})translate(${J1(-(ae+U)/2)}px,${J1((Et+D)/2)}px)`:`translateZ(${et}px)`;let Pe=oe.current.matrixWorld;c&&(Pe=R.matrixWorldInverse.clone().transpose().copyPosition(Pe).scale(oe.current.scale),Pe.elements[3]=Pe.elements[7]=Pe.elements[11]=0,Pe.elements[15]=1),$.style.width=O.width+"px",$.style.height=O.height+"px",$.style.perspective=wt?"":`${et}px`,J.current&&te.current&&(J.current.style.transform=`${Ce}${be}translate(${Ye}px,${Ke}px)`,te.current.style.transform=PW(Pe,1/((l||10)/400)))}else{const Ye=l===void 0?1:CW(oe.current,R)*l;$.style.transform=`translate3d(${_e[0]}px,${_e[1]}px,0) scale(${Ye})`}K.current=_e,k.current=R.zoom}}if(!q&&ie.current&&!ve.current)if(d){if(J.current){const _e=J.current.children[0];if(_e!=null&&_e.clientWidth&&_e!=null&&_e.clientHeight){const{isOrthographicCamera:de}=R;if(de||x)E.scale&&(Array.isArray(E.scale)?E.scale instanceof I?ie.current.scale.copy(E.scale.clone().divideScalar(1)):ie.current.scale.set(1/E.scale[0],1/E.scale[1],1/E.scale[2]):ie.current.scale.setScalar(1/E.scale));else{const he=(l||10)/400,Me=_e.clientWidth*he,Ve=_e.clientHeight*he;ie.current.scale.set(Me,Ve,1)}ve.current=!0}}}else{const _e=$.children[0];if(_e!=null&&_e.clientWidth&&_e!=null&&_e.clientHeight){const de=1/G.factor,he=_e.clientWidth*de,Me=_e.clientHeight*de;ie.current.scale.set(he,Me,1),ve.current=!0}ie.current.lookAt(Ee.camera.position)}});const Fe=F.useMemo(()=>({vertexShader:d?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[d]);return F.createElement("group",lo({},E,{ref:oe}),h&&!q&&F.createElement("mesh",{castShadow:m,receiveShadow:y,ref:ie},x||F.createElement("planeGeometry",null),g||F.createElement("shaderMaterial",{side:Xr,vertexShader:Fe.vertexShader,fragmentShader:Fe.fragmentShader})))}),EE=n=>{let e;const t=new Set,i=(c,d)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const p=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),t.forEach(m=>m(e,p))}},r=()=>e,a={setState:i,getState:r,getInitialState:()=>l,subscribe:c=>(t.add(c),()=>t.delete(c))},l=e=n(i,r,a);return a},LW=n=>n?EE(n):EE,DW=n=>n;function IW(n,e=DW){const t=pt.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return pt.useDebugValue(t),t}const PE=n=>{const e=LW(n),t=i=>IW(e,i);return Object.assign(t,e),t},OW=n=>n?PE(n):PE;let Rf=0;const kW=OW(n=>(Gc.onStart=(e,t,i)=>{n({active:!0,item:e,loaded:t,total:i,progress:(t-Rf)/(i-Rf)*100})},Gc.onLoad=()=>{n({active:!1})},Gc.onError=e=>n(t=>({errors:[...t.errors,e]})),Gc.onProgress=(e,t,i)=>{t===i&&(Rf=i),n({active:!0,item:e,loaded:t,total:i,progress:(t-Rf)/(i-Rf)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),FW=parseInt(Bu.replace(/\D+/g,""));function RE(n,e){if(e===jB)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===Hg||e===ES){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(t)if(e===Hg)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var NW=Object.defineProperty,zW=(n,e,t)=>e in n?NW(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,UW=(n,e,t)=>(zW(n,typeof e!="symbol"?e+"":e,t),t);class GW{constructor(){UW(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}var HW=Object.defineProperty,VW=(n,e,t)=>e in n?HW(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,st=(n,e,t)=>(VW(n,typeof e!="symbol"?e+"":e,t),t);const Im=new Du,BE=new Hs,WW=Math.cos(70*(Math.PI/180)),LE=(n,e)=>(n%e+e)%e;let jW=class extends GW{constructor(e,t){super(),st(this,"object"),st(this,"domElement"),st(this,"enabled",!0),st(this,"target",new I),st(this,"minDistance",0),st(this,"maxDistance",1/0),st(this,"minZoom",0),st(this,"maxZoom",1/0),st(this,"minPolarAngle",0),st(this,"maxPolarAngle",Math.PI),st(this,"minAzimuthAngle",-1/0),st(this,"maxAzimuthAngle",1/0),st(this,"enableDamping",!1),st(this,"dampingFactor",.05),st(this,"enableZoom",!0),st(this,"zoomSpeed",1),st(this,"enableRotate",!0),st(this,"rotateSpeed",1),st(this,"enablePan",!0),st(this,"panSpeed",1),st(this,"screenSpacePanning",!0),st(this,"keyPanSpeed",7),st(this,"zoomToCursor",!1),st(this,"autoRotate",!1),st(this,"autoRotateSpeed",2),st(this,"reverseOrbit",!1),st(this,"reverseHorizontalOrbit",!1),st(this,"reverseVerticalOrbit",!1),st(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),st(this,"mouseButtons",{LEFT:ja.ROTATE,MIDDLE:ja.DOLLY,RIGHT:ja.PAN}),st(this,"touches",{ONE:Ja.ROTATE,TWO:Ja.DOLLY_PAN}),st(this,"target0"),st(this,"position0"),st(this,"zoom0"),st(this,"_domElementKeyEvents",null),st(this,"getPolarAngle"),st(this,"getAzimuthalAngle"),st(this,"setPolarAngle"),st(this,"setAzimuthalAngle"),st(this,"getDistance"),st(this,"getZoomScale"),st(this,"listenToKeyEvents"),st(this,"stopListenToKeyEvents"),st(this,"saveState"),st(this,"reset"),st(this,"update"),st(this,"connect"),st(this,"dispose"),st(this,"dollyIn"),st(this,"dollyOut"),st(this,"getScale"),st(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=Y=>{let ye=LE(Y,2*Math.PI),Ge=d.phi;Ge<0&&(Ge+=2*Math.PI),ye<0&&(ye+=2*Math.PI);let j=Math.abs(ye-Ge);2*Math.PI-j<j&&(ye<Ge?ye+=2*Math.PI:Ge+=2*Math.PI),h.phi=ye-Ge,i.update()},this.setAzimuthalAngle=Y=>{let ye=LE(Y,2*Math.PI),Ge=d.theta;Ge<0&&(Ge+=2*Math.PI),ye<0&&(ye+=2*Math.PI);let j=Math.abs(ye-Ge);2*Math.PI-j<j&&(ye<Ge?ye+=2*Math.PI:Ge+=2*Math.PI),h.theta=ye-Ge,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=Y=>{Y.addEventListener("keydown",Qe),this._domElementKeyEvents=Y},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Qe),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=a.NONE},this.update=(()=>{const Y=new I,ye=new I(0,1,0),Ge=new qn().setFromUnitVectors(e.up,ye),j=Ge.clone().invert(),le=new I,xe=new qn,Le=2*Math.PI;return function(){const Nt=i.object.position;Ge.setFromUnitVectors(e.up,ye),j.copy(Ge).invert(),Y.copy(Nt).sub(i.target),Y.applyQuaternion(Ge),d.setFromVector3(Y),i.autoRotate&&l===a.NONE&&G(V()),i.enableDamping?(d.theta+=h.theta*i.dampingFactor,d.phi+=h.phi*i.dampingFactor):(d.theta+=h.theta,d.phi+=h.phi);let zt=i.minAzimuthAngle,jt=i.maxAzimuthAngle;isFinite(zt)&&isFinite(jt)&&(zt<-Math.PI?zt+=Le:zt>Math.PI&&(zt-=Le),jt<-Math.PI?jt+=Le:jt>Math.PI&&(jt-=Le),zt<=jt?d.theta=Math.max(zt,Math.min(jt,d.theta)):d.theta=d.theta>(zt+jt)/2?Math.max(zt,d.theta):Math.min(jt,d.theta)),d.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,d.phi)),d.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(m,i.dampingFactor):i.target.add(m),i.zoomToCursor&&R||i.object.isOrthographicCamera?d.radius=ie(d.radius):d.radius=ie(d.radius*p),Y.setFromSpherical(d),Y.applyQuaternion(j),Nt.copy(i.target).add(Y),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(h.theta*=1-i.dampingFactor,h.phi*=1-i.dampingFactor,m.multiplyScalar(1-i.dampingFactor)):(h.set(0,0,0),m.set(0,0,0));let Nn=!1;if(i.zoomToCursor&&R){let Ut=null;if(i.object instanceof on&&i.object.isPerspectiveCamera){const bn=Y.length();Ut=ie(bn*p);const Zn=bn-Ut;i.object.position.addScaledVector(B,Zn),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const bn=new I(C.x,C.y,0);bn.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix(),Nn=!0;const Zn=new I(C.x,C.y,0);Zn.unproject(i.object),i.object.position.sub(Zn).add(bn),i.object.updateMatrixWorld(),Ut=Y.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;Ut!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(Ut).add(i.object.position):(Im.origin.copy(i.object.position),Im.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(Im.direction))<WW?e.lookAt(i.target):(BE.setFromNormalAndCoplanarPoint(i.object.up,i.target),Im.intersectPlane(BE,i.target))))}else i.object instanceof qr&&i.object.isOrthographicCamera&&(Nn=p!==1,Nn&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix()));return p=1,R=!1,Nn||le.distanceToSquared(i.object.position)>c||8*(1-xe.dot(i.object.quaternion))>c?(i.dispatchEvent(r),le.copy(i.object.position),xe.copy(i.object.quaternion),Nn=!1,!0):!1}})(),this.connect=Y=>{i.domElement=Y,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",tt),i.domElement.addEventListener("pointerdown",U),i.domElement.addEventListener("pointercancel",ae),i.domElement.addEventListener("wheel",Pe)},this.dispose=()=>{var Y,ye,Ge,j,le,xe;i.domElement&&(i.domElement.style.touchAction="auto"),(Y=i.domElement)==null||Y.removeEventListener("contextmenu",tt),(ye=i.domElement)==null||ye.removeEventListener("pointerdown",U),(Ge=i.domElement)==null||Ge.removeEventListener("pointercancel",ae),(j=i.domElement)==null||j.removeEventListener("wheel",Pe),(le=i.domElement)==null||le.ownerDocument.removeEventListener("pointermove",D),(xe=i.domElement)==null||xe.ownerDocument.removeEventListener("pointerup",ae),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",Qe)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,d=new G1,h=new G1;let p=1;const m=new I,y=new pe,g=new pe,x=new pe,w=new pe,_=new pe,S=new pe,M=new pe,T=new pe,E=new pe,B=new I,C=new pe;let R=!1;const L=[],O={};function V(){return 2*Math.PI/60/60*i.autoRotateSpeed}function H(){return Math.pow(.95,i.zoomSpeed)}function G(Y){i.reverseOrbit||i.reverseHorizontalOrbit?h.theta+=Y:h.theta-=Y}function $(Y){i.reverseOrbit||i.reverseVerticalOrbit?h.phi+=Y:h.phi-=Y}const ee=(()=>{const Y=new I;return function(Ge,j){Y.setFromMatrixColumn(j,0),Y.multiplyScalar(-Ge),m.add(Y)}})(),oe=(()=>{const Y=new I;return function(Ge,j){i.screenSpacePanning===!0?Y.setFromMatrixColumn(j,1):(Y.setFromMatrixColumn(j,0),Y.crossVectors(i.object.up,Y)),Y.multiplyScalar(Ge),m.add(Y)}})(),k=(()=>{const Y=new I;return function(Ge,j){const le=i.domElement;if(le&&i.object instanceof on&&i.object.isPerspectiveCamera){const xe=i.object.position;Y.copy(xe).sub(i.target);let Le=Y.length();Le*=Math.tan(i.object.fov/2*Math.PI/180),ee(2*Ge*Le/le.clientHeight,i.object.matrix),oe(2*j*Le/le.clientHeight,i.object.matrix)}else le&&i.object instanceof qr&&i.object.isOrthographicCamera?(ee(Ge*(i.object.right-i.object.left)/i.object.zoom/le.clientWidth,i.object.matrix),oe(j*(i.object.top-i.object.bottom)/i.object.zoom/le.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function K(Y){i.object instanceof on&&i.object.isPerspectiveCamera||i.object instanceof qr&&i.object.isOrthographicCamera?p=Y:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function J(Y){K(p/Y)}function te(Y){K(p*Y)}function X(Y){if(!i.zoomToCursor||!i.domElement)return;R=!0;const ye=i.domElement.getBoundingClientRect(),Ge=Y.clientX-ye.left,j=Y.clientY-ye.top,le=ye.width,xe=ye.height;C.x=Ge/le*2-1,C.y=-(j/xe)*2+1,B.set(C.x,C.y,1).unproject(i.object).sub(i.object.position).normalize()}function ie(Y){return Math.max(i.minDistance,Math.min(i.maxDistance,Y))}function ve(Y){y.set(Y.clientX,Y.clientY)}function q(Y){X(Y),M.set(Y.clientX,Y.clientY)}function we(Y){w.set(Y.clientX,Y.clientY)}function Ae(Y){g.set(Y.clientX,Y.clientY),x.subVectors(g,y).multiplyScalar(i.rotateSpeed);const ye=i.domElement;ye&&(G(2*Math.PI*x.x/ye.clientHeight),$(2*Math.PI*x.y/ye.clientHeight)),y.copy(g),i.update()}function De(Y){T.set(Y.clientX,Y.clientY),E.subVectors(T,M),E.y>0?J(H()):E.y<0&&te(H()),M.copy(T),i.update()}function Fe(Y){_.set(Y.clientX,Y.clientY),S.subVectors(_,w).multiplyScalar(i.panSpeed),k(S.x,S.y),w.copy(_),i.update()}function Ee(Y){X(Y),Y.deltaY<0?te(H()):Y.deltaY>0&&J(H()),i.update()}function _e(Y){let ye=!1;switch(Y.code){case i.keys.UP:k(0,i.keyPanSpeed),ye=!0;break;case i.keys.BOTTOM:k(0,-i.keyPanSpeed),ye=!0;break;case i.keys.LEFT:k(i.keyPanSpeed,0),ye=!0;break;case i.keys.RIGHT:k(-i.keyPanSpeed,0),ye=!0;break}ye&&(Y.preventDefault(),i.update())}function de(){if(L.length==1)y.set(L[0].pageX,L[0].pageY);else{const Y=.5*(L[0].pageX+L[1].pageX),ye=.5*(L[0].pageY+L[1].pageY);y.set(Y,ye)}}function he(){if(L.length==1)w.set(L[0].pageX,L[0].pageY);else{const Y=.5*(L[0].pageX+L[1].pageX),ye=.5*(L[0].pageY+L[1].pageY);w.set(Y,ye)}}function Me(){const Y=L[0].pageX-L[1].pageX,ye=L[0].pageY-L[1].pageY,Ge=Math.sqrt(Y*Y+ye*ye);M.set(0,Ge)}function Ve(){i.enableZoom&&Me(),i.enablePan&&he()}function Re(){i.enableZoom&&Me(),i.enableRotate&&de()}function Ye(Y){if(L.length==1)g.set(Y.pageX,Y.pageY);else{const Ge=qe(Y),j=.5*(Y.pageX+Ge.x),le=.5*(Y.pageY+Ge.y);g.set(j,le)}x.subVectors(g,y).multiplyScalar(i.rotateSpeed);const ye=i.domElement;ye&&(G(2*Math.PI*x.x/ye.clientHeight),$(2*Math.PI*x.y/ye.clientHeight)),y.copy(g)}function Ke(Y){if(L.length==1)_.set(Y.pageX,Y.pageY);else{const ye=qe(Y),Ge=.5*(Y.pageX+ye.x),j=.5*(Y.pageY+ye.y);_.set(Ge,j)}S.subVectors(_,w).multiplyScalar(i.panSpeed),k(S.x,S.y),w.copy(_)}function et(Y){const ye=qe(Y),Ge=Y.pageX-ye.x,j=Y.pageY-ye.y,le=Math.sqrt(Ge*Ge+j*j);T.set(0,le),E.set(0,Math.pow(T.y/M.y,i.zoomSpeed)),J(E.y),M.copy(T)}function wt(Y){i.enableZoom&&et(Y),i.enablePan&&Ke(Y)}function Et(Y){i.enableZoom&&et(Y),i.enableRotate&&Ye(Y)}function U(Y){var ye,Ge;i.enabled!==!1&&(L.length===0&&((ye=i.domElement)==null||ye.ownerDocument.addEventListener("pointermove",D),(Ge=i.domElement)==null||Ge.ownerDocument.addEventListener("pointerup",ae)),Je(Y),Y.pointerType==="touch"?Ue(Y):be(Y))}function D(Y){i.enabled!==!1&&(Y.pointerType==="touch"?ge(Y):Ce(Y))}function ae(Y){var ye,Ge,j;ot(Y),L.length===0&&((ye=i.domElement)==null||ye.releasePointerCapture(Y.pointerId),(Ge=i.domElement)==null||Ge.ownerDocument.removeEventListener("pointermove",D),(j=i.domElement)==null||j.ownerDocument.removeEventListener("pointerup",ae)),i.dispatchEvent(o),l=a.NONE}function be(Y){let ye;switch(Y.button){case 0:ye=i.mouseButtons.LEFT;break;case 1:ye=i.mouseButtons.MIDDLE;break;case 2:ye=i.mouseButtons.RIGHT;break;default:ye=-1}switch(ye){case ja.DOLLY:if(i.enableZoom===!1)return;q(Y),l=a.DOLLY;break;case ja.ROTATE:if(Y.ctrlKey||Y.metaKey||Y.shiftKey){if(i.enablePan===!1)return;we(Y),l=a.PAN}else{if(i.enableRotate===!1)return;ve(Y),l=a.ROTATE}break;case ja.PAN:if(Y.ctrlKey||Y.metaKey||Y.shiftKey){if(i.enableRotate===!1)return;ve(Y),l=a.ROTATE}else{if(i.enablePan===!1)return;we(Y),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Ce(Y){if(i.enabled!==!1)switch(l){case a.ROTATE:if(i.enableRotate===!1)return;Ae(Y);break;case a.DOLLY:if(i.enableZoom===!1)return;De(Y);break;case a.PAN:if(i.enablePan===!1)return;Fe(Y);break}}function Pe(Y){i.enabled===!1||i.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(Y.preventDefault(),i.dispatchEvent(s),Ee(Y),i.dispatchEvent(o))}function Qe(Y){i.enabled===!1||i.enablePan===!1||_e(Y)}function Ue(Y){switch(nt(Y),L.length){case 1:switch(i.touches.ONE){case Ja.ROTATE:if(i.enableRotate===!1)return;de(),l=a.TOUCH_ROTATE;break;case Ja.PAN:if(i.enablePan===!1)return;he(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(i.touches.TWO){case Ja.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Ve(),l=a.TOUCH_DOLLY_PAN;break;case Ja.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Re(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function ge(Y){switch(nt(Y),l){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;Ye(Y),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;Ke(Y),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;wt(Y),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Et(Y),i.update();break;default:l=a.NONE}}function tt(Y){i.enabled!==!1&&Y.preventDefault()}function Je(Y){L.push(Y)}function ot(Y){delete O[Y.pointerId];for(let ye=0;ye<L.length;ye++)if(L[ye].pointerId==Y.pointerId){L.splice(ye,1);return}}function nt(Y){let ye=O[Y.pointerId];ye===void 0&&(ye=new pe,O[Y.pointerId]=ye),ye.set(Y.pageX,Y.pageY)}function qe(Y){const ye=Y.pointerId===L[0].pointerId?L[1]:L[0];return O[ye.pointerId]}this.dollyIn=(Y=H())=>{te(Y),i.update()},this.dollyOut=(Y=H())=>{J(Y),i.update()},this.getScale=()=>p,this.setScale=Y=>{K(Y),i.update()},this.getZoomScale=()=>H(),t!==void 0&&this.connect(t),this.update()}};function Jg(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,i=n.length;t<i;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const al="srgb",$s="srgb-linear",DE=3001,JW=3e3;class gA extends Di{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new qW(t)}),this.register(function(t){return new ZW(t)}),this.register(function(t){return new a7(t)}),this.register(function(t){return new l7(t)}),this.register(function(t){return new c7(t)}),this.register(function(t){return new e7(t)}),this.register(function(t){return new t7(t)}),this.register(function(t){return new n7(t)}),this.register(function(t){return new i7(t)}),this.register(function(t){return new QW(t)}),this.register(function(t){return new r7(t)}),this.register(function(t){return new $W(t)}),this.register(function(t){return new o7(t)}),this.register(function(t){return new s7(t)}),this.register(function(t){return new KW(t)}),this.register(function(t){return new u7(t)}),this.register(function(t){return new f7(t)})}load(e,t,i,r){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const c=ea.extractUrlBase(e);o=ea.resolveURL(c,this.path)}else o=ea.extractUrlBase(e);this.manager.itemStart(e);const a=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new sr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(d){t(d),s.manager.itemEnd(e)},a)}catch(d){a(d)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Jg(new Uint8Array(e.slice(0,4)))===xD){try{o[bt.KHR_BINARY_GLTF]=new d7(e)}catch(d){r&&r(d);return}s=JSON.parse(o[bt.KHR_BINARY_GLTF].content)}else s=JSON.parse(Jg(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new b7(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const d=this.pluginCallbacks[c](l);d.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[d.name]=d,o[d.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const d=s.extensionsUsed[c],h=s.extensionsRequired||[];switch(d){case bt.KHR_MATERIALS_UNLIT:o[d]=new YW;break;case bt.KHR_DRACO_MESH_COMPRESSION:o[d]=new h7(s,this.dracoLoader);break;case bt.KHR_TEXTURE_TRANSFORM:o[d]=new p7;break;case bt.KHR_MESH_QUANTIZATION:o[d]=new m7;break;default:h.indexOf(d)>=0&&a[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function XW(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const bt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class KW{constructor(e){this.parser=e,this.name=bt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const d=new Oe(16777215);l.color!==void 0&&d.setRGB(l.color[0],l.color[1],l.color[2],$s);const h=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new oA(d),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new sA(d),c.distance=h;break;case"spot":c=new rA(d),c.distance=h,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,Us(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class YW{constructor(){this.name=bt.KHR_MATERIALS_UNLIT}getMaterialType(){return tr}extendParams(e,t,i){const r=[];e.color=new Oe(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],$s),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,al))}return Promise.all(r)}}class QW{constructor(e){this.parser=e,this.name=bt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class qW{constructor(e){this.parser=e,this.name=bt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Br}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new pe(a,a)}return Promise.all(s)}}class ZW{constructor(e){this.parser=e,this.name=bt.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Br}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class $W{constructor(e){this.parser=e,this.name=bt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Br}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class e7{constructor(e){this.parser=e,this.name=bt.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Br}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Oe(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],$s)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,al)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class t7{constructor(e){this.parser=e,this.name=bt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Br}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class n7{constructor(e){this.parser=e,this.name=bt.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Br}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Oe().setRGB(a[0],a[1],a[2],$s),Promise.all(s)}}class i7{constructor(e){this.parser=e,this.name=bt.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Br}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class r7{constructor(e){this.parser=e,this.name=bt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Br}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Oe().setRGB(a[0],a[1],a[2],$s),o.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,al)),Promise.all(s)}}class s7{constructor(e){this.parser=e,this.name=bt.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Br}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(i.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(s)}}class o7{constructor(e){this.parser=e,this.name=bt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Br}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(i.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class a7{constructor(e){this.parser=e,this.name=bt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class l7{constructor(e){this.parser=e,this.name=bt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class c7{constructor(e){this.parser=e,this.name=bt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class u7{constructor(e){this.name=bt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,c=r.byteLength||0,d=r.count,h=r.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(d,h,p,r.mode,r.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(d*h);return o.decodeGltfBuffer(new Uint8Array(m),d,h,p,r.mode,r.filter),m})})}else return null}}class f7{constructor(e){this.name=bt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const c of r.primitives)if(c.mode!==wr.TRIANGLES&&c.mode!==wr.TRIANGLE_STRIP&&c.mode!==wr.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=i.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(d=>(l[c]=d,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const d=c.pop(),h=d.isGroup?d.children:[d],p=c[0].count,m=[];for(const y of h){const g=new ct,x=new I,w=new qn,_=new I(1,1,1),S=new HS(y.geometry,y.material,p);for(let M=0;M<p;M++)l.TRANSLATION&&x.fromBufferAttribute(l.TRANSLATION,M),l.ROTATION&&w.fromBufferAttribute(l.ROTATION,M),l.SCALE&&_.fromBufferAttribute(l.SCALE,M),S.setMatrixAt(M,g.compose(x,w,_));for(const M in l)if(M==="_COLOR_0"){const T=l[M];S.instanceColor=new bl(T.array,T.itemSize,T.normalized)}else M!=="TRANSLATION"&&M!=="ROTATION"&&M!=="SCALE"&&y.geometry.setAttribute(M,l[M]);Bt.prototype.copy.call(S,y),this.parser.assignFinalMaterial(S),m.push(S)}return d.isGroup?(d.clear(),d.add(...m),d):m[0]}))}}const xD="glTF",Bf=12,IE={JSON:1313821514,BIN:5130562};class d7{constructor(e){this.name=bt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Bf);if(this.header={magic:Jg(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==xD)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-Bf,r=new DataView(e,Bf);let s=0;for(;s<i;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===IE.JSON){const l=new Uint8Array(e,Bf+s,o);this.content=Jg(l)}else if(a===IE.BIN){const l=Bf+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class h7{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=bt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const d in o){const h=X1[d]||d.toLowerCase();a[h]=o[d]}for(const d in e.attributes){const h=X1[d]||d.toLowerCase();if(o[d]!==void 0){const p=i.accessors[e.attributes[d]],m=nu[p.componentType];c[h]=m.name,l[h]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(d){return new Promise(function(h,p){r.decodeDracoFile(d,function(m){for(const y in m.attributes){const g=m.attributes[y],x=l[y];x!==void 0&&(g.normalized=x)}h(m)},a,c,$s,p)})})}}class p7{constructor(){this.name=bt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class m7{constructor(){this.name=bt.KHR_MESH_QUANTIZATION}}class _D extends zu{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,d=r-t,h=(i-t)/d,p=h*h,m=p*h,y=e*c,g=y-c,x=-2*m+3*p,w=m-p,_=1-x,S=w-p+h;for(let M=0;M!==a;M++){const T=o[g+M+a],E=o[g+M+l]*d,B=o[y+M+a],C=o[y+M]*d;s[M]=_*T+S*E+x*B+w*C}return s}}const g7=new qn;class v7 extends _D{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return g7.fromArray(s).normalize().toArray(s),s}}const wr={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},nu={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},OE={9728:An,9729:fn,9984:Ed,9985:I0,9986:$c,9987:Ss},kE={33071:ni,33648:hu,10497:la},Lx={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},X1={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...FW>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Po={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},y7={CUBICSPLINE:void 0,LINEAR:Ml,STEP:mu},Dx={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function x7(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new vh({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:ws})),n.DefaultMaterial}function Ua(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function Us(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function _7(n,e,t){let i=!1,r=!1,s=!1;for(let c=0,d=e.length;c<d;c++){const h=e[c];if(h.POSITION!==void 0&&(i=!0),h.NORMAL!==void 0&&(r=!0),h.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,d=e.length;c<d;c++){const h=e[c];if(i){const p=h.POSITION!==void 0?t.getDependency("accessor",h.POSITION):n.attributes.position;o.push(p)}if(r){const p=h.NORMAL!==void 0?t.getDependency("accessor",h.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=h.COLOR_0!==void 0?t.getDependency("accessor",h.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const d=c[0],h=c[1],p=c[2];return i&&(n.morphAttributes.position=d),r&&(n.morphAttributes.normal=h),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function w7(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function S7(n){let e;const t=n.extensions&&n.extensions[bt.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+Ix(t.attributes):e=n.indices+":"+Ix(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,r=n.targets.length;i<r;i++)e+=":"+Ix(n.targets[i]);return e}function Ix(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function K1(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function A7(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const M7=new ct;class b7{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new XW,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&s<98?this.textureLoader=new FL(this.options.manager):this.textureLoader=new WL(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new sr(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};return Ua(s,a,r),Us(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,d]of o.children.entries())s(d,a.children[c])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[bt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(ea.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=Lx[r.type],a=nu[r.componentType],l=r.normalized===!0,c=new a(r.count*o);return Promise.resolve(new Ft(c,o,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=Lx[r.type],c=nu[r.componentType],d=c.BYTES_PER_ELEMENT,h=d*l,p=r.byteOffset||0,m=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,y=r.normalized===!0;let g,x;if(m&&m!==h){const w=Math.floor(p/m),_="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+w+":"+r.count;let S=t.cache.get(_);S||(g=new c(a,w*m,r.count*m/d),S=new nh(g,m/d),t.cache.add(_,S)),x=new ua(S,l,p%m/d,y)}else a===null?g=new c(r.count*l):g=new c(a,p,r.count*l),x=new Ft(g,l,y);if(r.sparse!==void 0){const w=Lx.SCALAR,_=nu[r.sparse.indices.componentType],S=r.sparse.indices.byteOffset||0,M=r.sparse.values.byteOffset||0,T=new _(o[1],S,r.sparse.count*w),E=new c(o[2],M,r.sparse.count*l);a!==null&&(x=new Ft(x.array.slice(),x.itemSize,x.normalized));for(let B=0,C=T.length;B<C;B++){const R=T[B];if(x.setX(R,E[B*l]),l>=2&&x.setY(R,E[B*l+1]),l>=3&&x.setZ(R,E[B*l+2]),l>=4&&x.setW(R,E[B*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return x})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,i).then(function(d){d.flipY=!1,d.name=o.name||a.name||"",d.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(d.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return d.magFilter=OE[p.magFilter]||fn,d.minFilter=OE[p.minFilter]||Ss,d.wrapS=kE[p.wrapS]||la,d.wrapT=kE[p.wrapT]||la,r.associations.set(d,{textures:e}),d}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(h){c=!0;const p=new Blob([h],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const d=Promise.resolve(l).then(function(h){return new Promise(function(p,m){let y=p;t.isImageBitmapLoader===!0&&(y=function(g){const x=new an(g);x.needsUpdate=!0,p(x)}),t.load(ea.resolveURL(h,s.path),y,void 0,m)})}).then(function(h){return c===!0&&a.revokeObjectURL(l),Us(h,o),h.userData.mimeType=o.mimeType||A7(o.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),h});return this.sourceCache[e]=d,d}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),s.extensions[bt.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[bt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[bt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&(typeof r=="number"&&(r=r===DE?al:$s),"colorSpace"in o?o.colorSpace=r:o.encoding=r===al?DE:JW),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new rh,Fn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new xi,Fn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return vh}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[bt.KHR_MATERIALS_UNLIT]){const h=r[bt.KHR_MATERIALS_UNLIT];o=h.getMaterialType(),c.push(h.extendParams(a,s,t))}else{const h=s.pbrMetallicRoughness||{};if(a.color=new Oe(1,1,1),a.opacity=1,Array.isArray(h.baseColorFactor)){const p=h.baseColorFactor;a.color.setRGB(p[0],p[1],p[2],$s),a.opacity=p[3]}h.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",h.baseColorTexture,al)),a.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,a.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",h.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",h.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Xr);const d=s.alphaMode||Dx.OPAQUE;if(d===Dx.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,d===Dx.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==tr&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new pe(1,1),s.normalTexture.scale!==void 0)){const h=s.normalTexture.scale;a.normalScale.set(h,h)}if(s.occlusionTexture!==void 0&&o!==tr&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==tr){const h=s.emissiveFactor;a.emissive=new Oe().setRGB(h[0],h[1],h[2],$s)}return s.emissiveTexture!==void 0&&o!==tr&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,al)),Promise.all(c).then(function(){const h=new o(a);return s.name&&(h.name=s.name),Us(h,s),t.associations.set(h,{materials:e}),s.extensions&&Ua(r,h,s),h})}createUniqueName(e){const t=Rt.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[bt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return FE(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],d=S7(c),h=r[d];if(h)o.push(h.promise);else{let p;c.extensions&&c.extensions[bt.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=FE(new ht,c,t),r[d]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const d=o[l].material===void 0?x7(this.cache):this.getDependency("material",o[l].material);a.push(d)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),d=l[l.length-1],h=[];for(let m=0,y=d.length;m<y;m++){const g=d[m],x=o[m];let w;const _=c[m];if(x.mode===wr.TRIANGLES||x.mode===wr.TRIANGLE_STRIP||x.mode===wr.TRIANGLE_FAN||x.mode===void 0)w=s.isSkinnedMesh===!0?new GS(g,_):new Yn(g,_),w.isSkinnedMesh===!0&&w.normalizeSkinWeights(),x.mode===wr.TRIANGLE_STRIP?w.geometry=RE(w.geometry,ES):x.mode===wr.TRIANGLE_FAN&&(w.geometry=RE(w.geometry,Hg));else if(x.mode===wr.LINES)w=new es(g,_);else if(x.mode===wr.LINE_STRIP)w=new ao(g,_);else if(x.mode===wr.LINE_LOOP)w=new VS(g,_);else if(x.mode===wr.POINTS)w=new WS(g,_);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+x.mode);Object.keys(w.geometry.morphAttributes).length>0&&w7(w,s),w.name=t.createUniqueName(s.name||"mesh_"+e),Us(w,s),x.extensions&&Ua(r,w,x),t.assignFinalMaterial(w),h.push(w)}for(let m=0,y=h.length;m<y;m++)t.associations.set(h[m],{meshes:e,primitives:m});if(h.length===1)return s.extensions&&Ua(r,h[0],s),h[0];const p=new Ks;s.extensions&&Ua(r,p,s),t.associations.set(p,{meshes:e});for(let m=0,y=h.length;m<y;m++)p.add(h[m]);return p})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new on(ZB.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new qr(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),Us(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,s=t.joints.length;r<s;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const s=r.pop(),o=r,a=[],l=[];for(let c=0,d=o.length;c<d;c++){const h=o[c];if(h){a.push(h);const p=new ct;s!==null&&p.fromArray(s.array,c*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new ih(a,l)})}loadAnimation(e){const t=this.json,i=this,r=t.animations[e],s=r.name?r.name:"animation_"+e,o=[],a=[],l=[],c=[],d=[];for(let h=0,p=r.channels.length;h<p;h++){const m=r.channels[h],y=r.samplers[m.sampler],g=m.target,x=g.node,w=r.parameters!==void 0?r.parameters[y.input]:y.input,_=r.parameters!==void 0?r.parameters[y.output]:y.output;g.node!==void 0&&(o.push(this.getDependency("node",x)),a.push(this.getDependency("accessor",w)),l.push(this.getDependency("accessor",_)),c.push(y),d.push(g))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(d)]).then(function(h){const p=h[0],m=h[1],y=h[2],g=h[3],x=h[4],w=[];for(let _=0,S=p.length;_<S;_++){const M=p[_],T=m[_],E=y[_],B=g[_],C=x[_];if(M===void 0)continue;M.updateMatrix&&M.updateMatrix();const R=i._createAnimationTracks(M,T,E,B,C);if(R)for(let L=0;L<R.length;L++)w.push(R[L])}return new yu(s,void 0,w)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=r.weights.length;l<c;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],s=i._loadNodeShallow(e),o=[],a=r.children||[];for(let c=0,d=a.length;c<d;c++)o.push(i.getDependency("node",a[c]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const d=c[0],h=c[1],p=c[2];p!==null&&d.traverse(function(m){m.isSkinnedMesh&&m.bind(p,M7)});for(let m=0,y=h.length;m<y;m++)d.add(h[m]);return d})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let d;if(s.isBone===!0?d=new H0:c.length>1?d=new Ks:c.length===1?d=c[0]:d=new Bt,d!==c[0])for(let h=0,p=c.length;h<p;h++)d.add(c[h]);if(s.name&&(d.userData.name=s.name,d.name=o),Us(d,s),s.extensions&&Ua(i,d,s),s.matrix!==void 0){const h=new ct;h.fromArray(s.matrix),d.applyMatrix4(h)}else s.translation!==void 0&&d.position.fromArray(s.translation),s.rotation!==void 0&&d.quaternion.fromArray(s.rotation),s.scale!==void 0&&d.scale.fromArray(s.scale);return r.associations.has(d)||r.associations.set(d,{}),r.associations.get(d).nodes=e,d}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,s=new Ks;i.name&&(s.name=r.createUniqueName(i.name)),Us(s,i),i.extensions&&Ua(t,s,i);const o=i.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(r.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let d=0,h=l.length;d<h;d++)s.add(l[d]);const c=d=>{const h=new Map;for(const[p,m]of r.associations)(p instanceof Fn||p instanceof an)&&h.set(p,m);return d.traverse(p=>{const m=r.associations.get(p);m!=null&&h.set(p,m)}),h};return r.associations=c(s),s})}_createAnimationTracks(e,t,i,r,s){const o=[],a=e.name?e.name:e.uuid,l=[];Po[s.path]===Po.weights?e.traverse(function(p){p.morphTargetInfluences&&l.push(p.name?p.name:p.uuid)}):l.push(a);let c;switch(Po[s.path]){case Po.weights:c=Tl;break;case Po.rotation:c=fa;break;case Po.position:case Po.scale:c=El;break;default:switch(i.itemSize){case 1:c=Tl;break;case 2:case 3:default:c=El;break}break}const d=r.interpolation!==void 0?y7[r.interpolation]:Ml,h=this._getArrayFromAccessor(i);for(let p=0,m=l.length;p<m;p++){const y=new c(l[p]+"."+Po[s.path],t.array,h,d);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(y),o.push(y)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=K1(t.constructor),r=new Float32Array(t.length);for(let s=0,o=t.length;s<o;s++)r[s]=t[s]*i;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const r=this instanceof fa?v7:_D;return new r(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function C7(n,e,t){const i=e.attributes,r=new ya;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(r.set(new I(l[0],l[1],l[2]),new I(c[0],c[1],c[2])),a.normalized){const d=K1(nu[a.componentType]);r.min.multiplyScalar(d),r.max.multiplyScalar(d)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new I,l=new I;for(let c=0,d=s.length;c<d;c++){const h=s[c];if(h.POSITION!==void 0){const p=t.json.accessors[h.POSITION],m=p.min,y=p.max;if(m!==void 0&&y!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(y[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(y[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(y[2]))),p.normalized){const g=K1(nu[p.componentType]);l.multiplyScalar(g)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new xa;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function FE(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=X1[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return Us(n,e),C7(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?_7(n,e.targets,t):n})}const Ox=new WeakMap;class T7 extends Di{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const s=new sr(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const i=JSON.stringify(t);if(Ox.has(e)){const l=Ox.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((c,d)=>{r._callbacks[s]={resolve:c,reject:d},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),Ox.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new ht;e.index&&t.setIndex(new Ft(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize;t.setAttribute(s,new Ft(o,a))}return t}_loadLibrary(e,t){const i=new sr(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=E7.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function E7(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(d){n.onModuleLoaded=function(h){d({draco:h})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(d=>{const h=d.draco,p=new h.Decoder,m=new h.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const y=t(h,p,m,c),g=y.attributes.map(x=>x.array.buffer);y.index&&g.push(y.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:y},g)}catch(y){console.error(y),self.postMessage({type:"error",id:a.id,error:y.message})}finally{h.destroy(m),h.destroy(p)}});break}};function t(o,a,l,c){const d=c.attributeIDs,h=c.attributeTypes;let p,m;const y=a.GetEncodedGeometryType(l);if(y===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(y===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const g={index:null,attributes:[]};for(const x in d){const w=self[h[x]];let _,S;if(c.useUniqueIDs)S=d[x],_=a.GetAttributeByUniqueId(p,S);else{if(S=a.GetAttributeId(p,o[d[x]]),S===-1)continue;_=a.GetAttribute(p,S)}g.attributes.push(r(o,a,p,x,w,_))}return y===o.TRIANGULAR_MESH&&(g.index=i(o,a,p)),o.destroy(p),g}function i(o,a,l){const d=l.num_faces()*3,h=d*4,p=o._malloc(h);a.GetTrianglesUInt32Array(l,h,p);const m=new Uint32Array(o.HEAPF32.buffer,p,d).slice();return o._free(p),{array:m,itemSize:1}}function r(o,a,l,c,d,h){const p=h.num_components(),y=l.num_points()*p,g=y*d.BYTES_PER_ELEMENT,x=s(o,d),w=o._malloc(g);a.GetAttributeDataArrayForAllPoints(l,h,x,g,w);const _=new d(o.HEAPF32.buffer,w,y).slice();return o._free(w),{name:c,array:_,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Om;const kx=()=>{if(Om)return Om;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(h=>{s=h.instance,s.exports.__wasm_call_ctors()});function a(h){const p=new Uint8Array(h.length);for(let y=0;y<h.length;++y){const g=h.charCodeAt(y);p[y]=g>96?g-71:g>64?g-65:g>47?g+4:g>46?63:62}let m=0;for(let y=0;y<h.length;++y)p[m++]=p[y]<60?i[p[y]]:(p[y]-60)*64+p[++y];return p.buffer.slice(0,m)}function l(h,p,m,y,g,x){const w=s.exports.sbrk,_=m+3&-4,S=w(_*y),M=w(g.length),T=new Uint8Array(s.exports.memory.buffer);T.set(g,M);const E=h(S,m,y,M,g.length);if(E===0&&x&&x(S,_,y),p.set(T.subarray(S,S+m*y)),w(S-w(0)),E!==0)throw new Error(`Malformed buffer data: ${E}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},d={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Om={ready:o,supported:!0,decodeVertexBuffer(h,p,m,y,g){l(s.exports.meshopt_decodeVertexBuffer,h,p,m,y,s.exports[c[g]])},decodeIndexBuffer(h,p,m,y){l(s.exports.meshopt_decodeIndexBuffer,h,p,m,y)},decodeIndexSequence(h,p,m,y){l(s.exports.meshopt_decodeIndexSequence,h,p,m,y)},decodeGltfBuffer(h,p,m,y,g,x){l(s.exports[d[g]],h,p,m,y,s.exports[c[x]])}},Om},P7=()=>parseInt(Bu.replace(/\D+/g,"")),wD=P7();let km=null,SD="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function AD(n=!0,e=!0,t){return i=>{t&&t(i),n&&(km||(km=new T7),km.setDecoderPath(typeof n=="string"?n:SD),i.setDRACOLoader(km)),e&&i.setMeshoptDecoder(typeof kx=="function"?kx():kx)}}const Sh=(n,e,t,i)=>_h(gA,n,AD(e,t,i));Sh.preload=(n,e,t,i)=>_h.preload(gA,n,AD(e,t,i));Sh.clear=n=>_h.clear(gA,n);Sh.setDecoderPath=n=>{SD=n};const MD=F.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},d)=>{const h=Ar(E=>E.invalidate),p=Ar(E=>E.camera),m=Ar(E=>E.gl),y=Ar(E=>E.events),g=Ar(E=>E.setEvents),x=Ar(E=>E.set),w=Ar(E=>E.get),_=Ar(E=>E.performance),S=e||p,M=i||y.connected||m.domElement,T=F.useMemo(()=>new jW(S),[S]);return xh(()=>{T.enabled&&T.update()},-1),F.useEffect(()=>(s&&T.connect(s===!0?M:s),T.connect(M),()=>void T.dispose()),[s,M,t,T,h]),F.useEffect(()=>{const E=R=>{h(),t&&_.regress(),o&&o(R)},B=R=>{a&&a(R)},C=R=>{l&&l(R)};return T.addEventListener("change",E),T.addEventListener("start",B),T.addEventListener("end",C),()=>{T.removeEventListener("start",B),T.removeEventListener("end",C),T.removeEventListener("change",E)}},[o,a,l,T,h,g]),F.useEffect(()=>{if(n){const E=w().controls;return x({controls:T}),()=>x({controls:E})}},[n,T]),F.createElement("primitive",lo({ref:d,object:T,enableDamping:r},c))});var bD={exports:{}},R7="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",B7=R7,L7=B7;function CD(){}function TD(){}TD.resetWarningCache=CD;var D7=function(){function n(i,r,s,o,a,l){if(l!==L7){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:TD,resetWarningCache:CD};return t.PropTypes=t,t};bD.exports=D7();var ED=bD.exports;const Fx=wD>=154?"opaque_fragment":"output_fragment";class I7 extends rh{constructor(e){super(e),this.onBeforeCompile=(t,i)=>{const{isWebGL2:r}=i.capabilities;t.fragmentShader=t.fragmentShader.replace(`#include <${Fx}>`,`
        ${r?`#include <${Fx}>`:`#extension GL_OES_standard_derivatives : enable
#include <${Fx}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${wD>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const O7=F.forwardRef((n,e)=>{const[t]=F.useState(()=>new I7(null));return F.createElement("primitive",lo({},n,{object:t,ref:e,attach:"material"}))});let Ga,Lf;const k7=F.createContext(null),NE=new ct,zE=new I,F7=F.forwardRef(({children:n,range:e,limit:t=1e3,...i},r)=>{const s=F.useRef(null);F.useImperativeHandle(r,()=>s.current,[]);const[o,a]=F.useState([]),[[l,c,d]]=F.useState(()=>[new Float32Array(t*3),Float32Array.from({length:t*3},()=>1),Float32Array.from({length:t},()=>1)]);F.useEffect(()=>{s.current.geometry.attributes.position.needsUpdate=!0}),xh(()=>{for(s.current.updateMatrix(),s.current.updateMatrixWorld(),NE.copy(s.current.matrixWorld).invert(),s.current.geometry.drawRange.count=Math.min(t,e!==void 0?e:t,o.length),Ga=0;Ga<o.length;Ga++)Lf=o[Ga].current,Lf.getWorldPosition(zE).applyMatrix4(NE),zE.toArray(l,Ga*3),s.current.geometry.attributes.position.needsUpdate=!0,Lf.matrixWorldNeedsUpdate=!0,Lf.color.toArray(c,Ga*3),s.current.geometry.attributes.color.needsUpdate=!0,d.set([Lf.size],Ga),s.current.geometry.attributes.size.needsUpdate=!0});const h=F.useMemo(()=>({getParent:()=>s,subscribe:p=>(a(m=>[...m,p]),()=>a(m=>m.filter(y=>y.current!==p.current)))}),[]);return F.createElement("points",lo({userData:{instances:o},matrixAutoUpdate:!1,ref:s,raycast:()=>null},i),F.createElement("bufferGeometry",null,F.createElement("bufferAttribute",{attach:"attributes-position",count:l.length/3,array:l,itemSize:3,usage:hl}),F.createElement("bufferAttribute",{attach:"attributes-color",count:c.length/3,array:c,itemSize:3,usage:hl}),F.createElement("bufferAttribute",{attach:"attributes-size",count:d.length,array:d,itemSize:1,usage:hl})),F.createElement(k7.Provider,{value:h},n))}),N7=F.forwardRef(({children:n,positions:e,colors:t,sizes:i,stride:r=3,...s},o)=>{const a=F.useRef(null);return F.useImperativeHandle(o,()=>a.current,[]),xh(()=>{const l=a.current.geometry.attributes;l.position.needsUpdate=!0,t&&(l.color.needsUpdate=!0),i&&(l.size.needsUpdate=!0)}),F.createElement("points",lo({ref:a},s),F.createElement("bufferGeometry",null,F.createElement("bufferAttribute",{attach:"attributes-position",count:e.length/r,array:e,itemSize:r,usage:hl}),t&&F.createElement("bufferAttribute",{attach:"attributes-color",count:t.length/r,array:t,itemSize:3,usage:hl}),i&&F.createElement("bufferAttribute",{attach:"attributes-size",count:i.length/r,array:i,itemSize:1,usage:hl})),n)}),z7=F.forwardRef((n,e)=>n.positions instanceof Float32Array?F.createElement(N7,lo({},n,{ref:e})):F.createElement(F7,lo({},n,{ref:e})));function vA({all:n,scene:e,camera:t}){const i=Ar(({gl:o})=>o),r=Ar(({camera:o})=>o),s=Ar(({scene:o})=>o);return F.useLayoutEffect(()=>{const o=[];n&&(e||s).traverse(c=>{c.visible===!1&&(o.push(c),c.visible=!0)}),i.compile(e||s,t||r);const a=new kS(128);new OS(.01,1e5,a).update(i,e||s),a.dispose(),o.forEach(c=>c.visible=!1)},[]),null}const PD=()=>{const{progress:n}=kW();return ze(BW,{as:"div",center:!0,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[W("span",{className:"canvas-loader"}),ze("p",{style:{fontSize:14,color:"#F1F1F1",fontWeight:800,marginTop:40},children:[n.toFixed(2),"%"]})]})},U7=()=>{const n=Sh("./planet/scene.gltf");return W("primitive",{object:n.scene,scale:2.5,"position-y":0,"rotation-y":0})},G7=()=>W(pA,{shadows:!0,frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},camera:{fov:45,near:.1,far:200,position:[-4,3,6]},children:ze(F.Suspense,{fallback:W(PD,{}),children:[W(MD,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),W(U7,{}),W(vA,{all:!0})]})});function iu(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function UE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function GE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?UE(Object(t),!0).forEach(function(i){iu(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):UE(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function RD(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}new pe;new pe;var yr=function n(e,t,i){var r=this;RD(this,n),iu(this,"dot2",function(s,o){return r.x*s+r.y*o}),iu(this,"dot3",function(s,o,a){return r.x*s+r.y*o+r.z*a}),this.x=e,this.y=t,this.z=i},H7=[new yr(1,1,0),new yr(-1,1,0),new yr(1,-1,0),new yr(-1,-1,0),new yr(1,0,1),new yr(-1,0,1),new yr(1,0,-1),new yr(-1,0,-1),new yr(0,1,1),new yr(0,-1,1),new yr(0,1,-1),new yr(0,-1,-1)],HE=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],VE=new Array(512),WE=new Array(512),V7=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var i;t&1?i=HE[t]^e&255:i=HE[t]^e>>8&255,VE[t]=VE[t+256]=i,WE[t]=WE[t+256]=H7[i%12]}};V7(0);function W7(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function jE(n){var e=W7(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var j7=function n(e){var t=this;RD(this,n),iu(this,"seed",0),iu(this,"init",function(i){t.seed=i,t.value=jE(i)}),iu(this,"value",jE(this.seed)),this.init(e)},J7=new j7(Math.random()),X7={radius:1,center:[0,0,0]};function K7(n,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:J7,i=GE(GE({},X7),e),r=i.radius,s=i.center,o=0;o<n.length;o+=3){var a=Math.pow(t.value(),.3333333333333333),l=t.value()*2-1,c=t.value()*2-1,d=t.value()*2-1,h=Math.sqrt(l*l+c*c+d*d);l=a*l/h,c=a*c/h,d=a*d/h,n[o]=l*r+s[0],n[o+1]=c*r+s[1],n[o+2]=d*r+s[2]}return n}const JE=["#f44336","#ffeb3b","#4caf50","#2196f3"],Y7=n=>{const e=F.useRef(),[t]=F.useState(()=>K7(new Float32Array(5e3),{radius:1.2}));return xh((i,r)=>{e.current.rotation.x-=r/10,e.current.rotation.y-=r/15}),W("group",{rotation:[0,0,Math.PI/4],children:W(z7,{ref:e,positions:t,stride:3,frustumCulled:!0,...n,children:W(O7,{transparent:!0,color:JE[Math.floor(Math.random()*JE.length)],size:.005,sizeAttenuation:!0,depthWrite:!1,opacity:.9})})})},Ys=()=>W("div",{className:"w-full h-auto absolute inset-0 z-[-1]",children:ze(pA,{camera:{position:[0,0,1]},children:[W(F.Suspense,{fallback:null,children:W(Y7,{})}),W(vA,{all:!0})]})}),Q7=({isMobile:n})=>{const e=Sh("./astro/scene.gltf");return ze("mesh",{children:[W("hemisphereLight",{intensity:.15,groundColor:"black"}),W("spotLight",{position:[-30,50,10],angle:.12,penumbra:1,intensity:1,castShadow:!0,"shadow-mapSize":1024}),W("pointLight",{intensity:1}),W("primitive",{object:e.scene,scale:n?1.2:1.65,position:n?[0,-2.9,-.2]:[0,-3.25,-1.5],rotation:[-.01,-.5,-.1]})]})},q7=()=>{const[n,e]=F.useState(!1);return F.useEffect(()=>{const t=window.matchMedia("(max-width: 500px)");e(t.matches);const i=r=>{e(r.matches)};return t.addEventListener("change",i),()=>{t.removeEventListener("change",i)}},[]),ze(pA,{frameloop:"demand",shadows:!0,dpr:[1,2],camera:{position:[18,5,5],fov:25},gl:{preserveDrawingBuffer:!0},children:[ze(F.Suspense,{fallback:W(PD,{}),children:[W(MD,{autoRotate:!0,autoRotateSpeed:2,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),W(Q7,{isMobile:n})]}),W(vA,{all:!0})]})},BD=F.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),K0=F.createContext({}),yA=F.createContext(null),Y0=typeof document<"u",Z7=Y0?F.useLayoutEffect:F.useEffect,LD=F.createContext({strict:!1}),xA=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),$7="framerAppearId",DD="data-"+xA($7);function ej(n,e,t,i){const{visualElement:r}=F.useContext(K0),s=F.useContext(LD),o=F.useContext(yA),a=F.useContext(BD).reducedMotion,l=F.useRef();i=i||s.renderer,!l.current&&i&&(l.current=i(n,{visualState:e,parent:r,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;F.useInsertionEffect(()=>{c&&c.update(t,o)});const d=F.useRef(!!(t[DD]&&!window.HandoffComplete));return Z7(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),F.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function Vc(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function tj(n,e,t){return F.useCallback(i=>{i&&n.mount&&n.mount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Vc(t)&&(t.current=i))},[e])}function Nd(n){return typeof n=="string"||Array.isArray(n)}function Q0(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const _A=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wA=["initial",..._A];function q0(n){return Q0(n.animate)||wA.some(e=>Nd(n[e]))}function ID(n){return!!(q0(n)||n.variants)}function nj(n,e){if(q0(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Nd(t)?t:void 0,animate:Nd(i)?i:void 0}}return n.inherit!==!1?e:{}}function ij(n){const{initial:e,animate:t}=nj(n,F.useContext(K0));return F.useMemo(()=>({initial:e,animate:t}),[XE(e),XE(t)])}function XE(n){return Array.isArray(n)?n.join(" "):n}const KE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zd={};for(const n in KE)zd[n]={isEnabled:e=>KE[n].some(t=>!!e[t])};function rj(n){for(const e in n)zd[e]={...zd[e],...n[e]}}const OD=F.createContext({}),kD=F.createContext({}),sj=Symbol.for("motionComponentSymbol");function oj({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){n&&rj(n);function s(a,l){let c;const d={...F.useContext(BD),...a,layoutId:aj(a)},{isStatic:h}=d,p=ij(a),m=i(a,h);if(!h&&Y0){p.visualElement=ej(r,m,d,e);const y=F.useContext(kD),g=F.useContext(LD).strict;p.visualElement&&(c=p.visualElement.loadFeatures(d,g,n,y))}return F.createElement(K0.Provider,{value:p},c&&p.visualElement?F.createElement(c,{visualElement:p.visualElement,...d}):null,t(r,a,tj(m,p.visualElement,l),m,h,p.visualElement))}const o=F.forwardRef(s);return o[sj]=r,o}function aj({layoutId:n}){const e=F.useContext(OD).id;return e&&n!==void 0?e+"-"+n:n}function lj(n){function e(i,r={}){return oj(n(i,r))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(i,r)=>(t.has(r)||t.set(r,e(r)),t.get(r))})}const cj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function SA(n){return typeof n!="string"||n.includes("-")?!1:!!(cj.indexOf(n)>-1||/[A-Z]/.test(n))}const Xg={};function uj(n){Object.assign(Xg,n)}const Ah=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gl=new Set(Ah);function FD(n,{layout:e,layoutId:t}){return Gl.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Xg[n]||n==="opacity")}const Ji=n=>!!(n&&n.getVelocity),fj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},dj=Ah.length;function hj(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},i,r){let s="";for(let o=0;o<dj;o++){const a=Ah[o];if(n[a]!==void 0){const l=fj[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(n,i?"":s):t&&i&&(s="none"),s}const ND=n=>e=>typeof e=="string"&&e.startsWith(n),zD=ND("--"),Y1=ND("var(--"),pj=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,mj=(n,e)=>e&&typeof n=="number"?e.transform(n):n,da=(n,e,t)=>Math.min(Math.max(t,n),e),Hl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},id={...Hl,transform:n=>da(0,1,n)},Fm={...Hl,default:1},rd=n=>Math.round(n*1e5)/1e5,Z0=/(-)?([\d]*\.?[\d])+/g,UD=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,gj=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Mh(n){return typeof n=="string"}const bh=n=>({test:e=>Mh(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Lo=bh("deg"),_s=bh("%"),lt=bh("px"),vj=bh("vh"),yj=bh("vw"),YE={..._s,parse:n=>_s.parse(n)/100,transform:n=>_s.transform(n*100)},QE={...Hl,transform:Math.round},GD={borderWidth:lt,borderTopWidth:lt,borderRightWidth:lt,borderBottomWidth:lt,borderLeftWidth:lt,borderRadius:lt,radius:lt,borderTopLeftRadius:lt,borderTopRightRadius:lt,borderBottomRightRadius:lt,borderBottomLeftRadius:lt,width:lt,maxWidth:lt,height:lt,maxHeight:lt,size:lt,top:lt,right:lt,bottom:lt,left:lt,padding:lt,paddingTop:lt,paddingRight:lt,paddingBottom:lt,paddingLeft:lt,margin:lt,marginTop:lt,marginRight:lt,marginBottom:lt,marginLeft:lt,rotate:Lo,rotateX:Lo,rotateY:Lo,rotateZ:Lo,scale:Fm,scaleX:Fm,scaleY:Fm,scaleZ:Fm,skew:Lo,skewX:Lo,skewY:Lo,distance:lt,translateX:lt,translateY:lt,translateZ:lt,x:lt,y:lt,z:lt,perspective:lt,transformPerspective:lt,opacity:id,originX:YE,originY:YE,originZ:lt,zIndex:QE,fillOpacity:id,strokeOpacity:id,numOctaves:QE};function AA(n,e,t,i){const{style:r,vars:s,transform:o,transformOrigin:a}=n;let l=!1,c=!1,d=!0;for(const h in e){const p=e[h];if(zD(h)){s[h]=p;continue}const m=GD[h],y=mj(p,m);if(Gl.has(h)){if(l=!0,o[h]=y,!d)continue;p!==(m.default||0)&&(d=!1)}else h.startsWith("origin")?(c=!0,a[h]=y):r[h]=y}if(e.transform||(l||i?r.transform=hj(n.transform,t,d,i):r.transform&&(r.transform="none")),c){const{originX:h="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${h} ${p} ${m}`}}const MA=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function HD(n,e,t){for(const i in e)!Ji(e[i])&&!FD(i,t)&&(n[i]=e[i])}function xj({transformTemplate:n},e,t){return F.useMemo(()=>{const i=MA();return AA(i,e,{enableHardwareAcceleration:!t},n),Object.assign({},i.vars,i.style)},[e])}function _j(n,e,t){const i=n.style||{},r={};return HD(r,i,n),Object.assign(r,xj(n,e,t)),n.transformValues?n.transformValues(r):r}function wj(n,e,t){const i={},r=_j(n,e,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const Sj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Kg(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Sj.has(n)}let VD=n=>!Kg(n);function Aj(n){n&&(VD=e=>e.startsWith("on")?!Kg(e):n(e))}try{Aj(require("@emotion/is-prop-valid").default)}catch{}function Mj(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(VD(r)||t===!0&&Kg(r)||!e&&!Kg(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function qE(n,e,t){return typeof n=="string"?n:lt.transform(e+t*n)}function bj(n,e,t){const i=qE(e,n.x,n.width),r=qE(t,n.y,n.height);return`${i} ${r}`}const Cj={offset:"stroke-dashoffset",array:"stroke-dasharray"},Tj={offset:"strokeDashoffset",array:"strokeDasharray"};function Ej(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?Cj:Tj;n[s.offset]=lt.transform(-i);const o=lt.transform(e),a=lt.transform(t);n[s.array]=`${o} ${a}`}function bA(n,{attrX:e,attrY:t,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,h,p){if(AA(n,c,d,p),h){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:y,dimensions:g}=n;m.transform&&(g&&(y.transform=m.transform),delete m.transform),g&&(r!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=bj(g,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),i!==void 0&&(m.scale=i),o!==void 0&&Ej(m,o,a,l,!1)}const WD=()=>({...MA(),attrs:{}}),CA=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Pj(n,e,t,i){const r=F.useMemo(()=>{const s=WD();return bA(s,e,{enableHardwareAcceleration:!1},CA(i),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};HD(s,n.style,n),r.style={...s,...r.style}}return r}function Rj(n=!1){return(t,i,r,{latestValues:s},o)=>{const l=(SA(t)?Pj:wj)(i,s,o,t),d={...Mj(i,typeof t=="string",n),...l,ref:r},{children:h}=i,p=F.useMemo(()=>Ji(h)?h.get():h,[h]);return F.createElement(t,{...d,children:p})}}function jD(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const s in t)n.style.setProperty(s,t[s])}const JD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function XD(n,e,t,i){jD(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(JD.has(r)?r:xA(r),e.attrs[r])}function TA(n,e){const{style:t}=n,i={};for(const r in t)(Ji(t[r])||e.style&&Ji(e.style[r])||FD(r,n))&&(i[r]=t[r]);return i}function KD(n,e){const t=TA(n,e);for(const i in n)if(Ji(n[i])||Ji(e[i])){const r=Ah.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;t[r]=n[i]}return t}function EA(n,e,t,i={},r={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),e}function Bj(n){const e=F.useRef(null);return e.current===null&&(e.current=n()),e.current}const Yg=n=>Array.isArray(n),Lj=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),Dj=n=>Yg(n)?n[n.length-1]||0:n;function fg(n){const e=Ji(n)?n.get():n;return Lj(e)?e.toValue():e}function Ij({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},i,r,s){const o={latestValues:Oj(i,r,s,n),renderState:e()};return t&&(o.mount=a=>t(i,a,o)),o}const YD=n=>(e,t)=>{const i=F.useContext(K0),r=F.useContext(yA),s=()=>Ij(n,e,i,r);return t?s():Bj(s)};function Oj(n,e,t,i){const r={},s=i(n,{});for(const p in s)r[p]=fg(s[p]);let{initial:o,animate:a}=n;const l=q0(n),c=ID(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=t?t.initial===!1:!1;d=d||o===!1;const h=d?a:o;return h&&typeof h!="boolean"&&!Q0(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const y=EA(n,m);if(!y)return;const{transitionEnd:g,transition:x,...w}=y;for(const _ in w){let S=w[_];if(Array.isArray(S)){const M=d?S.length-1:0;S=S[M]}S!==null&&(r[_]=S)}for(const _ in g)r[_]=g[_]}),r}const Mn=n=>n;class ZE{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function kj(n){let e=new ZE,t=new ZE,i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,d=!1)=>{const h=d&&r,p=h?e:t;return c&&o.add(l),p.add(l)&&h&&r&&(i=e.order.length),l},cancel:l=>{t.remove(l),o.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,t]=[t,e],t.clear(),i=e.order.length,i)for(let c=0;c<i;c++){const d=e.order[c];d(l),o.has(d)&&(a.schedule(d),n())}r=!1,s&&(s=!1,a.process(l))}};return a}const Nm=["prepare","read","update","preRender","render","postRender"],Fj=40;function Nj(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=Nm.reduce((h,p)=>(h[p]=kj(()=>t=!0),h),{}),o=h=>s[h].process(r),a=()=>{const h=performance.now();t=!1,r.delta=i?1e3/60:Math.max(Math.min(h-r.timestamp,Fj),1),r.timestamp=h,r.isProcessing=!0,Nm.forEach(o),r.isProcessing=!1,t&&e&&(i=!1,n(a))},l=()=>{t=!0,i=!0,r.isProcessing||n(a)};return{schedule:Nm.reduce((h,p)=>{const m=s[p];return h[p]=(y,g=!1,x=!1)=>(t||l(),m.schedule(y,g,x)),h},{}),cancel:h=>Nm.forEach(p=>s[p].cancel(h)),state:r,steps:s}}const{schedule:$t,cancel:co,state:gi,steps:Nx}=Nj(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mn,!0),zj={useVisualState:YD({scrapeMotionValuesFromProps:KD,createRenderState:WD,onMount:(n,e,{renderState:t,latestValues:i})=>{$t.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),$t.render(()=>{bA(t,i,{enableHardwareAcceleration:!1},CA(e.tagName),n.transformTemplate),XD(e,t)})}})},Uj={useVisualState:YD({scrapeMotionValuesFromProps:TA,createRenderState:MA})};function Gj(n,{forwardMotionProps:e=!1},t,i){return{...SA(n)?zj:Uj,preloadedFeatures:t,useRender:Rj(e),createVisualElement:i,Component:n}}function Qs(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}const QD=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function $0(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const Hj=n=>e=>QD(e)&&n(e,$0(e));function eo(n,e,t,i){return Qs(n,e,Hj(t),i)}const Vj=(n,e)=>t=>e(n(t)),ta=(...n)=>n.reduce(Vj);function qD(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const $E=qD("dragHorizontal"),e2=qD("dragVertical");function ZD(n){let e=!1;if(n==="y")e=e2();else if(n==="x")e=$E();else{const t=$E(),i=e2();t&&i?e=()=>{t(),i()}:(t&&t(),i&&i())}return e}function $D(){const n=ZD(!0);return n?(n(),!1):!0}class Sa{constructor(e){this.isMounted=!1,this.node=e}update(){}}function t2(n,e){const t="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),r=(s,o)=>{if(s.pointerType==="touch"||$D())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[i]&&$t.update(()=>a[i](s,o))};return eo(n.current,t,r,{passive:!n.getProps()[i]})}class Wj extends Sa{mount(){this.unmount=ta(t2(this.node,!0),t2(this.node,!1))}unmount(){}}class jj extends Sa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ta(Qs(this.node.current,"focus",()=>this.onFocus()),Qs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const eI=(n,e)=>e?n===e?!0:eI(n,e.parentElement):!1;function zx(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,$0(t))}class Jj extends Sa{constructor(){super(...arguments),this.removeStartListeners=Mn,this.removeEndListeners=Mn,this.removeAccessibleListeners=Mn,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const i=this.node.getProps(),s=eo(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:h}=this.node.getProps();$t.update(()=>{!h&&!eI(this.node.current,a.target)?d&&d(a,l):c&&c(a,l)})},{passive:!(i.onTap||i.onPointerUp)}),o=eo(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=ta(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||zx("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&$t.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=Qs(this.node.current,"keyup",o),zx("down",(a,l)=>{this.startPress(a,l)})},t=Qs(this.node.current,"keydown",e),i=()=>{this.isPressing&&zx("cancel",(s,o)=>this.cancelPress(s,o))},r=Qs(this.node.current,"blur",i);this.removeAccessibleListeners=ta(t,r)}}startPress(e,t){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&$t.update(()=>i(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!$D()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&$t.update(()=>i(e,t))}mount(){const e=this.node.getProps(),t=eo(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=Qs(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ta(t,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Q1=new WeakMap,Ux=new WeakMap,Xj=n=>{const e=Q1.get(n.target);e&&e(n)},Kj=n=>{n.forEach(Xj)};function Yj({root:n,...e}){const t=n||document;Ux.has(t)||Ux.set(t,{});const i=Ux.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(Kj,{root:n,...e})),i[r]}function Qj(n,e,t){const i=Yj(e);return Q1.set(n,t),i.observe(n),()=>{Q1.delete(n),i.unobserve(n)}}const qj={some:0,all:1};class Zj extends Sa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:qj[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=c?d:h;p&&p(l)};return Qj(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some($j(e,t))&&this.startObserver()}unmount(){}}function $j({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const eJ={inView:{Feature:Zj},tap:{Feature:Jj},focus:{Feature:jj},hover:{Feature:Wj}};function tI(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function tJ(n){const e={};return n.values.forEach((t,i)=>e[i]=t.get()),e}function nJ(n){const e={};return n.values.forEach((t,i)=>e[i]=t.getVelocity()),e}function ev(n,e,t){const i=n.getProps();return EA(i,e,t!==void 0?t:i.custom,tJ(n),nJ(n))}let iJ=Mn,PA=Mn;const na=n=>n*1e3,to=n=>n/1e3,rJ={current:!1},nI=n=>Array.isArray(n)&&typeof n[0]=="number";function iI(n){return!!(!n||typeof n=="string"&&rI[n]||nI(n)||Array.isArray(n)&&n.every(iI))}const Hf=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,rI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hf([0,.65,.55,1]),circOut:Hf([.55,0,1,.45]),backIn:Hf([.31,.01,.66,-.59]),backOut:Hf([.33,1.53,.69,.99])};function sI(n){if(n)return nI(n)?Hf(n):Array.isArray(n)?n.map(sI):rI[n]}function sJ(n,e,t,{delay:i=0,duration:r,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:t};l&&(c.offset=l);const d=sI(a);return Array.isArray(d)&&(c.easing=d),n.animate(c,{delay:i,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function oJ(n,{repeat:e,repeatType:t="loop"}){const i=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[i]}const oI=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,aJ=1e-7,lJ=12;function cJ(n,e,t,i,r){let s,o,a=0;do o=e+(t-e)/2,s=oI(o,i,r)-n,s>0?t=o:e=o;while(Math.abs(s)>aJ&&++a<lJ);return o}function Ch(n,e,t,i){if(n===e&&t===i)return Mn;const r=s=>cJ(s,0,1,n,t);return s=>s===0||s===1?s:oI(r(s),e,i)}const uJ=Ch(.42,0,1,1),fJ=Ch(0,0,.58,1),aI=Ch(.42,0,.58,1),dJ=n=>Array.isArray(n)&&typeof n[0]!="number",lI=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,cI=n=>e=>1-n(1-e),RA=n=>1-Math.sin(Math.acos(n)),uI=cI(RA),hJ=lI(RA),fI=Ch(.33,1.53,.69,.99),BA=cI(fI),pJ=lI(BA),mJ=n=>(n*=2)<1?.5*BA(n):.5*(2-Math.pow(2,-10*(n-1))),gJ={linear:Mn,easeIn:uJ,easeInOut:aI,easeOut:fJ,circIn:RA,circInOut:hJ,circOut:uI,backIn:BA,backInOut:pJ,backOut:fI,anticipate:mJ},n2=n=>{if(Array.isArray(n)){PA(n.length===4);const[e,t,i,r]=n;return Ch(e,t,i,r)}else if(typeof n=="string")return gJ[n];return n},LA=(n,e)=>t=>!!(Mh(t)&&gj.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),dI=(n,e,t)=>i=>{if(!Mh(i))return i;const[r,s,o,a]=i.match(Z0);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},vJ=n=>da(0,255,n),Gx={...Hl,transform:n=>Math.round(vJ(n))},ll={test:LA("rgb","red"),parse:dI("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+Gx.transform(n)+", "+Gx.transform(e)+", "+Gx.transform(t)+", "+rd(id.transform(i))+")"};function yJ(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const q1={test:LA("#"),parse:yJ,transform:ll.transform},Wc={test:LA("hsl","hue"),parse:dI("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+_s.transform(rd(e))+", "+_s.transform(rd(t))+", "+rd(id.transform(i))+")"},Ci={test:n=>ll.test(n)||q1.test(n)||Wc.test(n),parse:n=>ll.test(n)?ll.parse(n):Wc.test(n)?Wc.parse(n):q1.parse(n),transform:n=>Mh(n)?n:n.hasOwnProperty("red")?ll.transform(n):Wc.transform(n)},hn=(n,e,t)=>-t*n+t*e+n;function Hx(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function xJ({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=Hx(l,a,n+1/3),s=Hx(l,a,n),o=Hx(l,a,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}const Vx=(n,e,t)=>{const i=n*n;return Math.sqrt(Math.max(0,t*(e*e-i)+i))},_J=[q1,ll,Wc],wJ=n=>_J.find(e=>e.test(n));function i2(n){const e=wJ(n);let t=e.parse(n);return e===Wc&&(t=xJ(t)),t}const hI=(n,e)=>{const t=i2(n),i=i2(e),r={...t};return s=>(r.red=Vx(t.red,i.red,s),r.green=Vx(t.green,i.green,s),r.blue=Vx(t.blue,i.blue,s),r.alpha=hn(t.alpha,i.alpha,s),ll.transform(r))};function SJ(n){var e,t;return isNaN(n)&&Mh(n)&&(((e=n.match(Z0))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(UD))===null||t===void 0?void 0:t.length)||0)>0}const pI={regex:pj,countKey:"Vars",token:"${v}",parse:Mn},mI={regex:UD,countKey:"Colors",token:"${c}",parse:Ci.parse},gI={regex:Z0,countKey:"Numbers",token:"${n}",parse:Hl.parse};function Wx(n,{regex:e,countKey:t,token:i,parse:r}){const s=n.tokenised.match(e);s&&(n["num"+t]=s.length,n.tokenised=n.tokenised.replace(e,i),n.values.push(...s.map(r)))}function Qg(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&Wx(t,pI),Wx(t,mI),Wx(t,gI),t}function vI(n){return Qg(n).values}function yI(n){const{values:e,numColors:t,numVars:i,tokenised:r}=Qg(n),s=e.length;return o=>{let a=r;for(let l=0;l<s;l++)l<i?a=a.replace(pI.token,o[l]):l<i+t?a=a.replace(mI.token,Ci.transform(o[l])):a=a.replace(gI.token,rd(o[l]));return a}}const AJ=n=>typeof n=="number"?0:n;function MJ(n){const e=vI(n);return yI(n)(e.map(AJ))}const ha={test:SJ,parse:vI,createTransformer:yI,getAnimatableNone:MJ},xI=(n,e)=>t=>`${t>0?e:n}`;function _I(n,e){return typeof n=="number"?t=>hn(n,e,t):Ci.test(n)?hI(n,e):n.startsWith("var(")?xI(n,e):SI(n,e)}const wI=(n,e)=>{const t=[...n],i=t.length,r=n.map((s,o)=>_I(s,e[o]));return s=>{for(let o=0;o<i;o++)t[o]=r[o](s);return t}},bJ=(n,e)=>{const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=_I(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}},SI=(n,e)=>{const t=ha.createTransformer(e),i=Qg(n),r=Qg(e);return i.numVars===r.numVars&&i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?ta(wI(i.values,r.values),t):xI(n,e)},Ud=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},r2=(n,e)=>t=>hn(n,e,t);function CJ(n){return typeof n=="number"?r2:typeof n=="string"?Ci.test(n)?hI:SI:Array.isArray(n)?wI:typeof n=="object"?bJ:r2}function TJ(n,e,t){const i=[],r=t||CJ(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=r(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||Mn:e;a=ta(l,a)}i.push(a)}return i}function AI(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;if(PA(s===e.length),s===1)return()=>e[0];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=TJ(e,i,r),a=o.length,l=c=>{let d=0;if(a>1)for(;d<n.length-2&&!(c<n[d+1]);d++);const h=Ud(n[d],n[d+1],c);return o[d](h)};return t?c=>l(da(n[0],n[s-1],c)):l}function EJ(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=Ud(0,e,i);n.push(hn(t,1,r))}}function PJ(n){const e=[0];return EJ(e,n.length-1),e}function RJ(n,e){return n.map(t=>t*e)}function BJ(n,e){return n.map(()=>e||aI).splice(0,n.length-1)}function qg({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=dJ(i)?i.map(n2):n2(i),s={done:!1,value:e[0]},o=RJ(t&&t.length===e.length?t:PJ(e),n),a=AI(o,e,{ease:Array.isArray(r)?r:BJ(e,r)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}function MI(n,e){return e?n*(1e3/e):0}const LJ=5;function bI(n,e,t){const i=Math.max(e-LJ,0);return MI(t-n(i),e-i)}const jx=.001,DJ=.01,s2=10,IJ=.05,OJ=1;function kJ({duration:n=800,bounce:e=.25,velocity:t=0,mass:i=1}){let r,s;iJ(n<=na(s2));let o=1-e;o=da(IJ,OJ,o),n=da(DJ,s2,to(n)),o<1?(r=c=>{const d=c*o,h=d*n,p=d-t,m=Z1(c,o),y=Math.exp(-h);return jx-p/m*y},s=c=>{const h=c*o*n,p=h*t+t,m=Math.pow(o,2)*Math.pow(c,2)*n,y=Math.exp(-h),g=Z1(Math.pow(c,2),o);return(-r(c)+jx>0?-1:1)*((p-m)*y)/g}):(r=c=>{const d=Math.exp(-c*n),h=(c-t)*n+1;return-jx+d*h},s=c=>{const d=Math.exp(-c*n),h=(t-c)*(n*n);return d*h});const a=5/n,l=NJ(r,s,a);if(n=na(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:n}}}const FJ=12;function NJ(n,e,t){let i=t;for(let r=1;r<FJ;r++)i=i-n(i)/e(i);return i}function Z1(n,e){return n*Math.sqrt(1-e*e)}const zJ=["duration","bounce"],UJ=["stiffness","damping","mass"];function o2(n,e){return e.some(t=>n[t]!==void 0)}function GJ(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!o2(n,UJ)&&o2(n,zJ)){const t=kJ(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function CI({keyframes:n,restDelta:e,restSpeed:t,...i}){const r=n[0],s=n[n.length-1],o={done:!1,value:r},{stiffness:a,damping:l,mass:c,duration:d,velocity:h,isResolvedFromDuration:p}=GJ({...i,velocity:-to(i.velocity||0)}),m=h||0,y=l/(2*Math.sqrt(a*c)),g=s-r,x=to(Math.sqrt(a/c)),w=Math.abs(g)<5;t||(t=w?.01:2),e||(e=w?.005:.5);let _;if(y<1){const S=Z1(x,y);_=M=>{const T=Math.exp(-y*x*M);return s-T*((m+y*x*g)/S*Math.sin(S*M)+g*Math.cos(S*M))}}else if(y===1)_=S=>s-Math.exp(-x*S)*(g+(m+x*g)*S);else{const S=x*Math.sqrt(y*y-1);_=M=>{const T=Math.exp(-y*x*M),E=Math.min(S*M,300);return s-T*((m+y*x*g)*Math.sinh(E)+S*g*Math.cosh(E))/S}}return{calculatedDuration:p&&d||null,next:S=>{const M=_(S);if(p)o.done=S>=d;else{let T=m;S!==0&&(y<1?T=bI(_,S,M):T=0);const E=Math.abs(T)<=t,B=Math.abs(s-M)<=e;o.done=E&&B}return o.value=o.done?s:M,o}}}function a2({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=n[0],p={done:!1,value:h},m=C=>a!==void 0&&C<a||l!==void 0&&C>l,y=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let g=t*e;const x=h+g,w=o===void 0?x:o(x);w!==x&&(g=w-h);const _=C=>-g*Math.exp(-C/i),S=C=>w+_(C),M=C=>{const R=_(C),L=S(C);p.done=Math.abs(R)<=c,p.value=p.done?w:L};let T,E;const B=C=>{m(p.value)&&(T=C,E=CI({keyframes:[p.value,y(p.value)],velocity:bI(S,C,p.value),damping:r,stiffness:s,restDelta:c,restSpeed:d}))};return B(0),{calculatedDuration:null,next:C=>{let R=!1;return!E&&T===void 0&&(R=!0,M(C),B(C)),T!==void 0&&C>T?E.next(C-T):(!R&&M(C),p)}}}const HJ=n=>{const e=({timestamp:t})=>n(t);return{start:()=>$t.update(e,!0),stop:()=>co(e),now:()=>gi.isProcessing?gi.timestamp:performance.now()}},l2=2e4;function c2(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<l2;)e+=t,i=n.next(e);return e>=l2?1/0:e}const VJ={decay:a2,inertia:a2,tween:qg,keyframes:qg,spring:CI};function Zg({autoplay:n=!0,delay:e=0,driver:t=HJ,keyframes:i,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:h,...p}){let m=1,y=!1,g,x;const w=()=>{x=new Promise(te=>{g=te})};w();let _;const S=VJ[r]||qg;let M;S!==qg&&typeof i[0]!="number"&&(M=AI([0,100],i,{clamp:!1}),i=[0,100]);const T=S({...p,keyframes:i});let E;a==="mirror"&&(E=S({...p,keyframes:[...i].reverse(),velocity:-(p.velocity||0)}));let B="idle",C=null,R=null,L=null;T.calculatedDuration===null&&s&&(T.calculatedDuration=c2(T));const{calculatedDuration:O}=T;let V=1/0,H=1/0;O!==null&&(V=O+o,H=V*(s+1)-o);let G=0;const $=te=>{if(R===null)return;m>0&&(R=Math.min(R,te)),m<0&&(R=Math.min(te-H/m,R)),C!==null?G=C:G=Math.round(te-R)*m;const X=G-e*(m>=0?1:-1),ie=m>=0?X<0:X>H;G=Math.max(X,0),B==="finished"&&C===null&&(G=H);let ve=G,q=T;if(s){const Fe=Math.min(G,H)/V;let Ee=Math.floor(Fe),_e=Fe%1;!_e&&Fe>=1&&(_e=1),_e===1&&Ee--,Ee=Math.min(Ee,s+1),!!(Ee%2)&&(a==="reverse"?(_e=1-_e,o&&(_e-=o/V)):a==="mirror"&&(q=E)),ve=da(0,1,_e)*V}const we=ie?{done:!1,value:i[0]}:q.next(ve);M&&(we.value=M(we.value));let{done:Ae}=we;!ie&&O!==null&&(Ae=m>=0?G>=H:G<=0);const De=C===null&&(B==="finished"||B==="running"&&Ae);return h&&h(we.value),De&&k(),we},ee=()=>{_&&_.stop(),_=void 0},oe=()=>{B="idle",ee(),g(),w(),R=L=null},k=()=>{B="finished",d&&d(),ee(),g()},K=()=>{if(y)return;_||(_=t($));const te=_.now();l&&l(),C!==null?R=te-C:(!R||B==="finished")&&(R=te),B==="finished"&&w(),L=R,C=null,B="running",_.start()};n&&K();const J={then(te,X){return x.then(te,X)},get time(){return to(G)},set time(te){te=na(te),G=te,C!==null||!_||m===0?C=te:R=_.now()-te/m},get duration(){const te=T.calculatedDuration===null?c2(T):T.calculatedDuration;return to(te)},get speed(){return m},set speed(te){te===m||!_||(m=te,J.time=to(G))},get state(){return B},play:K,pause:()=>{B="paused",C=G},stop:()=>{y=!0,B!=="idle"&&(B="idle",c&&c(),oe())},cancel:()=>{L!==null&&$(L),oe()},complete:()=>{B="finished"},sample:te=>(R=0,$(te))};return J}function WJ(n){let e;return()=>(e===void 0&&(e=n()),e)}const jJ=WJ(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),JJ=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),zm=10,XJ=2e4,KJ=(n,e)=>e.type==="spring"||n==="backgroundColor"||!iI(e.ease);function YJ(n,e,{onUpdate:t,onComplete:i,...r}){if(!(jJ()&&JJ.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const d=()=>{l=new Promise(S=>{a=S})};d();let{keyframes:h,duration:p=300,ease:m,times:y}=r;if(KJ(e,r)){const S=Zg({...r,repeat:0,delay:0});let M={done:!1,value:h[0]};const T=[];let E=0;for(;!M.done&&E<XJ;)M=S.sample(E),T.push(M.value),E+=zm;y=void 0,h=T,p=E-zm,m="linear"}const g=sJ(n.owner.current,e,h,{...r,duration:p,ease:m,times:y}),x=()=>{c=!1,g.cancel()},w=()=>{c=!0,$t.update(x),a(),d()};return g.onfinish=()=>{c||(n.set(oJ(h,r)),i&&i(),w())},{then(S,M){return l.then(S,M)},attachTimeline(S){return g.timeline=S,g.onfinish=null,Mn},get time(){return to(g.currentTime||0)},set time(S){g.currentTime=na(S)},get speed(){return g.playbackRate},set speed(S){g.playbackRate=S},get duration(){return to(p)},play:()=>{o||(g.play(),co(x))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:S}=g;if(S){const M=Zg({...r,autoplay:!1});n.setWithVelocity(M.sample(S-zm).value,M.sample(S).value,zm)}w()},complete:()=>{c||g.finish()},cancel:w}}function QJ({keyframes:n,delay:e,onUpdate:t,onComplete:i}){const r=()=>(t&&t(n[n.length-1]),i&&i(),{time:0,speed:1,duration:0,play:Mn,pause:Mn,stop:Mn,then:s=>(s(),Promise.resolve()),cancel:Mn,complete:Mn});return e?Zg({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const qJ={type:"spring",stiffness:500,damping:25,restSpeed:10},ZJ=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),$J={type:"keyframes",duration:.8},eX={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tX=(n,{keyframes:e})=>e.length>2?$J:Gl.has(n)?n.startsWith("scale")?ZJ(e[1]):qJ:eX,$1=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ha.test(e)||e==="0")&&!e.startsWith("url(")),nX=new Set(["brightness","contrast","saturate","opacity"]);function iX(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(Z0)||[];if(!i)return n;const r=t.replace(i,"");let s=nX.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const rX=/([a-z-]*)\(.*?\)/g,ew={...ha,getAnimatableNone:n=>{const e=n.match(rX);return e?e.map(iX).join(" "):n}},sX={...GD,color:Ci,backgroundColor:Ci,outlineColor:Ci,fill:Ci,stroke:Ci,borderColor:Ci,borderTopColor:Ci,borderRightColor:Ci,borderBottomColor:Ci,borderLeftColor:Ci,filter:ew,WebkitFilter:ew},DA=n=>sX[n];function TI(n,e){let t=DA(n);return t!==ew&&(t=ha),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const EI=n=>/^0[^.\s]+$/.test(n);function oX(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||EI(n)}function aX(n,e,t,i){const r=$1(e,t);let s;Array.isArray(t)?s=[...t]:s=[null,t];const o=i.from!==void 0?i.from:n.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),oX(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(r&&l.length&&a)for(let c=0;c<l.length;c++){const d=l[c];s[d]=TI(e,a)}return s}function lX({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function IA(n,e){return n[e]||n.default||n}const cX={skipAnimations:!1},OA=(n,e,t,i={})=>r=>{const s=IA(i,n)||{},o=s.delay||i.delay||0;let{elapsed:a=0}=i;a=a-na(o);const l=aX(e,n,t,s),c=l[0],d=l[l.length-1],h=$1(n,c),p=$1(n,d);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:y=>{e.set(y),s.onUpdate&&s.onUpdate(y)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(lX(s)||(m={...m,...tX(n,m)}),m.duration&&(m.duration=na(m.duration)),m.repeatDelay&&(m.repeatDelay=na(m.repeatDelay)),!h||!p||rJ.current||s.type===!1||cX.skipAnimations)return QJ(m);if(!i.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=YJ(e,n,m);if(y)return y}return Zg(m)};function $g(n){return!!(Ji(n)&&n.add)}const PI=n=>/^\-?\d*\.?\d+$/.test(n);function kA(n,e){n.indexOf(e)===-1&&n.push(e)}function FA(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class NA{constructor(){this.subscriptions=[]}add(e){return kA(this.subscriptions,e),()=>FA(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const uX=n=>!isNaN(parseFloat(n));class fX{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:s,timestamp:o}=gi;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,$t.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>$t.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=uX(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new NA);const i=this.events[e].add(t);return e==="change"?()=>{i(),$t.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?MI(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _u(n,e){return new fX(n,e)}const RI=n=>e=>e.test(n),dX={test:n=>n==="auto",parse:n=>n},BI=[Hl,lt,_s,Lo,yj,vj,dX],Df=n=>BI.find(RI(n)),hX=[...BI,Ci,ha],pX=n=>hX.find(RI(n));function mX(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,_u(t))}function gX(n,e){const t=ev(n,e);let{transitionEnd:i={},transition:r={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...i};for(const o in s){const a=Dj(s[o]);mX(n,o,a)}}function vX(n,e,t){var i,r;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(r=(i=t[l])!==null&&i!==void 0?i:n.readValue(l))!==null&&r!==void 0?r:e[l]),d!=null&&(typeof d=="string"&&(PI(d)||EI(d))?d=parseFloat(d):!pX(d)&&ha.test(c)&&(d=TI(l,c)),n.addValue(l,_u(d,{owner:n})),t[l]===void 0&&(t[l]=d),d!==null&&n.setBaseTarget(l,d))}}function yX(n,e){return e?(e[n]||e.default||e).from:void 0}function xX(n,e,t){const i={};for(const r in n){const s=yX(r,e);if(s!==void 0)i[r]=s;else{const o=t.getValue(r);o&&(i[r]=o.get())}}return i}function _X({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function wX(n,e){const t=n.get();if(Array.isArray(e)){for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}else return t!==e}function LI(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");i&&(s=i);const c=[],d=r&&n.animationState&&n.animationState.getState()[r];for(const h in a){const p=n.getValue(h),m=a[h];if(!p||m===void 0||d&&_X(d,h))continue;const y={delay:t,elapsed:0,...IA(s||{},h)};if(window.HandoffAppearAnimations){const w=n.getProps()[DD];if(w){const _=window.HandoffAppearAnimations(w,h,p,$t);_!==null&&(y.elapsed=_,y.isHandoff=!0)}}let g=!y.isHandoff&&!wX(p,m);if(y.type==="spring"&&(p.getVelocity()||y.velocity)&&(g=!1),p.animation&&(g=!1),g)continue;p.start(OA(h,p,m,n.shouldReduceMotion&&Gl.has(h)?{type:!1}:y));const x=p.animation;$g(l)&&(l.add(h),x.then(()=>l.remove(h))),c.push(x)}return o&&Promise.all(c).then(()=>{o&&gX(n,o)}),c}function tw(n,e,t={}){const i=ev(n,e,t.custom);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const s=i?()=>Promise.all(LI(n,i,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:h}=r;return SX(n,e,c+l,d,h,t)}:()=>Promise.resolve(),{when:a}=r;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(t.delay)])}function SX(n,e,t=0,i=0,r=1,s){const o=[],a=(n.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(n.variantChildren).sort(AX).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(tw(c,e,{...s,delay:t+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function AX(n,e){return n.sortNodePosition(e)}function MX(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>tw(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=tw(n,e,t);else{const r=typeof e=="function"?ev(n,e,t.custom):e;i=Promise.all(LI(n,r,t))}return i.then(()=>n.notify("AnimationComplete",e))}const bX=[..._A].reverse(),CX=_A.length;function TX(n){return e=>Promise.all(e.map(({animation:t,options:i})=>MX(n,t,i)))}function EX(n){let e=TX(n);const t=RX();let i=!0;const r=(l,c)=>{const d=ev(n,c);if(d){const{transition:h,transitionEnd:p,...m}=d;l={...l,...m,...p}}return l};function s(l){e=l(n)}function o(l,c){const d=n.getProps(),h=n.getVariantContext(!0)||{},p=[],m=new Set;let y={},g=1/0;for(let w=0;w<CX;w++){const _=bX[w],S=t[_],M=d[_]!==void 0?d[_]:h[_],T=Nd(M),E=_===c?S.isActive:null;E===!1&&(g=w);let B=M===h[_]&&M!==d[_]&&T;if(B&&i&&n.manuallyAnimateOnMount&&(B=!1),S.protectedKeys={...y},!S.isActive&&E===null||!M&&!S.prevProp||Q0(M)||typeof M=="boolean")continue;let R=PX(S.prevProp,M)||_===c&&S.isActive&&!B&&T||w>g&&T,L=!1;const O=Array.isArray(M)?M:[M];let V=O.reduce(r,{});E===!1&&(V={});const{prevResolvedValues:H={}}=S,G={...H,...V},$=ee=>{R=!0,m.has(ee)&&(L=!0,m.delete(ee)),S.needsAnimating[ee]=!0};for(const ee in G){const oe=V[ee],k=H[ee];if(y.hasOwnProperty(ee))continue;let K=!1;Yg(oe)&&Yg(k)?K=!tI(oe,k):K=oe!==k,K?oe!==void 0?$(ee):m.add(ee):oe!==void 0&&m.has(ee)?$(ee):S.protectedKeys[ee]=!0}S.prevProp=M,S.prevResolvedValues=V,S.isActive&&(y={...y,...V}),i&&n.blockInitialAnimation&&(R=!1),R&&(!B||L)&&p.push(...O.map(ee=>({animation:ee,options:{type:_,...l}})))}if(m.size){const w={};m.forEach(_=>{const S=n.getBaseTarget(_);S!==void 0&&(w[_]=S)}),p.push({animation:w})}let x=!!p.length;return i&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(x=!1),i=!1,x?e(p):Promise.resolve()}function a(l,c,d){var h;if(t[l].isActive===c)return Promise.resolve();(h=n.variantChildren)===null||h===void 0||h.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(l,c)}),t[l].isActive=c;const p=o(d,l);for(const m in t)t[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function PX(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!tI(e,n):!1}function Ha(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function RX(){return{animate:Ha(!0),whileInView:Ha(),whileHover:Ha(),whileTap:Ha(),whileDrag:Ha(),whileFocus:Ha(),exit:Ha()}}class BX extends Sa{constructor(e){super(e),e.animationState||(e.animationState=EX(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Q0(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let LX=0;class DX extends Sa{constructor(){super(...arguments),this.id=LX++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const IX={animation:{Feature:BX},exit:{Feature:DX}},u2=(n,e)=>Math.abs(n-e);function OX(n,e){const t=u2(n.x,e.x),i=u2(n.y,e.y);return Math.sqrt(t**2+i**2)}class DI{constructor(e,t,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Xx(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=OX(h.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:y}=h,{timestamp:g}=gi;this.history.push({...y,timestamp:g});const{onStart:x,onMove:w}=this.handlers;p||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Jx(p,this.transformPagePoint),$t.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Xx(h.type==="pointercancel"?this.lastMoveEventInfo:Jx(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,x),y&&y(h,x)},!QD(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=i,this.contextWindow=r||window;const o=$0(e),a=Jx(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=gi;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=t;d&&d(e,Xx(a,this.history)),this.removeListeners=ta(eo(this.contextWindow,"pointermove",this.handlePointerMove),eo(this.contextWindow,"pointerup",this.handlePointerUp),eo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),co(this.updatePoint)}}function Jx(n,e){return e?{point:e(n.point)}:n}function f2(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Xx({point:n},e){return{point:n,delta:f2(n,II(e)),offset:f2(n,kX(e)),velocity:FX(e,.1)}}function kX(n){return n[0]}function II(n){return n[n.length-1]}function FX(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=II(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>na(e)));)t--;if(!i)return{x:0,y:0};const s=to(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function or(n){return n.max-n.min}function nw(n,e=0,t=.01){return Math.abs(n-e)<=t}function d2(n,e,t,i=.5){n.origin=i,n.originPoint=hn(e.min,e.max,n.origin),n.scale=or(t)/or(e),(nw(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=hn(t.min,t.max,n.origin)-n.originPoint,(nw(n.translate)||isNaN(n.translate))&&(n.translate=0)}function sd(n,e,t,i){d2(n.x,e.x,t.x,i?i.originX:void 0),d2(n.y,e.y,t.y,i?i.originY:void 0)}function h2(n,e,t){n.min=t.min+e.min,n.max=n.min+or(e)}function NX(n,e,t){h2(n.x,e.x,t.x),h2(n.y,e.y,t.y)}function p2(n,e,t){n.min=e.min-t.min,n.max=n.min+or(e)}function od(n,e,t){p2(n.x,e.x,t.x),p2(n.y,e.y,t.y)}function zX(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?hn(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?hn(t,n,i.max):Math.min(n,t)),n}function m2(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function UX(n,{top:e,left:t,bottom:i,right:r}){return{x:m2(n.x,t,r),y:m2(n.y,e,i)}}function g2(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function GX(n,e){return{x:g2(n.x,e.x),y:g2(n.y,e.y)}}function HX(n,e){let t=.5;const i=or(n),r=or(e);return r>i?t=Ud(e.min,e.max-i,n.min):i>r&&(t=Ud(n.min,n.max-r,e.min)),da(0,1,t)}function VX(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const iw=.35;function WX(n=iw){return n===!1?n=0:n===!0&&(n=iw),{x:v2(n,"left","right"),y:v2(n,"top","bottom")}}function v2(n,e,t){return{min:y2(n,e),max:y2(n,t)}}function y2(n,e){return typeof n=="number"?n:n[e]||0}const x2=()=>({translate:0,scale:1,origin:0,originPoint:0}),jc=()=>({x:x2(),y:x2()}),_2=()=>({min:0,max:0}),In=()=>({x:_2(),y:_2()});function _r(n){return[n("x"),n("y")]}function OI({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function jX({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function JX(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function Kx(n){return n===void 0||n===1}function rw({scale:n,scaleX:e,scaleY:t}){return!Kx(n)||!Kx(e)||!Kx(t)}function Ka(n){return rw(n)||kI(n)||n.z||n.rotate||n.rotateX||n.rotateY}function kI(n){return w2(n.x)||w2(n.y)}function w2(n){return n&&n!=="0%"}function e0(n,e,t){const i=n-t,r=e*i;return t+r}function S2(n,e,t,i,r){return r!==void 0&&(n=e0(n,r,i)),e0(n,t,i)+e}function sw(n,e=0,t=1,i,r){n.min=S2(n.min,e,t,i,r),n.max=S2(n.max,e,t,i,r)}function FI(n,{x:e,y:t}){sw(n.x,e.translate,e.scale,e.originPoint),sw(n.y,t.translate,t.scale,t.originPoint)}function XX(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Jc(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,FI(n,o)),i&&Ka(s.latestValues)&&Jc(n,s.latestValues))}e.x=A2(e.x),e.y=A2(e.y)}function A2(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Oo(n,e){n.min=n.min+e,n.max=n.max+e}function M2(n,e,[t,i,r]){const s=e[r]!==void 0?e[r]:.5,o=hn(n.min,n.max,s);sw(n,e[t],e[i],o,e.scale)}const KX=["x","scaleX","originX"],YX=["y","scaleY","originY"];function Jc(n,e){M2(n.x,e,KX),M2(n.y,e,YX)}function NI(n,e){return OI(JX(n.getBoundingClientRect(),e))}function QX(n,e,t){const i=NI(n,t),{scroll:r}=e;return r&&(Oo(i.x,r.offset.x),Oo(i.y,r.offset.y)),i}const zI=({current:n})=>n?n.ownerDocument.defaultView:null,qX=new WeakMap;class ZX{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=In(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor($0(d,"page").point)},s=(d,h)=>{const{drag:p,dragPropagation:m,onDragStart:y}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=ZD(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_r(x=>{let w=this.getAxisMotionValue(x).get()||0;if(_s.test(w)){const{projection:_}=this.visualElement;if(_&&_.layout){const S=_.layout.layoutBox[x];S&&(w=or(S)*(parseFloat(w)/100))}}this.originPoint[x]=w}),y&&$t.update(()=>y(d,h),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:y,onDrag:g}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:x}=h;if(m&&this.currentDirection===null){this.currentDirection=$X(x),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),g&&g(d,h)},a=(d,h)=>this.stop(d,h),l=()=>_r(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new DI(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:zI(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&$t.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!Um(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=zX(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&Vc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=UX(r.layoutBox,t):this.constraints=!1,this.elastic=WX(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&_r(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=VX(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Vc(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=QX(i,r.root,this.visualElement.getTransformPagePoint());let o=GX(r.layout.layoutBox,s);if(t){const a=t(jX(o));this.hasMutatedConstraints=!!a,a&&(o=OI(a))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=_r(d=>{if(!Um(d,t,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,y={type:"inertia",velocity:i?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return i.start(OA(e,i,0,t))}stopAnimation(){_r(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){_r(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){_r(t=>{const{drag:i}=this.getProps();if(!Um(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[t];s.set(e[t]-hn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Vc(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};_r(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();r[o]=HX({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),_r(o=>{if(!Um(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(hn(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;qX.set(this.visualElement,this);const e=this.visualElement.current,t=eo(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();Vc(l)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const o=Qs(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(_r(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=iw,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Um(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function $X(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class eK extends Sa{constructor(e){super(e),this.removeGroupControls=Mn,this.removeListeners=Mn,this.controls=new ZX(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mn}unmount(){this.removeGroupControls(),this.removeListeners()}}const b2=n=>(e,t)=>{n&&$t.update(()=>n(e,t))};class tK extends Sa{constructor(){super(...arguments),this.removePointerDownListener=Mn}onPointerDown(e){this.session=new DI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:b2(e),onStart:b2(t),onMove:i,onEnd:(s,o)=>{delete this.session,r&&$t.update(()=>r(s,o))}}}mount(){this.removePointerDownListener=eo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function nK(){const n=F.useContext(yA);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:i}=n,r=F.useId();return F.useEffect(()=>i(r),[]),!e&&t?[!1,()=>t&&t(r)]:[!0]}const dg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function C2(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const If={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(lt.test(n))n=parseFloat(n);else return n;const t=C2(n,e.target.x),i=C2(n,e.target.y);return`${t}% ${i}%`}},iK={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=ha.parse(n);if(r.length>5)return i;const s=ha.createTransformer(n),o=typeof r[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=hn(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}};class rK extends pt.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;uj(sK),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),dg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||$t.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function UI(n){const[e,t]=nK(),i=F.useContext(OD);return pt.createElement(rK,{...n,layoutGroup:i,switchLayoutGroup:F.useContext(kD),isPresent:e,safeToRemove:t})}const sK={borderRadius:{...If,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:If,borderTopRightRadius:If,borderBottomLeftRadius:If,borderBottomRightRadius:If,boxShadow:iK},GI=["TopLeft","TopRight","BottomLeft","BottomRight"],oK=GI.length,T2=n=>typeof n=="string"?parseFloat(n):n,E2=n=>typeof n=="number"||lt.test(n);function aK(n,e,t,i,r,s){r?(n.opacity=hn(0,t.opacity!==void 0?t.opacity:1,lK(i)),n.opacityExit=hn(e.opacity!==void 0?e.opacity:1,0,cK(i))):s&&(n.opacity=hn(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let o=0;o<oK;o++){const a=`border${GI[o]}Radius`;let l=P2(e,a),c=P2(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||E2(l)===E2(c)?(n[a]=Math.max(hn(T2(l),T2(c),i),0),(_s.test(c)||_s.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=hn(e.rotate||0,t.rotate||0,i))}function P2(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const lK=HI(0,.5,uI),cK=HI(.5,.95,Mn);function HI(n,e,t){return i=>i<n?0:i>e?1:t(Ud(n,e,i))}function R2(n,e){n.min=e.min,n.max=e.max}function xr(n,e){R2(n.x,e.x),R2(n.y,e.y)}function B2(n,e,t,i,r){return n-=e,n=e0(n,1/t,i),r!==void 0&&(n=e0(n,1/r,i)),n}function uK(n,e=0,t=1,i=.5,r,s=n,o=n){if(_s.test(e)&&(e=parseFloat(e),e=hn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=hn(s.min,s.max,i);n===s&&(a-=e),n.min=B2(n.min,e,t,a,r),n.max=B2(n.max,e,t,a,r)}function L2(n,e,[t,i,r],s,o){uK(n,e[t],e[i],e[r],e.scale,s,o)}const fK=["x","scaleX","originX"],dK=["y","scaleY","originY"];function D2(n,e,t,i){L2(n.x,e,fK,t?t.x:void 0,i?i.x:void 0),L2(n.y,e,dK,t?t.y:void 0,i?i.y:void 0)}function I2(n){return n.translate===0&&n.scale===1}function VI(n){return I2(n.x)&&I2(n.y)}function hK(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function WI(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function O2(n){return or(n.x)/or(n.y)}class pK{constructor(){this.members=[]}add(e){kA(this.members,e),e.scheduleRender()}remove(e){if(FA(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function k2(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y;if((r||s)&&(i=`translate3d(${r}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:c,rotateY:d}=t;l&&(i+=`rotate(${l}deg) `),c&&(i+=`rotateX(${c}deg) `),d&&(i+=`rotateY(${d}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(i+=`scale(${o}, ${a})`),i||"none"}const mK=(n,e)=>n.depth-e.depth;class gK{constructor(){this.children=[],this.isDirty=!1}add(e){kA(this.children,e),this.isDirty=!0}remove(e){FA(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(mK),this.isDirty=!1,this.children.forEach(e)}}function vK(n,e){const t=performance.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(co(i),n(s-e))};return $t.read(i,!0),()=>co(i)}function yK(n){window.MotionDebug&&window.MotionDebug.record(n)}function xK(n){return n instanceof SVGElement&&n.tagName!=="svg"}function _K(n,e,t){const i=Ji(n)?n:_u(n);return i.start(OA("",i,e,t)),i.animation}const F2=["","X","Y","Z"],wK={visibility:"hidden"},N2=1e3;let SK=0;const Ya={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function jI({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=SK++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ya.totalNodes=Ya.resolvedTargetDeltas=Ya.recalculatedProjection=0,this.nodes.forEach(bK),this.nodes.forEach(RK),this.nodes.forEach(BK),this.nodes.forEach(CK),yK(Ya)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new gK)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new NA),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=xK(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),n){let h;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=vK(p,250),dg.hasAnimatedSinceResize&&(dg.hasAnimatedSinceResize=!1,this.nodes.forEach(U2))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||kK,{onLayoutAnimationStart:x,onLayoutAnimationComplete:w}=d.getProps(),_=!this.targetLayout||!WI(this.targetLayout,y)||m,S=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,S);const M={...IA(g,"layout"),onPlay:x,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M)}else p||U2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,co(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(LK),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(z2);return}this.isUpdating||this.nodes.forEach(EK),this.isUpdating=!1,this.nodes.forEach(PK),this.nodes.forEach(AK),this.nodes.forEach(MK),this.clearAllSnapshots();const a=performance.now();gi.delta=da(0,1e3/60,a-gi.timestamp),gi.timestamp=a,gi.isProcessing=!0,Nx.update.process(gi),Nx.preRender.process(gi),Nx.render.process(gi),gi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(TK),this.sharedNodes.forEach(DK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$t.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$t.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=In(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:i(this.instance),offset:t(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!VI(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||Ka(this.latestValues)||d)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),FK(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return In();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Oo(a.x,l.offset.x),Oo(a.y,l.offset.y)),a}removeElementScroll(o){const a=In();xr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:h}=c;if(c!==this.root&&d&&h.layoutScroll){if(d.isRoot){xr(a,o);const{scroll:p}=this.root;p&&(Oo(a.x,-p.offset.x),Oo(a.y,-p.offset.y))}Oo(a.x,d.offset.x),Oo(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=In();xr(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Jc(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ka(d.latestValues)&&Jc(l,d.latestValues)}return Ka(this.latestValues)&&Jc(l,this.latestValues),l}removeTransform(o){const a=In();xr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ka(c.latestValues))continue;rw(c.latestValues)&&c.updateSnapshot();const d=In(),h=c.measurePageBox();xr(d,h),D2(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Ka(this.latestValues)&&D2(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=gi.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=In(),this.relativeTargetOrigin=In(),od(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),xr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=In(),this.targetWithTransforms=In()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),NX(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xr(this.target,this.layout.layoutBox),FI(this.target,this.targetDelta)):xr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=In(),this.relativeTargetOrigin=In(),od(this.relativeTargetOrigin,this.target,m.target),xr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ya.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||rw(this.parent.latestValues)||kI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===gi.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;xr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;XX(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:y}=a;if(!y){this.projectionTransform&&(this.projectionDelta=jc(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=jc(),this.projectionDeltaWithTransform=jc());const g=this.projectionTransform;sd(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=k2(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Ya.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=jc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=In(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,g=m!==y,x=this.getStack(),w=!x||x.members.length<=1,_=!!(g&&!w&&this.options.crossfade===!0&&!this.path.some(OK));this.animationProgress=0;let S;this.mixTargetDelta=M=>{const T=M/1e3;G2(h.x,o.x,T),G2(h.y,o.y,T),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(od(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),IK(this.relativeTarget,this.relativeTargetOrigin,p,T),S&&hK(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=In()),xr(S,this.relativeTarget)),g&&(this.animationValues=d,aK(d,c,this.latestValues,T,_,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(co(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$t.update(()=>{dg.hasAnimatedSinceResize=!0,this.currentAnimation=_K(0,N2,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(N2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&JI(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||In();const h=or(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=or(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}xr(a,l),Jc(a,d),sd(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new pK),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let d=0;d<F2.length;d++){const h="rotate"+F2[d];l[h]&&(c[h]=l[h],o.setStaticValue(h,0))}o.render();for(const d in c)o.setStaticValue(d,c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return wK;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=fg(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=fg(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ka(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=k2(this.projectionDeltaWithTransform,this.treeScale,p),d&&(c.transform=d(p,c.transform));const{x:m,y}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const g in Xg){if(p[g]===void 0)continue;const{correct:x,applyTo:w}=Xg[g],_=c.transform==="none"?p[g]:x(p[g],h);if(w){const S=w.length;for(let M=0;M<S;M++)c[w[M]]=_}else c[g]=_}return this.options.layoutId&&(c.pointerEvents=h===this?fg(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(z2),this.root.sharedNodes.clear()}}}function AK(n){n.updateLayout()}function MK(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?_r(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],m=or(p);p.min=i[h].min,p.max=p.min+m}):JI(s,t.layoutBox,i)&&_r(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],m=or(i[h]);p.max=p.min+m,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[h].max=n.relativeTarget[h].min+m)});const a=jc();sd(a,i,t.layoutBox);const l=jc();o?sd(l,n.applyTransform(r,!0),t.measuredBox):sd(l,i,t.layoutBox);const c=!VI(a);let d=!1;if(!n.resumeFrom){const h=n.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const y=In();od(y,t.layoutBox,p.layoutBox);const g=In();od(g,i,m.layoutBox),WI(y,g)||(d=!0),h.options.layoutRoot&&(n.relativeTarget=g,n.relativeTargetOrigin=y,n.relativeParent=h)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function bK(n){Ya.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function CK(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function TK(n){n.clearSnapshot()}function z2(n){n.clearMeasurements()}function EK(n){n.isLayoutDirty=!1}function PK(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function U2(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function RK(n){n.resolveTargetDelta()}function BK(n){n.calcProjection()}function LK(n){n.resetRotation()}function DK(n){n.removeLeadSnapshot()}function G2(n,e,t){n.translate=hn(e.translate,0,t),n.scale=hn(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function H2(n,e,t,i){n.min=hn(e.min,t.min,i),n.max=hn(e.max,t.max,i)}function IK(n,e,t,i){H2(n.x,e.x,t.x,i),H2(n.y,e.y,t.y,i)}function OK(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const kK={duration:.45,ease:[.4,0,.1,1]},V2=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),W2=V2("applewebkit/")&&!V2("chrome/")?Math.round:Mn;function j2(n){n.min=W2(n.min),n.max=W2(n.max)}function FK(n){j2(n.x),j2(n.y)}function JI(n,e,t){return n==="position"||n==="preserve-aspect"&&!nw(O2(e),O2(t),.2)}const NK=jI({attachResizeListener:(n,e)=>Qs(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yx={current:void 0},XI=jI({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Yx.current){const n=new NK({});n.mount(window),n.setOptions({layoutScroll:!0}),Yx.current=n}return Yx.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),zK={pan:{Feature:tK},drag:{Feature:eK,ProjectionNode:XI,MeasureLayout:UI}},UK=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function GK(n){const e=UK.exec(n);if(!e)return[,];const[,t,i]=e;return[t,i]}function ow(n,e,t=1){const[i,r]=GK(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return PI(o)?parseFloat(o):o}else return Y1(r)?ow(r,e,t+1):r}function HK(n,{...e},t){const i=n.current;if(!(i instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(r=>{const s=r.get();if(!Y1(s))return;const o=ow(s,i);o&&r.set(o)});for(const r in e){const s=e[r];if(!Y1(s))continue;const o=ow(s,i);o&&(e[r]=o,t||(t={}),t[r]===void 0&&(t[r]=s))}return{target:e,transitionEnd:t}}const VK=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),KI=n=>VK.has(n),WK=n=>Object.keys(n).some(KI),J2=n=>n===Hl||n===lt,X2=(n,e)=>parseFloat(n.split(", ")[e]),K2=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return X2(r[1],e);{const s=i.match(/^matrix\((.+)\)$/);return s?X2(s[1],n):0}},jK=new Set(["x","y","z"]),JK=Ah.filter(n=>!jK.has(n));function XK(n){const e=[];return JK.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const wu={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:K2(4,13),y:K2(5,14)};wu.translateX=wu.x;wu.translateY=wu.y;const KK=(n,e,t)=>{const i=e.measureViewportBox(),r=e.current,s=getComputedStyle(r),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(c=>{a[c]=wu[c](i,s)}),e.render();const l=e.measureViewportBox();return t.forEach(c=>{const d=e.getValue(c);d&&d.jump(a[c]),n[c]=wu[c](l,s)}),n},YK=(n,e,t={},i={})=>{e={...e},i={...i};const r=Object.keys(e).filter(KI);let s=[],o=!1;const a=[];if(r.forEach(l=>{const c=n.getValue(l);if(!n.hasValue(l))return;let d=t[l],h=Df(d);const p=e[l];let m;if(Yg(p)){const y=p.length,g=p[0]===null?1:0;d=p[g],h=Df(d);for(let x=g;x<y&&p[x]!==null;x++)m?PA(Df(p[x])===m):m=Df(p[x])}else m=Df(p);if(h!==m)if(J2(h)&&J2(m)){const y=c.get();typeof y=="string"&&c.set(parseFloat(y)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===lt&&(e[l]=p.map(parseFloat))}else h!=null&&h.transform&&(m!=null&&m.transform)&&(d===0||p===0)?d===0?c.set(m.transform(d)):e[l]=h.transform(p):(o||(s=XK(n),o=!0),a.push(l),i[l]=i[l]!==void 0?i[l]:e[l],c.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=KK(e,n,a);return s.length&&s.forEach(([d,h])=>{n.getValue(d).set(h)}),n.render(),Y0&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:i}}else return{target:e,transitionEnd:i}};function QK(n,e,t,i){return WK(e)?YK(n,e,t,i):{target:e,transitionEnd:i}}const qK=(n,e,t,i)=>{const r=HK(n,e,i);return e=r.target,i=r.transitionEnd,QK(n,e,t,i)},aw={current:null},YI={current:!1};function ZK(){if(YI.current=!0,!!Y0)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>aw.current=n.matches;n.addListener(e),e()}else aw.current=!1}function $K(n,e,t){const{willChange:i}=e;for(const r in e){const s=e[r],o=t[r];if(Ji(s))n.addValue(r,s),$g(i)&&i.add(r);else if(Ji(o))n.addValue(r,_u(s,{owner:n})),$g(i)&&i.remove(r);else if(o!==s)if(n.hasValue(r)){const a=n.getValue(r);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(r);n.addValue(r,_u(a!==void 0?a:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const Y2=new WeakMap,QI=Object.keys(zd),eY=QI.length,Q2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],tY=wA.length;class nY{constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>$t.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=q0(t),this.isVariantNode=ID(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(t,{});for(const h in d){const p=d[h];a[h]!==void 0&&Ji(p)&&(p.set(a[h],!1),$g(c)&&c.add(h))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,Y2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),YI.current||ZK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:aw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Y2.delete(this.current),this.projection&&this.projection.unmount(),co(this.notifyUpdate),co(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const i=Gl.has(e),r=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&$t.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},i,r,s){let o,a;for(let l=0;l<eY;l++){const c=QI[l],{isEnabled:d,Feature:h,ProjectionNode:p,MeasureLayout:m}=zd[c];p&&(o=p),d(t)&&(!this.features[c]&&h&&(this.features[c]=new h(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:h,layoutScroll:p,layoutRoot:m}=t;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||h&&Vc(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):In()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<Q2.length;i++){const r=Q2[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=$K(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const t={};for(let i=0;i<tY;i++){const r=wA[i],s=this.props[r];(Nd(s)||s===!1)&&(t[r]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=_u(t,{owner:this}),this.addValue(e,i)),i}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(t=EA(this.props,i))===null||t===void 0?void 0:t[e]:void 0;if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ji(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new NA),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class qI extends nY{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...i},{transformValues:r},s){let o=xX(i,e||{},this);if(r&&(t&&(t=r(t)),i&&(i=r(i)),o&&(o=r(o))),s){vX(this,i,o);const a=qK(this,i,o,t);t=a.transitionEnd,i=a.target}return{transition:e,transitionEnd:t,...i}}}function iY(n){return window.getComputedStyle(n)}class rY extends qI{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(Gl.has(t)){const i=DA(t);return i&&i.default||0}else{const i=iY(e),r=(zD(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return NI(e,t)}build(e,t,i,r){AA(e,t,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return TA(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ji(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,i,r){jD(e,t,i,r)}}class sY extends qI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Gl.has(t)){const i=DA(t);return i&&i.default||0}return t=JD.has(t)?t:xA(t),e.getAttribute(t)}measureInstanceViewportBox(){return In()}scrapeMotionValuesFromProps(e,t){return KD(e,t)}build(e,t,i,r){bA(e,t,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,i,r){XD(e,t,i,r)}mount(e){this.isSVGTag=CA(e.tagName),super.mount(e)}}const oY=(n,e)=>SA(n)?new sY(e,{enableHardwareAcceleration:!1}):new rY(e,{enableHardwareAcceleration:!0}),aY={layout:{ProjectionNode:XI,MeasureLayout:UI}},lY={...IX,...eJ,...zK,...aY},Rl=lj((n,e)=>Gj(n,e,lY,oY)),Ri={paddingX:"sm:px-16 px-6",paddingY:"sm:py-16 py-6",padding:"sm:px-16 px-6 sm:py-16 py-10",heroHeadText:"font-black text-white lg:text-[80px] sm:text-[60px] xs:text-[50px] text-[40px] lg:leading-[98px] mt-2",heroSubText:"text-[#dfd9ff] font-medium lg:text-[30px] sm:text-[26px] xs:text-[20px] text-[16px] lg:leading-[40px]",sectionHeadText:" font-black md:text-[60px] sm:text-[50px] xs:text-[40px] text-[30px]",sectionSubText:"sm:text-[18px] text-[14px] text-secondary uppercase tracking-wider"};var hg={};const cY=bw(vF);var ZI,$I;Object.defineProperty(hg,"__esModule",{value:!0});var Vf=cY,ps=F,Hr=function(){return Hr=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},Hr.apply(this,arguments)};function uY(n,e){var t,i;switch(e.type){case"TYPE":return Hr(Hr({},n),{speed:e.speed,text:(t=e.payload)===null||t===void 0?void 0:t.substring(0,n.text.length+1)});case"DELAY":return Hr(Hr({},n),{speed:e.payload});case"DELETE":return Hr(Hr({},n),{speed:e.speed,text:(i=e.payload)===null||i===void 0?void 0:i.substring(0,n.text.length-1)});case"COUNT":return Hr(Hr({},n),{count:n.count+1});default:return n}}var q2=function(n){var e=n.words,t=e===void 0?["Hello World!","This is","a simple Typewriter"]:e,i=n.loop,r=i===void 0?1:i,s=n.typeSpeed,o=s===void 0?80:s,a=n.deleteSpeed,l=a===void 0?50:a,c=n.delaySpeed,d=c===void 0?1500:c,h=n.onLoopDone,p=n.onType,m=n.onDelete,y=n.onDelay,g=ps.useReducer(uY,{speed:o,text:"",count:0}),x=g[0],w=x.speed,_=x.text,S=x.count,M=g[1],T=ps.useRef(0),E=ps.useRef(!1),B=ps.useRef(!1),C=ps.useRef(!1),R=ps.useRef(!1),L=ps.useCallback(function(){var O=S%t.length,V=t[O];B.current?(M({type:"DELETE",payload:V,speed:l}),_===""&&(B.current=!1,M({type:"COUNT"}))):(M({type:"TYPE",payload:V,speed:o}),C.current=!0,_===V&&(M({type:"DELAY",payload:d}),C.current=!1,R.current=!0,setTimeout(function(){R.current=!1,B.current=!0},d),r>0&&(T.current+=1,T.current/t.length===r&&(R.current=!1,E.current=!0)))),C.current&&p&&p(T.current),B.current&&m&&m(),R.current&&y&&y()},[S,d,l,r,o,t,_,p,m,y]);return ps.useEffect(function(){var O=setTimeout(L,w);return E.current&&clearTimeout(O),function(){return clearTimeout(O)}},[L,w]),ps.useEffect(function(){h&&E.current&&h()},[h]),[_,{isType:C.current,isDelay:R.current,isDelete:B.current,isDone:E.current}]},fY="styles-module_blinkingCursor__yugAC",dY="styles-module_blinking__9VXRT";(function(n,e){e===void 0&&(e={});var t=e.insertAt;if(n&&typeof document<"u"){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}})(".styles-module_blinkingCursor__yugAC{color:inherit;font:inherit;left:3px;line-height:inherit;opacity:1;position:relative;top:0}.styles-module_blinking__9VXRT{animation-duration:.8s;animation-iteration-count:infinite;animation-name:styles-module_blink__rqfaf}@keyframes styles-module_blink__rqfaf{0%{opacity:1}to{opacity:0}}");var Z2=ps.memo(function(n){var e=n.cursorBlinking,t=e===void 0||e,i=n.cursorStyle,r=i===void 0?"|":i,s=n.cursorColor,o=s===void 0?"inherit":s;return Vf.jsx("span",Hr({style:{color:o},className:"".concat(fY," ").concat(t?dY:"")},{children:r}))});$I=hg.Cursor=Z2,hg.Typewriter=function(n){var e=n.words,t=e===void 0?["Hello World!","This is","a simple Typewriter"]:e,i=n.loop,r=i===void 0?1:i,s=n.typeSpeed,o=s===void 0?80:s,a=n.deleteSpeed,l=a===void 0?50:a,c=n.delaySpeed,d=c===void 0?1500:c,h=n.cursor,p=h!==void 0&&h,m=n.cursorStyle,y=m===void 0?"|":m,g=n.cursorColor,x=g===void 0?"inherit":g,w=n.cursorBlinking,_=w===void 0||w,S=n.onLoopDone,M=n.onType,T=n.onDelay,E=n.onDelete,B=q2({words:t,loop:r,typeSpeed:o,deleteSpeed:l,delaySpeed:d,onLoopDone:S,onType:M,onDelay:T,onDelete:E})[0];return Vf.jsxs(Vf.Fragment,{children:[Vf.jsx("span",{children:B}),p&&Vf.jsx(Z2,{cursorStyle:y,cursorColor:x,cursorBlinking:_})]})},ZI=hg.useTypewriter=q2;var eO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$2=pt.createContext&&pt.createContext(eO),ia=globalThis&&globalThis.__assign||function(){return ia=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},ia.apply(this,arguments)},hY=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function tO(n){return n&&n.map(function(e,t){return pt.createElement(e.tag,ia({key:t},e.attr),tO(e.child))})}function tv(n){return function(e){return pt.createElement(pY,ia({attr:ia({},n.attr)},e),tO(n.child))}}function pY(n){var e=function(t){var i=n.attr,r=n.size,s=n.title,o=hY(n,["attr","size","title"]),a=r||t.size||"1em",l;return t.className&&(l=t.className),n.className&&(l=(l?l+" ":"")+n.className),pt.createElement("svg",ia({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,o,{className:l,style:ia(ia({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&pt.createElement("title",null,s),n.children)};return $2!==void 0?pt.createElement($2.Consumer,null,function(t){return e(t)}):e(eO)}function nO(n){return tv({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"}}]})(n)}function iO(n){return tv({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"}}]})(n)}function rO(n){return tv({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"}}]})(n)}function sO(n){return tv({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"}}]})(n)}const mY=()=>{const[n]=ZI({words:["Empowering Developers.","Join the GDG Community.","Innovate with GDG.","Collaborate & Grow.","Build with Google Technology."],loop:!0,delaySpeed:1e3});return ze("section",{className:"relative w-full h-screen mx-auto",children:[ze("div",{className:`${Ri.paddingX} absolute inset-0 top-[80px] max-w-7xl mx-auto flex flex-row items-start gap-5 z-10`,children:[ze("div",{className:"flex flex-col justify-center items-center mt-5",children:[W("div",{className:"w-5 h-5 rounded-full animate-text bg-gradient-to-r from-red-500 via-yellow-500 to-green-500"}),W("div",{className:"w-1 sm:h-80 h-40 animate-text bg-gradient-to-r from-red-500 via-yellow-500 to-green-500"})]}),ze("div",{children:[ze("h1",{className:`${Ri.heroHeadText} text-white text-2xl sm:text-4xl`,children:["Welcome to"," ",W("span",{className:"animate-text bg-gradient-to-r from-red-500 via-yellow-500 to-green-500 bg-clip-text text-transparent font-black",children:"GDG PESCE"})]}),ze("p",{className:`${Ri.heroSubText} mt-2 sm:-mb-10 text-white-100 max-w-lg`,children:[n,W($I,{cursorColor:"#42a5f5"})]})]})]}),W(q7,{}),W("div",{className:"absolute xs:bottom-10 bottom-32 w-full flex justify-center items-center z-10",children:W("a",{href:"#about",children:W("div",{className:"w-[35px] h-[64px] rounded-3xl border-4 border-secondary flex justify-center items-start p-2",children:W(Rl.div,{animate:{y:[0,24,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop"},className:"w-3 h-3 rounded-full bg-secondary mb-1"})})})}),ze("div",{className:"absolute right-5 top-1/2 -translate-y-1/2 flex flex-col gap-5 items-center md:mt-10 mt-5 md:gap-12 z-10",children:[W(ti,{target:"_blank",to:"https://www.linkedin.com/company/gdg-pesce/",children:W(rO,{size:30,className:"icon hover:text-[#0e76a8] hover:translate-y-[-2px] hover:cursor-pointer transition-all ease-in duration-100"})}),W(ti,{target:"_blank",to:"https://x.com/gdsc_pesce",children:W(sO,{size:30,className:"icon hover:text-[#1DA1F2] hover:translate-y-[-2px] hover:cursor-pointer transition-all ease-in duration-100"})}),W(ti,{target:"_blank",to:"https://www.instagram.com/gdg_pescoe/",children:W(iO,{size:30,className:"icon hover:text-[#E1306C] hover:translate-y-[-2px] hover:cursor-pointer transition-all ease-in duration-100"})}),W(ti,{target:"_blank",to:"https://www.facebook.com/profile.php?id=61550324774431&mibextid=ZbWKwL",children:W(nO,{size:30,className:"icon hover:text-[#1877F2] hover:translate-y-[-2px] hover:cursor-pointer transition-all ease-in duration-100"})})]})]})},oO="/assets/LOGO2-b17d2408.png",gY="/assets/comunity-d4ac1ff7.png",vY="/assets/success-01c44bb3.png",yY="/assets/insurance-dce9e69e.png",xY="/assets/networking-fda0b69d.png",_Y="/assets/code1-67da034c.png",wY="/assets/pes-15083932.jpg",SY="/assets/3dlogo-6524eab9.gif",Th=()=>{const[n,e]=F.useState(!1),[t,i]=F.useState(!1),r=qd(),s=r.pathname;F.useEffect(()=>{window.scrollTo(0,0)},[r]),F.useEffect(()=>{const a=()=>{const l=window.scrollY;i(l>100)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]);const o=[{id:"home",title:"Home",path:"/"},{id:"community",title:"Community",path:"/community"},{id:"team",title:"Team",path:"/team"},{id:"about",title:"About Us",path:"/about"},{id:"contact",title:"Contact Us",path:"/contact"}];return ze("div",{children:[W("nav",{className:`${t?"backdrop-blur-sm":"bg-transparent"} w-full flex items-center py-5 fixed top-0 z-20 transition-all duration-300 ease-in-out`,children:ze("div",{className:"w-full flex justify-between items-center max-w-7xl mx-auto px-4",children:[ze(ti,{to:"/",className:"flex items-center",onClick:()=>window.scrollTo(0,0),children:[W("img",{src:oO,alt:"logo",className:"h-12 object-contain"}),W("p",{className:"text-white text-[24px] font-bold cursor-pointer ml-3",children:"GDG on Campus PESCE"})]}),W("ul",{className:"list-none hidden sm:flex flex-row items-center gap-10",children:o.map(a=>W("li",{className:`${s===a.path?"text-white":"text-secondary"} hover:text-white text-[18px] font-medium cursor-pointer transition-all duration-300 ease-in-out`,children:W(ti,{to:a.path,children:a.title})},a.id))}),ze("div",{className:"sm:hidden flex flex-1 justify-end items-center",children:[ze("div",{onClick:()=>e(!n),className:"flex flex-col justify-center items-center space-y-2 cursor-pointer",children:[W("div",{className:`w-6 h-1 bg-white transition-all duration-300 ${n?"rotate-45 translate-y-2":""}`}),W("div",{className:`w-6 h-1 bg-white transition-all duration-300 ${n?"opacity-0":""}`}),W("div",{className:`w-6 h-1 bg-white transition-all duration-300 ${n?"-rotate-45 -translate-y-2":""}`})]}),W("div",{className:`${n?"block":"hidden"} p-6 bg-black bg-opacity-95 absolute top-[80px] right-0 mx-4 my-2 min-w-[140px] z-50 rounded-xl transition-all duration-300 ease-in-out`,children:W("ul",{className:"list-none flex flex-col gap-4",children:o.map(a=>W("li",{className:`${s===a.path?"text-white":"text-secondary"} text-[16px] font-medium cursor-pointer transition-all duration-300 ease-in-out`,onClick:()=>e(!1),children:W(ti,{to:a.path,children:a.title})},a.id))})})]})]})}),W("div",{className:`hero ${n?"mt-[250px]":""}`})]})};var AY=Object.defineProperty,MY=Object.defineProperties,bY=Object.getOwnPropertyDescriptors,eP=Object.getOwnPropertySymbols,CY=Object.prototype.hasOwnProperty,TY=Object.prototype.propertyIsEnumerable,tP=(n,e,t)=>e in n?AY(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Of=(n,e)=>{for(var t in e||(e={}))CY.call(e,t)&&tP(n,t,e[t]);if(eP)for(var t of eP(e))TY.call(e,t)&&tP(n,t,e[t]);return n},kf=(n,e)=>MY(n,bY(e)),zA=class extends F.Component{constructor(n){super(n),this.ref=pt.createRef(),this.state={style:{}};const e={reverse:!1,max:35,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:"1.1",speed:"1000",transition:!0,axis:null,reset:!0};this.width=null,this.height=null,this.left=null,this.top=null,this.transitionTimeout=null,this.updateCall=null,this.element=null,this.settings=Object.assign({},e,this.props.options),this.reverse=this.settings.reverse?-1:1,this.onMouseEnter=this.onMouseEnter.bind(this,this.props.onMouseEnter),this.onMouseMove=this.onMouseMove.bind(this,this.props.onMouseMove),this.onMouseLeave=this.onMouseLeave.bind(this,this.props.onMouseLeave)}componentDidMount(){this.element=this.ref.current,setTimeout(()=>{this.element.parentElement.querySelector(":hover")===this.element&&this.onMouseEnter()},0)}componentWillUnmount(){clearTimeout(this.transitionTimeout),cancelAnimationFrame(this.updateCall)}onMouseEnter(n=()=>{},e){return this.updateElementPosition(),this.setState(Object.assign({},this.state,{style:kf(Of({},this.state.style),{willChange:"transform"})})),this.setTransition(),n(e)}reset(){window.requestAnimationFrame(()=>{this.setState(Object.assign({},this.state,{style:kf(Of({},this.state.style),{transform:`perspective(${this.settings.perspective}px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)`})}))})}onMouseMove(n=()=>{},e){return e.persist(),this.updateCall!==null&&window.cancelAnimationFrame(this.updateCall),this.event=e,this.updateCall=requestAnimationFrame(this.update.bind(this,e)),n(e)}setTransition(){clearTimeout(this.transitionTimeout),this.setState(Object.assign({},this.state,{style:kf(Of({},this.state.style),{transition:`${this.settings.speed}ms ${this.settings.easing}`})})),this.transitionTimeout=setTimeout(()=>{this.setState(Object.assign({},this.state,{style:kf(Of({},this.state.style),{transition:""})}))},this.settings.speed)}onMouseLeave(n=()=>{},e){return this.setTransition(),this.settings.reset&&this.reset(),n(e)}getValues(n){const e=(n.nativeEvent.clientX-this.left)/this.width,t=(n.nativeEvent.clientY-this.top)/this.height,i=Math.min(Math.max(e,0),1),r=Math.min(Math.max(t,0),1),s=(this.reverse*(this.settings.max/2-i*this.settings.max)).toFixed(2),o=(this.reverse*(r*this.settings.max-this.settings.max/2)).toFixed(2),a=i*100,l=r*100;return{tiltX:s,tiltY:o,percentageX:a,percentageY:l}}updateElementPosition(){const n=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=n.left,this.top=n.top}update(n){const e=this.getValues(n);this.setState(Object.assign({},this.state,{style:kf(Of({},this.state.style),{transform:`perspective(${this.settings.perspective}px) rotateX(${this.settings.axis==="x"?0:e.tiltY}deg) rotateY(${this.settings.axis==="y"?0:e.tiltX}deg) scale3d(${this.settings.scale}, ${this.settings.scale}, ${this.settings.scale})`})})),this.updateCall=null}render(){const n=Object.assign({},this.props.style,this.state.style);return W("div",{style:n,ref:this.ref,className:this.props.className,onMouseEnter:this.onMouseEnter,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave,children:this.props.children})}};const EY=[{title:"Community Building.",icon:gY},{title:"Learning and Growth.",icon:vY},{title:"Hands-on Experience.",icon:yY},{title:"Networking with Industry Professionals.",icon:xY}],PY=[{id:1,image:"https://media.licdn.com/dms/image/v2/D5622AQHj5gbPCXJJJQ/feedshare-shrink_800/feedshare-shrink_800/0/1730351725148?e=1738195200&v=beta&t=xJkIV6hBQXwGTKhR2r09MHfh9dMWBtGUGQgZ9undcfA",title:"Build with AI Workshop! ",description:"Explored AI concepts and built models together. Stay tuned for more learning events! "},{id:2,image:"https://media.licdn.com/dms/image/v2/D5622AQEMwex3XcHPzg/feedshare-shrink_1280/feedshare-shrink_1280/0/1729142758040?e=1738195200&v=beta&t=kFeWYiVCujQ2tLlg0-_a1GnL4vVVamkz_tkUCr3l2ZE",title:"GenAI Workshop & Doubt Clearing ",description:": Explored Generative AI with amazing energy. Stay tuned for more opportunities to innovate! "},{id:3,image:"https://media.licdn.com/dms/image/v2/D5622AQGSsT9HQTu9cA/feedshare-shrink_1280/feedshare-shrink_1280/0/1727781725508?e=1738195200&v=beta&t=txWGi6uJQYzR1jvr1Q9xfEs1I7q0yczx3KAUYBfDBVA",title:"New Beginnings, Endless Possibilities ",description:"Kicked off an exciting journey with GDG on Campus, where innovation meets collaboration! "},{id:4,image:"https://media.licdn.com/dms/image/v2/D5622AQF4nad1fgO0NA/feedshare-shrink_800/feedshare-shrink_800/0/1727789555153?e=1738195200&v=beta&t=yYnrQ8ZGmfNmv2Tl0-nhH1_XzqUpYxo7aPJH3a_0o8M",title:"Meet the Dream Team!  ",description:"Grateful to be part of an inspiring, innovative family ready to make a lasting impact! "}],aO=[{date:"Dec 31, 2024",eventType:"Codethon",title:"LeetCode Codethon 2024 - Solve, Code, Win!",details:"Join the LeetCode Codethon 2024 and showcase your algorithmic and problem-solving skills! Compete with coders worldwide in this exciting event featuring a series of timed coding challenges. Solve problems across various topics such as dynamic programming, data structures, and algorithms to win exciting prizes and recognition.",link:"https://gdg.community.dev/events/details/google-gdg-on-campus-annasaheb-dange-college-of-engineering-and-technology-ashta-india-presents-solution-challenge-2025-info-session/",location:"Online",image:"https://res.cloudinary.com/startup-grind/image/upload/c_scale,w_2560/c_crop,h_640,w_2560,y_0.0_mul_h_sub_0.0_mul_640/c_crop,h_640,w_2560/c_fill,dpr_2.0,f_auto,g_center,q_auto:good/v1/gcs/platform-data-goog/event_banners/banner_FEU9cWN.png",isUpcoming:!0},{date:"Dec 28, 2024",eventType:"Hackathon",title:"Tech Winter Break - GDG On Campus PESCE : GDG Impact Challenge 2024",details:"Design and develop a fully functional website for GDG on Campus PESCE as part of the GDG Impact Challenge 2024. Showcase creativity and technical expertise by incorporating 3D effects, user-friendly navigation, and essential pages such as Home, Community, Team, About Us, and Contact Us.",link:"https://gdg.community.dev/events/details/google-gdg-on-campus-pes-college-of-engineering-mandya-india-presents-tech-winter-break-gdg-on-campus-pesce-gdg-impact-challenge-2024/",location:"Online",image:"https://res.cloudinary.com/startup-grind/image/upload/c_fill,w_500,h_500,g_center/c_fill,dpr_2.0,f_auto,g_center,q_auto:good/v1/gcs/platform-data-goog/events/thumbnail_4sEyqwl.jpg",isUpcoming:!0},{date:"Dec 10, 2024",eventType:"Workshop / Study Group",title:"Expert Live Session: Flutter Development Pathway & Insights",details:"Join the live session to explore the Flutter development pathway, offering insights into mobile app development with Flutter.",link:"https://gdg.community.dev/events/details/google-gdg-on-campus-pes-college-of-engineering-mandya-india-presents-expert-live-session-flutter-development-pathway-amp-insights/",location:"GDG on Campus, PES College of Engineering - Mandya, India",image:"https://res.cloudinary.com/startup-grind/image/upload/c_fill,w_500,h_500,g_center/c_fill,dpr_2.0,f_auto,g_center,q_auto:good/v1/gcs/platform-data-goog/events/build%20with%20ai_yK9t846.png",isUpcoming:!1},{date:"Dec 6, 2024",eventType:"Workshop / Study Group",title:"Tech Winter Break - Web Development",details:"A deep dive into modern web development practices, frameworks, and tools for aspiring web developers.",link:"https://gdg.community.dev/events/details/google-gdg-on-campus-pes-college-of-engineering-mandya-india-presents-tech-winter-break-web-development-gdg-on-campus-pes-college-of-engineering-mandya/",location:"GDG on Campus, PES College of Engineering - Mandya, India",image:"https://res.cloudinary.com/startup-grind/image/upload/c_fill,w_500,h_500,g_center/c_fill,dpr_2.0,f_auto,g_center,q_auto:good/v1/gcs/platform-data-goog/events/WEB_6odMVNf.png",isUpcoming:!1},{date:"Oct 30, 2024",eventType:"Workshop / Study Group",title:"Build with AI",details:"Hands-on workshop exploring the integration of AI in modern web and mobile applications.",link:"https://gdg.community.dev/events/details/google-gdg-on-campus-pes-college-of-engineering-mandya-india-presents-build-with-ai/",location:"GDG on Campus, PES College of Engineering - Mandya, India",image:"https://res.cloudinary.com/startup-grind/image/upload/c_fill,w_500,h_500,g_center/c_fill,dpr_2.0,f_auto,g_center,q_auto:good/v1/gcs/platform-data-goog/events/WhatsApp%20Image%202024-10-28%20at%208.51.56%20PM_VXkgyh6.jpeg",isUpcoming:!1},{date:"Oct 16, 2024",eventType:"Workshop / Study Group",title:"Mastering GenAI: Hands-on Workshop and Q&A Session",details:"A comprehensive session on generative AI, its uses, and the latest trends in AI-powered solutions.",link:"https://gdg.community.dev/events/details/google-gdg-on-campus-pes-college-of-engineering-mandya-india-presents-mastering-genai-hands-on-workshop-and-qampa-session/",location:"GDG on Campus, PES College of Engineering - Mandya, India",image:"https://res.cloudinary.com/startup-grind/image/upload/c_fill,w_500,h_500,g_center/c_fill,dpr_2.0,f_auto,g_center,q_auto:good/v1/gcs/platform-data-goog/events/WhatsApp%20Image%202024-10-15%20at%2010.08.23%20PM_3fHNvkq.jpeg",isUpcoming:!1},{date:"Oct 4, 2024",eventType:"Workshop / Study Group",title:"Unlocking the Future: A Workshop on Generative AI",details:"Learn about generative AI and how it's transforming industries. The workshop includes practical use cases and a Q&A session.",link:"https://gdg.community.dev/events/details/google-gdg-on-campus-pes-college-of-engineering-mandya-india-presents-unlocking-the-future-a-workshop-on-generative-ai/",location:"GDG on Campus, PES College of Engineering - Mandya, India",image:"https://res.cloudinary.com/startup-grind/image/fetch/c_fill,w_500,h_500,g_center/c_fill,dpr_2.0,f_auto,g_center,q_auto:good/https://res.cloudinary.com/startup-grind/image/upload/c_fill%2Cdpr_2.0%2Cf_auto%2Cg_center%2Cq_auto:good/v1/gcs/platform-data-goog/event_banners/gdev-eccosystems-bevy-chapters-thumbnail_x4z1EBy.png",isUpcoming:!1},{date:"Sep 24, 2024",eventType:"Info Session",title:"Ignite Your Journey with GDG",details:"An informational session to ignite your journey in tech and explore the opportunities with GDG.",link:"https://gdg.community.dev/events/details/google-gdg-on-campus-pes-college-of-engineering-mandya-india-presents-ignite-your-journey-with-gdg/",location:"GDG on Campus, PES College of Engineering - Mandya, India",image:"https://res.cloudinary.com/startup-grind/image/upload/c_fill,w_500,h_500,g_center/c_fill,dpr_2.0,f_auto,g_center,q_auto:good/v1/gcs/platform-data-goog/events/Copy%20of%20Copy%20of%20GDSC23%20Social%20Template%201x1%20Blue%20%281%29_kaydDD8.jpg",isUpcoming:!1}],RY=[{name:"Kushala M Gowda",role:"Organizer",college:"P.E.S College of Engineering",image:"https://res.cloudinary.com/startup-grind/image/upload/c_fill,w_250,h_250,g_center/c_fill,dpr_2.0,f_auto,g_center,q_auto:good/v1/gcs/platform-data-goog/avatars/kushala_m_gowda_EhCQ8OU.jpg",profileLink:"https://gdg.community.dev/u/kushala_m/"},{name:"Gowtham C K",role:"Co-Organizer",college:"P.E.S College of Engineering",image:"https://res.cloudinary.com/startup-grind/image/upload/c_fill,w_250,h_250,g_center/c_fill,dpr_2.0,f_auto,g_center,q_auto:good/v1/gcs/platform-data-goog/avatars/gowtham_c_k_D2PrTbk.png",profileLink:"https://gdg.community.dev/u/mnyceg/"},{name:"D Hariharan",role:"Community Lead",college:"P.E.S College of Engineering",image:"https://res.cloudinary.com/startup-grind/image/upload/c_fill,w_250,h_250,g_center/c_fill,dpr_2.0,f_auto,g_center,q_auto:good/v1/gcs/platform-data-goog/avatars/d_hariharan.png",profileLink:"https://gdg.community.dev/u/mp4xam/"},{name:"Deekshith H R",role:"Android Lead",image:"https://media.licdn.com/dms/image/v2/D5635AQHV7pY5CXQFRA/profile-framedphoto-shrink_400_400/profile-framedphoto-shrink_400_400/0/1698385991155?e=1736197200&v=beta&t=5kbyRx-Pk1BbZtpHODw6YPrY7Tx8DbDj8mNExM6jNfM",profileLink:"https://gdg.community.dev/u/mjgapr/"},{name:"J P Prajwal",role:"AI-ML Lead",image:"https://res.cloudinary.com/startup-grind/image/upload/c_fill,w_250,h_250,g_center/c_fill,dpr_2.0,f_auto,g_center,q_auto:good/v1/gcs/platform-data-goog/contentbuilder/GDG-Bevy-DefaultProfile_xY7OLAZ.png",profileLink:"https://gdg.community.dev/u/mbz6j5/"},{name:"Pavan Gowda T S T S",role:"Flutter Lead",image:"https://res.cloudinary.com/startup-grind/image/upload/c_fill,w_250,h_250,g_center/c_fill,dpr_2.0,f_auto,g_center,q_auto:good/v1/gcs/platform-data-goog/avatars/pavan_gowda_t_s_t_s.jpg",profileLink:"https://gdg.community.dev/u/m8ps5w/"}],nv=n=>({hidden:{y:-50,opacity:0},show:{y:0,opacity:1,transition:{type:"spring",duration:1.25,delay:n}}}),Gd=(n,e,t,i)=>({hidden:{x:n==="left"?100:n==="right"?-100:0,y:n==="up"?100:n==="down"?-100:0,opacity:0},show:{x:0,y:0,opacity:1,transition:{type:e,delay:t,duration:i,ease:"easeOut"}}}),nP=(n,e,t,i)=>({hidden:{x:n==="left"?"-100%":n==="right"?"100%":0,y:n==="up"||n==="down"?"100%":0},show:{x:0,y:0,transition:{type:e,delay:t,duration:i,ease:"easeOut"}}}),BY=(n,e)=>({hidden:{},show:{transition:{staggerChildren:n,delayChildren:e||0}}}),Uu=(n,e)=>function(){return ze(Rl.section,{variants:BY(),initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.25},className:`${Ri.padding} max-w-7xl mx-auto relative z-0`,children:[W("span",{className:"hash-span",id:e,children:""}),W(n,{})]})},LY=({index:n,title:e,icon:t})=>W(zA,{className:"xs:w-[250px] w-full",children:W("div",{variants:Gd("right","spring",n*.5,.75),className:"w-full green-pink-gradient p-[1px] rounded-[20px] shadow-card",children:ze("div",{options:{max:45,scale:1,speed:450},className:"bg-tertiary rounded-[20px] py-5 px-12 min-h-[280px] flex justify-evenly items-center flex-col",children:[W("img",{src:t,alt:"web-development",className:"w-16 h-16 object-contain"}),W("h3",{className:"text-white text-[20px] font-bold text-center",children:e})]})})}),DY=()=>ze(m0,{children:[ze("div",{variants:nv(),children:[W("p",{className:Ri.sectionSubText,children:"Google Developer Group (GDG)"}),W("h5",{className:`${Ri.sectionHeadText} animate-text bg-gradient-to-r from-teal-500 via-purple-500 to-orange-500 bg-clip-text text-transparent font-black`,children:"GDG on Campus - PESCE, Mandya."})]}),ze("div",{className:"flex items-center min-[1000px]:flex-row flex-col-reverse",children:[ze("p",{variants:Gd("","",.1,1),className:"mt-4 text-secondary text-[17px] max-w-3xl leading-[30px]",children:["Google Developer Groups (GDG) is a global network of developers who share a passion for building technology solutions using Googles developer tools. At PES College of Engineering, our GDG chapter fosters a vibrant community where students collaborate and innovate through various activities and events.",W("br",{}),"Our goal is to empower students by organizing workshops, hackathons, coding challenges, and tech talks on technologies like Machine Learning, Cloud Computing, Web Development, and Mobile App Development. We also provide opportunities to connect with industry professionals and gain real-world project experience.",W("br",{}),"Whether you're interested in Google Cloud, Android Development, or AI advancements, GDG PES College of Engineering offers a welcoming environment to learn, create, and innovate. Join us to expand your skills, collaborate, and explore new technologies.",W("br",{}),"To learn more about the GDG program and how to get involved, visit the official GDG website:"," ",W("a",{href:"https://developers.google.com/community",target:"_blank",rel:"noopener noreferrer",className:"animate-text bg-gradient-to-r from-teal-500 via-purple-500 to-orange-500 bg-clip-text text-transparent font-black",children:"GDG Official Site"}),"."]}),W(zA,{className:"xs:w-[350px] xs:h-[350px] w-full h-full m-auto max-[1000px]:my-14",children:W("div",{variants:Gd("","",.5,1),className:"xs:w-[350px] w-full green-pink-gradient p-[1px] rounded-[20px] shadow-card",children:W("div",{options:{max:45,scale:1,speed:450},className:"bg-tertiary rounded-[20px] min-h-[250px] flex justify-evenly items-center flex-col overflow-hidden",children:W("img",{src:wY,alt:"Hardik",className:"w-full h-full object-contain"})})})})]}),W("div",{className:"mt-20 flex flex-wrap gap-10",children:EY.map((n,e)=>W(LY,{index:e,...n},n.title))})]}),lO=Uu(DY,"about");var iv={},cO={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=r(s,i(a)))}return s}function i(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=r(o,a));return o}function r(s,o){return o?s?s+" "+o:s+o:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(cO);var Gu=cO.exports;iv.__esModule=!0;iv.default=void 0;var IY=UA(F),Ro=UA(ED),OY=UA(Gu);function UA(n){return n&&n.__esModule?n:{default:n}}const uO=({animate:n=!0,className:e="",layout:t="2-columns",lineColor:i="#FFF",children:r})=>(typeof window=="object"&&document.documentElement.style.setProperty("--line-color",i),IY.default.createElement("div",{className:(0,OY.default)(e,"vertical-timeline",{"vertical-timeline--animate":n,"vertical-timeline--two-columns":t==="2-columns","vertical-timeline--one-column-left":t==="1-column"||t==="1-column-left","vertical-timeline--one-column-right":t==="1-column-right"})},r));uO.propTypes={children:Ro.default.oneOfType([Ro.default.arrayOf(Ro.default.node),Ro.default.node]).isRequired,className:Ro.default.string,animate:Ro.default.bool,layout:Ro.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:Ro.default.string};var kY=uO;iv.default=kY;var rv={};function lw(){return lw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},lw.apply(this,arguments)}function FY(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,cw(n,e)}function cw(n,e){return cw=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},cw(n,e)}function NY(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var uw=new Map,Gm=new WeakMap,iP=0,fO=void 0;function zY(n){fO=n}function UY(n){return n?(Gm.has(n)||(iP+=1,Gm.set(n,iP.toString())),Gm.get(n)):"0"}function GY(n){return Object.keys(n).sort().filter(function(e){return n[e]!==void 0}).map(function(e){return e+"_"+(e==="root"?UY(n.root):n[e])}).toString()}function HY(n){var e=GY(n),t=uw.get(e);if(!t){var i=new Map,r,s=new IntersectionObserver(function(o){o.forEach(function(a){var l,c=a.isIntersecting&&r.some(function(d){return a.intersectionRatio>=d});n.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=c),(l=i.get(a.target))==null||l.forEach(function(d){d(c,a)})})},n);r=s.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),t={id:e,observer:s,elements:i},uw.set(e,t)}return t}function GA(n,e,t,i){if(t===void 0&&(t={}),i===void 0&&(i=fO),typeof window.IntersectionObserver>"u"&&i!==void 0){var r=n.getBoundingClientRect();return e(i,{isIntersecting:i,target:n,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),function(){}}var s=HY(t),o=s.id,a=s.observer,l=s.elements,c=l.get(n)||[];return l.has(n)||l.set(n,c),c.push(e),a.observe(n),function(){c.splice(c.indexOf(e),1),c.length===0&&(l.delete(n),a.unobserve(n)),l.size===0&&(a.disconnect(),uw.delete(o))}}var VY=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function rP(n){return typeof n.children!="function"}var t0=function(n){FY(e,n);function e(i){var r;return r=n.call(this,i)||this,r.node=null,r._unobserveCb=null,r.handleNode=function(s){r.node&&(r.unobserve(),!s&&!r.props.triggerOnce&&!r.props.skip&&r.setState({inView:!!r.props.initialInView,entry:void 0})),r.node=s||null,r.observeNode()},r.handleChange=function(s,o){s&&r.props.triggerOnce&&r.unobserve(),rP(r.props)||r.setState({inView:s,entry:o}),r.props.onChange&&r.props.onChange(s,o)},r.state={inView:!!i.initialInView,entry:void 0},r}var t=e.prototype;return t.componentDidUpdate=function(r){(r.rootMargin!==this.props.rootMargin||r.root!==this.props.root||r.threshold!==this.props.threshold||r.skip!==this.props.skip||r.trackVisibility!==this.props.trackVisibility||r.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},t.componentWillUnmount=function(){this.unobserve(),this.node=null},t.observeNode=function(){if(!(!this.node||this.props.skip)){var r=this.props,s=r.threshold,o=r.root,a=r.rootMargin,l=r.trackVisibility,c=r.delay,d=r.fallbackInView;this._unobserveCb=GA(this.node,this.handleChange,{threshold:s,root:o,rootMargin:a,trackVisibility:l,delay:c},d)}},t.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},t.render=function(){if(!rP(this.props)){var r=this.state,s=r.inView,o=r.entry;return this.props.children({inView:s,entry:o,ref:this.handleNode})}var a=this.props,l=a.children,c=a.as,d=NY(a,VY);return F.createElement(c||"div",lw({ref:this.handleNode},d),l)},e}(F.Component);t0.displayName="InView";t0.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function WY(n){var e=n===void 0?{}:n,t=e.threshold,i=e.delay,r=e.trackVisibility,s=e.rootMargin,o=e.root,a=e.triggerOnce,l=e.skip,c=e.initialInView,d=e.fallbackInView,h=F.useRef(),p=F.useState({inView:!!c}),m=p[0],y=p[1],g=F.useCallback(function(w){h.current!==void 0&&(h.current(),h.current=void 0),!l&&w&&(h.current=GA(w,function(_,S){y({inView:_,entry:S}),S.isIntersecting&&a&&h.current&&(h.current(),h.current=void 0)},{root:o,rootMargin:s,threshold:t,trackVisibility:r,delay:i},d))},[Array.isArray(t)?t.toString():t,o,s,a,l,r,d,i]);F.useEffect(function(){!h.current&&m.entry&&!a&&!l&&y({inView:!!c})});var x=[g,m.inView,m.entry];return x.ref=x[0],x.inView=x[1],x.entry=x[2],x}const jY=Object.freeze(Object.defineProperty({__proto__:null,InView:t0,default:t0,defaultFallbackInView:zY,observe:GA,useInView:WY},Symbol.toStringTag,{value:"Module"})),JY=bw(jY);rv.__esModule=!0;rv.default=void 0;var Bo=HA(F),nn=HA(ED),Hm=HA(Gu),XY=JY;function HA(n){return n&&n.__esModule?n:{default:n}}const dO=({children:n="",className:e="",contentArrowStyle:t=null,contentStyle:i=null,date:r="",dateClassName:s="",icon:o=null,iconClassName:a="",iconOnClick:l=null,onTimelineElementClick:c=null,iconStyle:d=null,id:h="",position:p="",style:m=null,textClassName:y="",intersectionObserverProps:g={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:x=!1})=>Bo.default.createElement(XY.InView,g,({inView:w,ref:_})=>Bo.default.createElement("div",{ref:_,id:h,className:(0,Hm.default)(e,"vertical-timeline-element",{"vertical-timeline-element--left":p==="left","vertical-timeline-element--right":p==="right","vertical-timeline-element--no-children":n===""}),style:m},Bo.default.createElement(Bo.default.Fragment,null,Bo.default.createElement("span",{style:d,onClick:l,className:(0,Hm.default)(a,"vertical-timeline-element-icon",{"bounce-in":w||x,"is-hidden":!(w||x)})},o),Bo.default.createElement("div",{style:i,onClick:c,className:(0,Hm.default)(y,"vertical-timeline-element-content",{"bounce-in":w||x,"is-hidden":!(w||x)})},Bo.default.createElement("div",{style:t,className:"vertical-timeline-element-content-arrow"}),n,Bo.default.createElement("span",{className:(0,Hm.default)(s,"vertical-timeline-element-date")},r)))));dO.propTypes={children:nn.default.oneOfType([nn.default.arrayOf(nn.default.node),nn.default.node]),className:nn.default.string,contentArrowStyle:nn.default.shape({}),contentStyle:nn.default.shape({}),date:nn.default.node,dateClassName:nn.default.string,icon:nn.default.element,iconClassName:nn.default.string,iconStyle:nn.default.shape({}),iconOnClick:nn.default.func,onTimelineElementClick:nn.default.func,id:nn.default.string,position:nn.default.string,style:nn.default.shape({}),textClassName:nn.default.string,visible:nn.default.bool,intersectionObserverProps:nn.default.shape({root:nn.default.object,rootMargin:nn.default.string,threshold:nn.default.number,triggerOnce:nn.default.bool})};var KY=dO;rv.default=KY;var hO={VerticalTimeline:iv.default,VerticalTimelineElement:rv.default};const YY=({event:n})=>ze(hO.VerticalTimelineElement,{contentStyle:{background:"#1d1836",color:"#fff"},contentArrowStyle:{borderRight:"7px solid  #232631"},date:n.date,iconStyle:{background:"#3e3e3e"},icon:W("div",{className:"flex justify-center items-center w-full h-full",children:W("img",{src:n.icon||_Y,alt:n.title,className:"w-[60%] h-[60%] object-contain"})}),children:[ze("div",{children:[W("h3",{className:"text-white text-[24px] font-bold",children:n.title}),W("p",{className:"text-secondary text-[16px] font-semibold",style:{margin:0},children:n.eventType}),n.image&&W("img",{src:n.image,alt:`${n.title} Image`,className:"w-full h-[250px] object-cover rounded-lg mt-4"}),W("p",{className:"text-white text-[14px] mt-2",children:n.location})]}),W("ul",{className:"mt-5 list-disc ml-5 space-y-2",children:n.details.split(`
`).map((e,t)=>W("li",{className:"text-white-100 text-[14px] pl-1 tracking-wider",children:e},`event-detail-${t}`))}),n.isUpcoming&&W("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"mt-5 inline-block py-2 px-4 bg-gradient-to-r from-teal-500 via-purple-500 to-orange-500 text-white font-bold rounded-lg hover:bg-gradient-to-l",children:"View Details and Register"})]}),QY=()=>ze(m0,{children:[ze(Rl.div,{variants:nv(),children:[W("p",{className:`${Ri.sectionSubText} text-center`,children:"GDG PESCE"}),W("h2",{className:`${Ri.sectionHeadText} animate-text bg-gradient-to-r from-teal-500 via-purple-500 to-orange-500 bg-clip-text text-transparent font-black text-center`,children:"Upcoming Events"})]}),W("div",{className:"mt-20 flex flex-col",children:W(hO.VerticalTimeline,{children:aO.filter(n=>n.isUpcoming).map((n,e)=>W(YY,{event:n},`upcoming-event-${e}`))})})]}),qY=Uu(QY,"upcoming-events"),ZY=({date:n,eventType:e,title:t,details:i,link:r,location:s,image:o,isUpcoming:a})=>ze(zA,{options:{max:45,scale:1,speed:450},className:"bg-tertiary p-5 rounded-2xl sm:w-[360px] w-full relative",children:[ze("div",{className:"relative w-full h-[230px]",children:[W("img",{src:o,alt:t,className:"w-full h-full object-cover rounded-2xl"}),!a&&W("div",{className:"absolute top-4 left-4 sm:top-6 sm:left-6 bg-teal-500 text-white text-xs sm:text-sm font-semibold p-2 sm:p-3 rounded-md z-10 max-w-max",children:"Past Event"})]}),ze("div",{className:"mt-5",children:[W("p",{className:"text-gray-400 text-sm font-medium",children:n}),W("span",{className:`text-sm font-semibold ${a?"text-teal-500":"text-gray-400"}`,children:e}),W("h3",{className:"text-white font-bold text-2xl mt-2",children:t}),W("p",{className:"mt-2 text-secondary text-lg h-[8rem] overflow-y-scroll",children:i})]}),s&&ze("p",{className:"mt-2 text-sm text-gray-500",children:["Location: ",s]}),W("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"mt-3 text-teal-500 underline text-sm font-medium",children:" View details"})]}),$Y=()=>ze("section",{id:"events",className:"bg-dark p-8",children:[ze(Rl.div,{variants:nv(),className:"text-center mb-12",children:[W("p",{className:"text-lg font-medium text-gray-500",children:"GDG PESCE"}),W("h2",{className:"text-3xl font-extrabold text-transparent bg-gradient-to-r from-teal-500 via-purple-500 to-orange-500 bg-clip-text",children:"Past Events"})]}),W("div",{className:"mt-12",children:W("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:aO.filter(n=>!n.isUpcoming).map((n,e)=>W(ZY,{...n},`past-event-${e}`))})})]}),eQ=Uu($Y,"events");var pO={},mO={},sv={},gO={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};n.default=e})(gO);var tQ="Expected a function",sP=0/0,nQ="[object Symbol]",iQ=/^\s+|\s+$/g,rQ=/^[-+]0x[0-9a-f]+$/i,sQ=/^0b[01]+$/i,oQ=/^0o[0-7]+$/i,aQ=parseInt,lQ=typeof Pp=="object"&&Pp&&Pp.Object===Object&&Pp,cQ=typeof self=="object"&&self&&self.Object===Object&&self,uQ=lQ||cQ||Function("return this")(),fQ=Object.prototype,dQ=fQ.toString,hQ=Math.max,pQ=Math.min,Qx=function(){return uQ.Date.now()};function mQ(n,e,t){var i,r,s,o,a,l,c=0,d=!1,h=!1,p=!0;if(typeof n!="function")throw new TypeError(tQ);e=oP(e)||0,fw(t)&&(d=!!t.leading,h="maxWait"in t,s=h?hQ(oP(t.maxWait)||0,e):s,p="trailing"in t?!!t.trailing:p);function m(E){var B=i,C=r;return i=r=void 0,c=E,o=n.apply(C,B),o}function y(E){return c=E,a=setTimeout(w,e),d?m(E):o}function g(E){var B=E-l,C=E-c,R=e-B;return h?pQ(R,s-C):R}function x(E){var B=E-l,C=E-c;return l===void 0||B>=e||B<0||h&&C>=s}function w(){var E=Qx();if(x(E))return _(E);a=setTimeout(w,g(E))}function _(E){return a=void 0,p&&i?m(E):(i=r=void 0,o)}function S(){a!==void 0&&clearTimeout(a),c=0,i=l=r=a=void 0}function M(){return a===void 0?o:_(Qx())}function T(){var E=Qx(),B=x(E);if(i=arguments,r=this,l=E,B){if(a===void 0)return y(l);if(h)return a=setTimeout(w,e),m(l)}return a===void 0&&(a=setTimeout(w,e)),o}return T.cancel=S,T.flush=M,T}function fw(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function gQ(n){return!!n&&typeof n=="object"}function vQ(n){return typeof n=="symbol"||gQ(n)&&dQ.call(n)==nQ}function oP(n){if(typeof n=="number")return n;if(vQ(n))return sP;if(fw(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=fw(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=n.replace(iQ,"");var t=sQ.test(n);return t||oQ.test(n)?aQ(n.slice(2),t?2:8):rQ.test(n)?sP:+n}var yQ=mQ,Ie={},VA={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(F);function t(r){return r&&r.__esModule?r:{default:r}}var i={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(s){return e.default.createElement("ul",{style:{display:"block"}},s)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(s){return e.default.createElement("button",null,s+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null};n.default=i})(VA);Object.defineProperty(Ie,"__esModule",{value:!0});Ie.checkSpecKeys=Ie.checkNavigable=Ie.changeSlide=Ie.canUseDOM=Ie.canGoNext=void 0;Ie.clamp=yO;Ie.extractObject=void 0;Ie.filterSettings=DQ;Ie.validSettings=Ie.swipeStart=Ie.swipeMove=Ie.swipeEnd=Ie.slidesOnRight=Ie.slidesOnLeft=Ie.slideHandler=Ie.siblingDirection=Ie.safePreventDefault=Ie.lazyStartIndex=Ie.lazySlidesOnRight=Ie.lazySlidesOnLeft=Ie.lazyEndIndex=Ie.keyHandler=Ie.initializedState=Ie.getWidth=Ie.getTrackLeft=Ie.getTrackCSS=Ie.getTrackAnimateCSS=Ie.getTotalSlides=Ie.getSwipeDirection=Ie.getSlideCount=Ie.getRequiredLazySlides=Ie.getPreClones=Ie.getPostClones=Ie.getOnDemandLazySlides=Ie.getNavigableIndexes=Ie.getHeight=void 0;var xQ=vO(F),_Q=vO(VA);function vO(n){return n&&n.__esModule?n:{default:n}}function Hd(n){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(n)}function aP(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function rn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?aP(Object(t),!0).forEach(function(i){wQ(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):aP(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function wQ(n,e,t){return e=SQ(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function SQ(n){var e=AQ(n,"string");return Hd(e)=="symbol"?e:String(e)}function AQ(n,e){if(Hd(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(Hd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function yO(n,e,t){return Math.max(e,Math.min(n,t))}var ru=Ie.safePreventDefault=function(e){var t=["onTouchStart","onTouchMove","onWheel"];t.includes(e._reactName)||e.preventDefault()},xO=Ie.getOnDemandLazySlides=function(e){for(var t=[],i=_O(e),r=wO(e),s=i;s<r;s++)e.lazyLoadedList.indexOf(s)<0&&t.push(s);return t};Ie.getRequiredLazySlides=function(e){for(var t=[],i=_O(e),r=wO(e),s=i;s<r;s++)t.push(s);return t};var _O=Ie.lazyStartIndex=function(e){return e.currentSlide-MQ(e)},wO=Ie.lazyEndIndex=function(e){return e.currentSlide+bQ(e)},MQ=Ie.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},bQ=Ie.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},dw=Ie.getWidth=function(e){return e&&e.offsetWidth||0},SO=Ie.getHeight=function(e){return e&&e.offsetHeight||0},AO=Ie.getSwipeDirection=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i,r,s,o;return i=e.startX-e.curX,r=e.startY-e.curY,s=Math.atan2(r,i),o=Math.round(s*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":t===!0?o>=35&&o<=135?"up":"down":"vertical"},MO=Ie.canGoNext=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t};Ie.extractObject=function(e,t){var i={};return t.forEach(function(r){return i[r]=e[r]}),i};Ie.initializedState=function(e){var t=xQ.default.Children.count(e.children),i=e.listRef,r=Math.ceil(dw(i)),s=e.trackRef&&e.trackRef.node,o=Math.ceil(dw(s)),a;if(e.vertical)a=r;else{var l=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(l*=r/100),a=Math.ceil((r-l)/e.slidesToShow)}var c=i&&SO(i.querySelector('[data-index="0"]')),d=c*e.slidesToShow,h=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(h=t-1-e.initialSlide);var p=e.lazyLoadedList||[],m=xO(rn(rn({},e),{},{currentSlide:h,lazyLoadedList:p}));p=p.concat(m);var y={slideCount:t,slideWidth:a,listWidth:r,trackWidth:o,currentSlide:h,slideHeight:c,listHeight:d,lazyLoadedList:p};return e.autoplaying===null&&e.autoplay&&(y.autoplaying="playing"),y};Ie.slideHandler=function(e){var t=e.waitForAnimate,i=e.animating,r=e.fade,s=e.infinite,o=e.index,a=e.slideCount,l=e.lazyLoad,c=e.currentSlide,d=e.centerMode,h=e.slidesToScroll,p=e.slidesToShow,m=e.useCSS,y=e.lazyLoadedList;if(t&&i)return{};var g=o,x,w,_,S={},M={},T=s?o:yO(o,0,a-1);if(r){if(!s&&(o<0||o>=a))return{};o<0?g=o+a:o>=a&&(g=o-a),l&&y.indexOf(g)<0&&(y=y.concat(g)),S={animating:!0,currentSlide:g,lazyLoadedList:y,targetSlide:g},M={animating:!1,targetSlide:g}}else x=g,g<0?(x=g+a,s?a%h!==0&&(x=a-a%h):x=0):!MO(e)&&g>c?g=x=c:d&&g>=a?(g=s?a:a-1,x=s?0:a-1):g>=a&&(x=g-a,s?a%h!==0&&(x=0):x=a-p),!s&&g+p>=a&&(x=a-p),w=i0(rn(rn({},e),{},{slideIndex:g})),_=i0(rn(rn({},e),{},{slideIndex:x})),s||(w===_&&(g=x),w=_),l&&(y=y.concat(xO(rn(rn({},e),{},{currentSlide:g})))),m?(S={animating:!0,currentSlide:x,trackStyle:bO(rn(rn({},e),{},{left:w})),lazyLoadedList:y,targetSlide:T},M={animating:!1,currentSlide:x,trackStyle:n0(rn(rn({},e),{},{left:_})),swipeLeft:null,targetSlide:T}):S={currentSlide:x,trackStyle:n0(rn(rn({},e),{},{left:_})),lazyLoadedList:y,targetSlide:T};return{state:S,nextState:M}};Ie.changeSlide=function(e,t){var i,r,s,o,a,l=e.slidesToScroll,c=e.slidesToShow,d=e.slideCount,h=e.currentSlide,p=e.targetSlide,m=e.lazyLoad,y=e.infinite;if(o=d%l!==0,i=o?0:(d-h)%l,t.message==="previous")s=i===0?l:c-i,a=h-s,m&&!y&&(r=h-s,a=r===-1?d-1:r),y||(a=p-l);else if(t.message==="next")s=i===0?l:i,a=h+s,m&&!y&&(a=(h+l)%d+i),y||(a=p+l);else if(t.message==="dots")a=t.index*t.slidesToScroll;else if(t.message==="children"){if(a=t.index,y){var g=PQ(rn(rn({},e),{},{targetSlide:a}));a>t.currentSlide&&g==="left"?a=a-d:a<t.currentSlide&&g==="right"&&(a=a+d)}}else t.message==="index"&&(a=Number(t.index));return a};Ie.keyHandler=function(e,t,i){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":e.keyCode===37?i?"next":"previous":e.keyCode===39?i?"previous":"next":""};Ie.swipeStart=function(e,t,i){return e.target.tagName==="IMG"&&ru(e),!t||!i&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};Ie.swipeMove=function(e,t){var i=t.scrolling,r=t.animating,s=t.vertical,o=t.swipeToSlide,a=t.verticalSwiping,l=t.rtl,c=t.currentSlide,d=t.edgeFriction,h=t.edgeDragged,p=t.onEdge,m=t.swiped,y=t.swiping,g=t.slideCount,x=t.slidesToScroll,w=t.infinite,_=t.touchObject,S=t.swipeEvent,M=t.listHeight,T=t.listWidth;if(!i){if(r)return ru(e);s&&o&&a&&ru(e);var E,B={},C=i0(t);_.curX=e.touches?e.touches[0].pageX:e.clientX,_.curY=e.touches?e.touches[0].pageY:e.clientY,_.swipeLength=Math.round(Math.sqrt(Math.pow(_.curX-_.startX,2)));var R=Math.round(Math.sqrt(Math.pow(_.curY-_.startY,2)));if(!a&&!y&&R>10)return{scrolling:!0};a&&(_.swipeLength=R);var L=(l?-1:1)*(_.curX>_.startX?1:-1);a&&(L=_.curY>_.startY?1:-1);var O=Math.ceil(g/x),V=AO(t.touchObject,a),H=_.swipeLength;return w||(c===0&&(V==="right"||V==="down")||c+1>=O&&(V==="left"||V==="up")||!MO(t)&&(V==="left"||V==="up"))&&(H=_.swipeLength*d,h===!1&&p&&(p(V),B.edgeDragged=!0)),!m&&S&&(S(V),B.swiped=!0),s?E=C+H*(M/T)*L:l?E=C-H*L:E=C+H*L,a&&(E=C+H*L),B=rn(rn({},B),{},{touchObject:_,swipeLeft:E,trackStyle:n0(rn(rn({},t),{},{left:E}))}),Math.abs(_.curX-_.startX)<Math.abs(_.curY-_.startY)*.8||_.swipeLength>10&&(B.swiping=!0,ru(e)),B}};Ie.swipeEnd=function(e,t){var i=t.dragging,r=t.swipe,s=t.touchObject,o=t.listWidth,a=t.touchThreshold,l=t.verticalSwiping,c=t.listHeight,d=t.swipeToSlide,h=t.scrolling,p=t.onSwipe,m=t.targetSlide,y=t.currentSlide,g=t.infinite;if(!i)return r&&ru(e),{};var x=l?c/a:o/a,w=AO(s,l),_={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h||!s.swipeLength)return _;if(s.swipeLength>x){ru(e),p&&p(w);var S,M,T=g?y:m;switch(w){case"left":case"up":M=T+cP(t),S=d?lP(t,M):M,_.currentDirection=0;break;case"right":case"down":M=T-cP(t),S=d?lP(t,M):M,_.currentDirection=1;break;default:S=T}_.triggerSlideHandler=S}else{var E=i0(t);_.trackStyle=bO(rn(rn({},t),{},{left:E}))}return _};var CQ=Ie.getNavigableIndexes=function(e){for(var t=e.infinite?e.slideCount*2:e.slideCount,i=e.infinite?e.slidesToShow*-1:0,r=e.infinite?e.slidesToShow*-1:0,s=[];i<t;)s.push(i),i=r+e.slidesToScroll,r+=Math.min(e.slidesToScroll,e.slidesToShow);return s},lP=Ie.checkNavigable=function(e,t){var i=CQ(e),r=0;if(t>i[i.length-1])t=i[i.length-1];else for(var s in i){if(t<i[s]){t=r;break}r=i[s]}return t},cP=Ie.getSlideCount=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var i,r=e.listRef,s=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(l){if(e.vertical){if(l.offsetTop+SO(l)/2>e.swipeLeft*-1)return i=l,!1}else if(l.offsetLeft-t+dw(l)/2>e.swipeLeft*-1)return i=l,!1;return!0}),!i)return 0;var o=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(i.dataset.index-o)||1;return a}else return e.slidesToScroll},WA=Ie.checkSpecKeys=function(e,t){return t.reduce(function(i,r){return i&&e.hasOwnProperty(r)},!0)?null:console.error("Keys Missing:",e)},n0=Ie.getTrackCSS=function(e){WA(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var t,i,r=e.slideCount+2*e.slidesToShow;e.vertical?i=r*e.slideHeight:t=EQ(e)*e.slideWidth;var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=rn(rn({},s),{},{WebkitTransform:o,transform:a,msTransform:l})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),t&&(s.width=t),i&&(s.height=i),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s},bO=Ie.getTrackAnimateCSS=function(e){WA(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=n0(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t},i0=Ie.getTrackLeft=function(e){if(e.unslick)return 0;WA(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t=e.slideIndex,i=e.trackRef,r=e.infinite,s=e.centerMode,o=e.slideCount,a=e.slidesToShow,l=e.slidesToScroll,c=e.slideWidth,d=e.listWidth,h=e.variableWidth,p=e.slideHeight,m=e.fade,y=e.vertical,g=0,x,w,_=0;if(m||e.slideCount===1)return 0;var S=0;if(r?(S=-pg(e),o%l!==0&&t+l>o&&(S=-(t>o?a-(t-o):o%l)),s&&(S+=parseInt(a/2))):(o%l!==0&&t+l>o&&(S=a-o%l),s&&(S=parseInt(a/2))),g=S*c,_=S*p,y?x=t*p*-1+_:x=t*c*-1+g,h===!0){var M,T=i&&i.node;if(M=t+pg(e),w=T&&T.childNodes[M],x=w?w.offsetLeft*-1:0,s===!0){M=r?t+pg(e):t,w=T&&T.children[M],x=0;for(var E=0;E<M;E++)x-=T&&T.children[E]&&T.children[E].offsetWidth;x-=parseInt(e.centerPadding),x+=w&&(d-w.offsetWidth)/2}}return x},pg=Ie.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},TQ=Ie.getPostClones=function(e){return e.unslick||!e.infinite?0:e.slideCount},EQ=Ie.getTotalSlides=function(e){return e.slideCount===1?1:pg(e)+e.slideCount+TQ(e)},PQ=Ie.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+RQ(e)?"left":"right":e.targetSlide<e.currentSlide-BQ(e)?"right":"left"},RQ=Ie.slidesOnRight=function(e){var t=e.slidesToShow,i=e.centerMode,r=e.rtl,s=e.centerPadding;if(i){var o=(t-1)/2+1;return parseInt(s)>0&&(o+=1),r&&t%2===0&&(o+=1),o}return r?0:t-1},BQ=Ie.slidesOnLeft=function(e){var t=e.slidesToShow,i=e.centerMode,r=e.rtl,s=e.centerPadding;if(i){var o=(t-1)/2+1;return parseInt(s)>0&&(o+=1),!r&&t%2===0&&(o+=1),o}return r?t-1:0};Ie.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var LQ=Ie.validSettings=Object.keys(_Q.default);function DQ(n){return LQ.reduce(function(e,t){return n.hasOwnProperty(t)&&(e[t]=n[t]),e},{})}var ov={};Object.defineProperty(ov,"__esModule",{value:!0});ov.Track=void 0;var ko=CO(F),qx=CO(Gu),Zx=Ie;function CO(n){return n&&n.__esModule?n:{default:n}}function Su(n){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(n)}function hw(){return hw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},hw.apply(this,arguments)}function IQ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function uP(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,EO(i.key),i)}}function OQ(n,e,t){return e&&uP(n.prototype,e),t&&uP(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function kQ(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&pw(n,e)}function pw(n,e){return pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},pw(n,e)}function FQ(n){var e=TO();return function(){var i=r0(n),r;if(e){var s=r0(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return NQ(this,r)}}function NQ(n,e){if(e&&(Su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mw(n)}function mw(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function TO(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TO=function(){return!!n})()}function r0(n){return r0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},r0(n)}function fP(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ni(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(t),!0).forEach(function(i){gw(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fP(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function gw(n,e,t){return e=EO(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function EO(n){var e=zQ(n,"string");return Su(e)=="symbol"?e:String(e)}function zQ(n,e){if(Su(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(Su(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var $x=function(e){var t,i,r,s,o;e.rtl?o=e.slideCount-1-e.index:o=e.index,r=o<0||o>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),i=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-s-1&&o<=e.currentSlide+s&&(t=!0)):t=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var l=o===a;return{"slick-slide":!0,"slick-active":t,"slick-center":i,"slick-cloned":r,"slick-current":l}},UQ=function(e){var t={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,t.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t},e_=function(e,t){return e.key||t},GQ=function(e){var t,i=[],r=[],s=[],o=ko.default.Children.count(e.children),a=(0,Zx.lazyStartIndex)(e),l=(0,Zx.lazyEndIndex)(e);return ko.default.Children.forEach(e.children,function(c,d){var h,p={message:"children",index:d,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(d)>=0?h=c:h=ko.default.createElement("div",null);var m=UQ(Ni(Ni({},e),{},{index:d})),y=h.props.className||"",g=$x(Ni(Ni({},e),{},{index:d}));if(i.push(ko.default.cloneElement(h,{key:"original"+e_(h,d),"data-index":d,className:(0,qx.default)(g,y),tabIndex:"-1","aria-hidden":!g["slick-active"],style:Ni(Ni({outline:"none"},h.props.style||{}),m),onClick:function(_){h.props&&h.props.onClick&&h.props.onClick(_),e.focusOnSelect&&e.focusOnSelect(p)}})),e.infinite&&e.fade===!1){var x=o-d;x<=(0,Zx.getPreClones)(e)&&(t=-x,t>=a&&(h=c),g=$x(Ni(Ni({},e),{},{index:t})),r.push(ko.default.cloneElement(h,{key:"precloned"+e_(h,t),"data-index":t,tabIndex:"-1",className:(0,qx.default)(g,y),"aria-hidden":!g["slick-active"],style:Ni(Ni({},h.props.style||{}),m),onClick:function(_){h.props&&h.props.onClick&&h.props.onClick(_),e.focusOnSelect&&e.focusOnSelect(p)}}))),t=o+d,t<l&&(h=c),g=$x(Ni(Ni({},e),{},{index:t})),s.push(ko.default.cloneElement(h,{key:"postcloned"+e_(h,t),"data-index":t,tabIndex:"-1",className:(0,qx.default)(g,y),"aria-hidden":!g["slick-active"],style:Ni(Ni({},h.props.style||{}),m),onClick:function(_){h.props&&h.props.onClick&&h.props.onClick(_),e.focusOnSelect&&e.focusOnSelect(p)}}))}}),e.rtl?r.concat(i,s).reverse():r.concat(i,s)};ov.Track=function(n){kQ(t,n);var e=FQ(t);function t(){var i;IQ(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=e.call.apply(e,[this].concat(s)),gw(mw(i),"node",null),gw(mw(i),"handleRef",function(a){i.node=a}),i}return OQ(t,[{key:"render",value:function(){var r=GQ(this.props),s=this.props,o=s.onMouseEnter,a=s.onMouseOver,l=s.onMouseLeave,c={onMouseEnter:o,onMouseOver:a,onMouseLeave:l};return ko.default.createElement("div",hw({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},c),r)}}]),t}(ko.default.PureComponent);var av={};function Au(n){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(n)}Object.defineProperty(av,"__esModule",{value:!0});av.Dots=void 0;var Vm=PO(F),HQ=PO(Gu),dP=Ie;function PO(n){return n&&n.__esModule?n:{default:n}}function hP(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function VQ(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(t),!0).forEach(function(i){WQ(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hP(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function WQ(n,e,t){return e=RO(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function jQ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function pP(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,RO(i.key),i)}}function JQ(n,e,t){return e&&pP(n.prototype,e),t&&pP(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function RO(n){var e=XQ(n,"string");return Au(e)=="symbol"?e:String(e)}function XQ(n,e){if(Au(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(Au(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function KQ(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&vw(n,e)}function vw(n,e){return vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},vw(n,e)}function YQ(n){var e=BO();return function(){var i=s0(n),r;if(e){var s=s0(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return QQ(this,r)}}function QQ(n,e){if(e&&(Au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qQ(n)}function qQ(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function BO(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BO=function(){return!!n})()}function s0(n){return s0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s0(n)}var ZQ=function(e){var t;return e.infinite?t=Math.ceil(e.slideCount/e.slidesToScroll):t=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,t};av.Dots=function(n){KQ(t,n);var e=YQ(t);function t(){return jQ(this,t),e.apply(this,arguments)}return JQ(t,[{key:"clickHandler",value:function(r,s){s.preventDefault(),this.props.clickHandler(r)}},{key:"render",value:function(){for(var r=this.props,s=r.onMouseEnter,o=r.onMouseOver,a=r.onMouseLeave,l=r.infinite,c=r.slidesToScroll,d=r.slidesToShow,h=r.slideCount,p=r.currentSlide,m=ZQ({slideCount:h,slidesToScroll:c,slidesToShow:d,infinite:l}),y={onMouseEnter:s,onMouseOver:o,onMouseLeave:a},g=[],x=0;x<m;x++){var w=(x+1)*c-1,_=l?w:(0,dP.clamp)(w,0,h-1),S=_-(c-1),M=l?S:(0,dP.clamp)(S,0,h-1),T=(0,HQ.default)({"slick-active":l?p>=M&&p<=_:p===M}),E={message:"dots",index:x,slidesToScroll:c,currentSlide:p},B=this.clickHandler.bind(this,E);g=g.concat(Vm.default.createElement("li",{key:x,className:T},Vm.default.cloneElement(this.props.customPaging(x),{onClick:B})))}return Vm.default.cloneElement(this.props.appendDots(g),VQ({className:this.props.dotsClass},y))}}]),t}(Vm.default.PureComponent);var Mu={};function bu(n){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(n)}Object.defineProperty(Mu,"__esModule",{value:!0});Mu.PrevArrow=Mu.NextArrow=void 0;var su=DO(F),LO=DO(Gu),$Q=Ie;function DO(n){return n&&n.__esModule?n:{default:n}}function o0(){return o0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},o0.apply(this,arguments)}function mP(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function a0(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(t),!0).forEach(function(i){eq(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):mP(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function eq(n,e,t){return e=kO(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function IO(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function gP(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,kO(i.key),i)}}function OO(n,e,t){return e&&gP(n.prototype,e),t&&gP(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function kO(n){var e=tq(n,"string");return bu(e)=="symbol"?e:String(e)}function tq(n,e){if(bu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(bu(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function FO(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&yw(n,e)}function yw(n,e){return yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},yw(n,e)}function NO(n){var e=zO();return function(){var i=l0(n),r;if(e){var s=l0(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return nq(this,r)}}function nq(n,e){if(e&&(bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iq(n)}function iq(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function zO(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zO=function(){return!!n})()}function l0(n){return l0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l0(n)}Mu.PrevArrow=function(n){FO(t,n);var e=NO(t);function t(){return IO(this,t),e.apply(this,arguments)}return OO(t,[{key:"clickHandler",value:function(r,s){s&&s.preventDefault(),this.props.clickHandler(r,s)}},{key:"render",value:function(){var r={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(r["slick-disabled"]=!0,s=null);var o={key:"0","data-role":"none",className:(0,LO.default)(r),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.prevArrow?l=su.default.cloneElement(this.props.prevArrow,a0(a0({},o),a)):l=su.default.createElement("button",o0({key:"0",type:"button"},o)," ","Previous"),l}}]),t}(su.default.PureComponent);Mu.NextArrow=function(n){FO(t,n);var e=NO(t);function t(){return IO(this,t),e.apply(this,arguments)}return OO(t,[{key:"clickHandler",value:function(r,s){s&&s.preventDefault(),this.props.clickHandler(r,s)}},{key:"render",value:function(){var r={"slick-arrow":!0,"slick-next":!0},s=this.clickHandler.bind(this,{message:"next"});(0,$Q.canGoNext)(this.props)||(r["slick-disabled"]=!0,s=null);var o={key:"1","data-role":"none",className:(0,LO.default)(r),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.nextArrow?l=su.default.cloneElement(this.props.nextArrow,a0(a0({},o),a)):l=su.default.createElement("button",o0({key:"1",type:"button"},o)," ","Next"),l}}]),t}(su.default.PureComponent);var UO=function(){if(typeof Map<"u")return Map;function n(e,t){var i=-1;return e.some(function(r,s){return r[0]===t?(i=s,!0):!1}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var i=n(this.__entries__,t),r=this.__entries__[i];return r&&r[1]},e.prototype.set=function(t,i){var r=n(this.__entries__,t);~r?this.__entries__[r][1]=i:this.__entries__.push([t,i])},e.prototype.delete=function(t){var i=this.__entries__,r=n(i,t);~r&&i.splice(r,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,i){i===void 0&&(i=null);for(var r=0,s=this.__entries__;r<s.length;r++){var o=s[r];t.call(i,o[1],o[0])}},e}()}(),xw=typeof window<"u"&&typeof document<"u"&&window.document===document,c0=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),rq=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(c0):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),sq=2;function oq(n,e){var t=!1,i=!1,r=0;function s(){t&&(t=!1,n()),i&&a()}function o(){rq(s)}function a(){var l=Date.now();if(t){if(l-r<sq)return;i=!0}else t=!0,i=!1,setTimeout(o,e);r=l}return a}var aq=20,lq=["top","right","bottom","left","width","height","size","weight"],cq=typeof MutationObserver<"u",uq=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=oq(this.refresh.bind(this),aq)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!xw||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),cq?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!xw||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=t===void 0?"":t,r=lq.some(function(s){return!!~i.indexOf(s)});r&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),GO=function(n,e){for(var t=0,i=Object.keys(e);t<i.length;t++){var r=i[t];Object.defineProperty(n,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return n},Cu=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||c0},HO=lv(0,0,0,0);function u0(n){return parseFloat(n)||0}function vP(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(i,r){var s=n["border-"+r+"-width"];return i+u0(s)},0)}function fq(n){for(var e=["top","right","bottom","left"],t={},i=0,r=e;i<r.length;i++){var s=r[i],o=n["padding-"+s];t[s]=u0(o)}return t}function dq(n){var e=n.getBBox();return lv(0,0,e.width,e.height)}function hq(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return HO;var i=Cu(n).getComputedStyle(n),r=fq(i),s=r.left+r.right,o=r.top+r.bottom,a=u0(i.width),l=u0(i.height);if(i.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=vP(i,"left","right")+s),Math.round(l+o)!==t&&(l-=vP(i,"top","bottom")+o)),!mq(n)){var c=Math.round(a+s)-e,d=Math.round(l+o)-t;Math.abs(c)!==1&&(a-=c),Math.abs(d)!==1&&(l-=d)}return lv(r.left,r.top,a,l)}var pq=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof Cu(n).SVGGraphicsElement}:function(n){return n instanceof Cu(n).SVGElement&&typeof n.getBBox=="function"}}();function mq(n){return n===Cu(n).document.documentElement}function gq(n){return xw?pq(n)?dq(n):hq(n):HO}function vq(n){var e=n.x,t=n.y,i=n.width,r=n.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return GO(o,{x:e,y:t,width:i,height:r,top:t,right:e+i,bottom:r+t,left:e}),o}function lv(n,e,t,i){return{x:n,y:e,width:t,height:i}}var yq=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=lv(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=gq(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),xq=function(){function n(e,t){var i=vq(t);GO(this,{target:e,contentRect:i})}return n}(),_q=function(){function n(e,t,i){if(this.activeObservations_=[],this.observations_=new UO,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Cu(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new yq(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Cu(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(i){return new xq(i.target,i.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),VO=typeof WeakMap<"u"?new WeakMap:new UO,WO=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=uq.getInstance(),i=new _q(e,t,this);VO.set(this,i)}return n}();["observe","unobserve","disconnect"].forEach(function(n){WO.prototype[n]=function(){var e;return(e=VO.get(this))[n].apply(e,arguments)}});var wq=function(){return typeof c0.ResizeObserver<"u"?c0.ResizeObserver:WO}();const Sq=Object.freeze(Object.defineProperty({__proto__:null,default:wq},Symbol.toStringTag,{value:"Module"})),Aq=bw(Sq);Object.defineProperty(sv,"__esModule",{value:!0});sv.InnerSlider=void 0;var Mi=Eh(F),Mq=Eh(gO),bq=Eh(yQ),Cq=Eh(Gu),cn=Ie,Tq=ov,Eq=av,yP=Mu,Pq=Eh(Aq);function Eh(n){return n&&n.__esModule?n:{default:n}}function Bl(n){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(n)}function f0(){return f0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},f0.apply(this,arguments)}function Rq(n,e){if(n==null)return{};var t=Bq(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function Bq(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function xP(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function at(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xP(Object(t),!0).forEach(function(i){Mt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xP(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Lq(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _P(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,JO(i.key),i)}}function Dq(n,e,t){return e&&_P(n.prototype,e),t&&_P(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Iq(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&_w(n,e)}function _w(n,e){return _w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},_w(n,e)}function Oq(n){var e=jO();return function(){var i=d0(n),r;if(e){var s=d0(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return kq(this,r)}}function kq(n,e){if(e&&(Bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return At(n)}function At(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function jO(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jO=function(){return!!n})()}function d0(n){return d0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d0(n)}function Mt(n,e,t){return e=JO(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function JO(n){var e=Fq(n,"string");return Bl(e)=="symbol"?e:String(e)}function Fq(n,e){if(Bl(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(Bl(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}sv.InnerSlider=function(n){Iq(t,n);var e=Oq(t);function t(i){var r;Lq(this,t),r=e.call(this,i),Mt(At(r),"listRefHandler",function(o){return r.list=o}),Mt(At(r),"trackRefHandler",function(o){return r.track=o}),Mt(At(r),"adaptHeight",function(){if(r.props.adaptiveHeight&&r.list){var o=r.list.querySelector('[data-index="'.concat(r.state.currentSlide,'"]'));r.list.style.height=(0,cn.getHeight)(o)+"px"}}),Mt(At(r),"componentDidMount",function(){if(r.props.onInit&&r.props.onInit(),r.props.lazyLoad){var o=(0,cn.getOnDemandLazySlides)(at(at({},r.props),r.state));o.length>0&&(r.setState(function(l){return{lazyLoadedList:l.lazyLoadedList.concat(o)}}),r.props.onLazyLoad&&r.props.onLazyLoad(o))}var a=at({listRef:r.list,trackRef:r.track},r.props);r.updateState(a,!0,function(){r.adaptHeight(),r.props.autoplay&&r.autoPlay("update")}),r.props.lazyLoad==="progressive"&&(r.lazyLoadTimer=setInterval(r.progressiveLazyLoad,1e3)),r.ro=new Pq.default(function(){r.state.animating?(r.onWindowResized(!1),r.callbackTimers.push(setTimeout(function(){return r.onWindowResized()},r.props.speed))):r.onWindowResized()}),r.ro.observe(r.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(l){l.onfocus=r.props.pauseOnFocus?r.onSlideFocus:null,l.onblur=r.props.pauseOnFocus?r.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",r.onWindowResized):window.attachEvent("onresize",r.onWindowResized)}),Mt(At(r),"componentWillUnmount",function(){r.animationEndCallback&&clearTimeout(r.animationEndCallback),r.lazyLoadTimer&&clearInterval(r.lazyLoadTimer),r.callbackTimers.length&&(r.callbackTimers.forEach(function(o){return clearTimeout(o)}),r.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",r.onWindowResized):window.detachEvent("onresize",r.onWindowResized),r.autoplayTimer&&clearInterval(r.autoplayTimer),r.ro.disconnect()}),Mt(At(r),"componentDidUpdate",function(o){if(r.checkImagesLoad(),r.props.onReInit&&r.props.onReInit(),r.props.lazyLoad){var a=(0,cn.getOnDemandLazySlides)(at(at({},r.props),r.state));a.length>0&&(r.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(a)}}),r.props.onLazyLoad&&r.props.onLazyLoad(a))}r.adaptHeight();var l=at(at({listRef:r.list,trackRef:r.track},r.props),r.state),c=r.didPropsChange(o);c&&r.updateState(l,c,function(){r.state.currentSlide>=Mi.default.Children.count(r.props.children)&&r.changeSlide({message:"index",index:Mi.default.Children.count(r.props.children)-r.props.slidesToShow,currentSlide:r.state.currentSlide}),r.props.autoplay?r.autoPlay("update"):r.pause("paused")})}),Mt(At(r),"onWindowResized",function(o){r.debouncedResize&&r.debouncedResize.cancel(),r.debouncedResize=(0,bq.default)(function(){return r.resizeWindow(o)},50),r.debouncedResize()}),Mt(At(r),"resizeWindow",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(r.track&&r.track.node);if(a){var l=at(at({listRef:r.list,trackRef:r.track},r.props),r.state);r.updateState(l,o,function(){r.props.autoplay?r.autoPlay("update"):r.pause("paused")}),r.setState({animating:!1}),clearTimeout(r.animationEndCallback),delete r.animationEndCallback}}),Mt(At(r),"updateState",function(o,a,l){var c=(0,cn.initializedState)(o);o=at(at(at({},o),c),{},{slideIndex:c.currentSlide});var d=(0,cn.getTrackLeft)(o);o=at(at({},o),{},{left:d});var h=(0,cn.getTrackCSS)(o);(a||Mi.default.Children.count(r.props.children)!==Mi.default.Children.count(o.children))&&(c.trackStyle=h),r.setState(c,l)}),Mt(At(r),"ssrInit",function(){if(r.props.variableWidth){var o=0,a=0,l=[],c=(0,cn.getPreClones)(at(at(at({},r.props),r.state),{},{slideCount:r.props.children.length})),d=(0,cn.getPostClones)(at(at(at({},r.props),r.state),{},{slideCount:r.props.children.length}));r.props.children.forEach(function(B){l.push(B.props.style.width),o+=B.props.style.width});for(var h=0;h<c;h++)a+=l[l.length-1-h],o+=l[l.length-1-h];for(var p=0;p<d;p++)o+=l[p];for(var m=0;m<r.state.currentSlide;m++)a+=l[m];var y={width:o+"px",left:-a+"px"};if(r.props.centerMode){var g="".concat(l[r.state.currentSlide],"px");y.left="calc(".concat(y.left," + (100% - ").concat(g,") / 2 ) ")}return{trackStyle:y}}var x=Mi.default.Children.count(r.props.children),w=at(at(at({},r.props),r.state),{},{slideCount:x}),_=(0,cn.getPreClones)(w)+(0,cn.getPostClones)(w)+x,S=100/r.props.slidesToShow*_,M=100/_,T=-M*((0,cn.getPreClones)(w)+r.state.currentSlide)*S/100;r.props.centerMode&&(T+=(100-M*S/100)/2);var E={width:S+"%",left:T+"%"};return{slideWidth:M+"%",trackStyle:E}}),Mt(At(r),"checkImagesLoad",function(){var o=r.list&&r.list.querySelectorAll&&r.list.querySelectorAll(".slick-slide img")||[],a=o.length,l=0;Array.prototype.forEach.call(o,function(c){var d=function(){return++l&&l>=a&&r.onWindowResized()};if(!c.onclick)c.onclick=function(){return c.parentNode.focus()};else{var h=c.onclick;c.onclick=function(p){h(p),c.parentNode.focus()}}c.onload||(r.props.lazyLoad?c.onload=function(){r.adaptHeight(),r.callbackTimers.push(setTimeout(r.onWindowResized,r.props.speed))}:(c.onload=d,c.onerror=function(){d(),r.props.onLazyLoadError&&r.props.onLazyLoadError()}))})}),Mt(At(r),"progressiveLazyLoad",function(){for(var o=[],a=at(at({},r.props),r.state),l=r.state.currentSlide;l<r.state.slideCount+(0,cn.getPostClones)(a);l++)if(r.state.lazyLoadedList.indexOf(l)<0){o.push(l);break}for(var c=r.state.currentSlide-1;c>=-(0,cn.getPreClones)(a);c--)if(r.state.lazyLoadedList.indexOf(c)<0){o.push(c);break}o.length>0?(r.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(o)}}),r.props.onLazyLoad&&r.props.onLazyLoad(o)):r.lazyLoadTimer&&(clearInterval(r.lazyLoadTimer),delete r.lazyLoadTimer)}),Mt(At(r),"slideHandler",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=r.props,c=l.asNavFor,d=l.beforeChange,h=l.onLazyLoad,p=l.speed,m=l.afterChange,y=r.state.currentSlide,g=(0,cn.slideHandler)(at(at(at({index:o},r.props),r.state),{},{trackRef:r.track,useCSS:r.props.useCSS&&!a})),x=g.state,w=g.nextState;if(x){d&&d(y,x.currentSlide);var _=x.lazyLoadedList.filter(function(S){return r.state.lazyLoadedList.indexOf(S)<0});h&&_.length>0&&h(_),!r.props.waitForAnimate&&r.animationEndCallback&&(clearTimeout(r.animationEndCallback),m&&m(y),delete r.animationEndCallback),r.setState(x,function(){c&&r.asNavForIndex!==o&&(r.asNavForIndex=o,c.innerSlider.slideHandler(o)),w&&(r.animationEndCallback=setTimeout(function(){var S=w.animating,M=Rq(w,["animating"]);r.setState(M,function(){r.callbackTimers.push(setTimeout(function(){return r.setState({animating:S})},10)),m&&m(x.currentSlide),delete r.animationEndCallback})},p))})}}),Mt(At(r),"changeSlide",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=at(at({},r.props),r.state),c=(0,cn.changeSlide)(l,o);if(!(c!==0&&!c)&&(a===!0?r.slideHandler(c,a):r.slideHandler(c),r.props.autoplay&&r.autoPlay("update"),r.props.focusOnSelect)){var d=r.list.querySelectorAll(".slick-current");d[0]&&d[0].focus()}}),Mt(At(r),"clickHandler",function(o){r.clickable===!1&&(o.stopPropagation(),o.preventDefault()),r.clickable=!0}),Mt(At(r),"keyHandler",function(o){var a=(0,cn.keyHandler)(o,r.props.accessibility,r.props.rtl);a!==""&&r.changeSlide({message:a})}),Mt(At(r),"selectHandler",function(o){r.changeSlide(o)}),Mt(At(r),"disableBodyScroll",function(){var o=function(l){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1};window.ontouchmove=o}),Mt(At(r),"enableBodyScroll",function(){window.ontouchmove=null}),Mt(At(r),"swipeStart",function(o){r.props.verticalSwiping&&r.disableBodyScroll();var a=(0,cn.swipeStart)(o,r.props.swipe,r.props.draggable);a!==""&&r.setState(a)}),Mt(At(r),"swipeMove",function(o){var a=(0,cn.swipeMove)(o,at(at(at({},r.props),r.state),{},{trackRef:r.track,listRef:r.list,slideIndex:r.state.currentSlide}));a&&(a.swiping&&(r.clickable=!1),r.setState(a))}),Mt(At(r),"swipeEnd",function(o){var a=(0,cn.swipeEnd)(o,at(at(at({},r.props),r.state),{},{trackRef:r.track,listRef:r.list,slideIndex:r.state.currentSlide}));if(a){var l=a.triggerSlideHandler;delete a.triggerSlideHandler,r.setState(a),l!==void 0&&(r.slideHandler(l),r.props.verticalSwiping&&r.enableBodyScroll())}}),Mt(At(r),"touchEnd",function(o){r.swipeEnd(o),r.clickable=!0}),Mt(At(r),"slickPrev",function(){r.callbackTimers.push(setTimeout(function(){return r.changeSlide({message:"previous"})},0))}),Mt(At(r),"slickNext",function(){r.callbackTimers.push(setTimeout(function(){return r.changeSlide({message:"next"})},0))}),Mt(At(r),"slickGoTo",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o=Number(o),isNaN(o))return"";r.callbackTimers.push(setTimeout(function(){return r.changeSlide({message:"index",index:o,currentSlide:r.state.currentSlide},a)},0))}),Mt(At(r),"play",function(){var o;if(r.props.rtl)o=r.state.currentSlide-r.props.slidesToScroll;else if((0,cn.canGoNext)(at(at({},r.props),r.state)))o=r.state.currentSlide+r.props.slidesToScroll;else return!1;r.slideHandler(o)}),Mt(At(r),"autoPlay",function(o){r.autoplayTimer&&clearInterval(r.autoplayTimer);var a=r.state.autoplaying;if(o==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(o==="leave"){if(a==="paused"||a==="focused")return}else if(o==="blur"&&(a==="paused"||a==="hovered"))return;r.autoplayTimer=setInterval(r.play,r.props.autoplaySpeed+50),r.setState({autoplaying:"playing"})}),Mt(At(r),"pause",function(o){r.autoplayTimer&&(clearInterval(r.autoplayTimer),r.autoplayTimer=null);var a=r.state.autoplaying;o==="paused"?r.setState({autoplaying:"paused"}):o==="focused"?(a==="hovered"||a==="playing")&&r.setState({autoplaying:"focused"}):a==="playing"&&r.setState({autoplaying:"hovered"})}),Mt(At(r),"onDotsOver",function(){return r.props.autoplay&&r.pause("hovered")}),Mt(At(r),"onDotsLeave",function(){return r.props.autoplay&&r.state.autoplaying==="hovered"&&r.autoPlay("leave")}),Mt(At(r),"onTrackOver",function(){return r.props.autoplay&&r.pause("hovered")}),Mt(At(r),"onTrackLeave",function(){return r.props.autoplay&&r.state.autoplaying==="hovered"&&r.autoPlay("leave")}),Mt(At(r),"onSlideFocus",function(){return r.props.autoplay&&r.pause("focused")}),Mt(At(r),"onSlideBlur",function(){return r.props.autoplay&&r.state.autoplaying==="focused"&&r.autoPlay("blur")}),Mt(At(r),"render",function(){var o=(0,Cq.default)("slick-slider",r.props.className,{"slick-vertical":r.props.vertical,"slick-initialized":!0}),a=at(at({},r.props),r.state),l=(0,cn.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),c=r.props.pauseOnHover;l=at(at({},l),{},{onMouseEnter:c?r.onTrackOver:null,onMouseLeave:c?r.onTrackLeave:null,onMouseOver:c?r.onTrackOver:null,focusOnSelect:r.props.focusOnSelect&&r.clickable?r.selectHandler:null});var d;if(r.props.dots===!0&&r.state.slideCount>=r.props.slidesToShow){var h=(0,cn.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),p=r.props.pauseOnDotsHover;h=at(at({},h),{},{clickHandler:r.changeSlide,onMouseEnter:p?r.onDotsLeave:null,onMouseOver:p?r.onDotsOver:null,onMouseLeave:p?r.onDotsLeave:null}),d=Mi.default.createElement(Eq.Dots,h)}var m,y,g=(0,cn.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);g.clickHandler=r.changeSlide,r.props.arrows&&(m=Mi.default.createElement(yP.PrevArrow,g),y=Mi.default.createElement(yP.NextArrow,g));var x=null;r.props.vertical&&(x={height:r.state.listHeight});var w=null;r.props.vertical===!1?r.props.centerMode===!0&&(w={padding:"0px "+r.props.centerPadding}):r.props.centerMode===!0&&(w={padding:r.props.centerPadding+" 0px"});var _=at(at({},x),w),S=r.props.touchMove,M={className:"slick-list",style:_,onClick:r.clickHandler,onMouseDown:S?r.swipeStart:null,onMouseMove:r.state.dragging&&S?r.swipeMove:null,onMouseUp:S?r.swipeEnd:null,onMouseLeave:r.state.dragging&&S?r.swipeEnd:null,onTouchStart:S?r.swipeStart:null,onTouchMove:r.state.dragging&&S?r.swipeMove:null,onTouchEnd:S?r.touchEnd:null,onTouchCancel:r.state.dragging&&S?r.swipeEnd:null,onKeyDown:r.props.accessibility?r.keyHandler:null},T={className:o,dir:"ltr",style:r.props.style};return r.props.unslick&&(M={className:"slick-list"},T={className:o}),Mi.default.createElement("div",T,r.props.unslick?"":m,Mi.default.createElement("div",f0({ref:r.listRefHandler},M),Mi.default.createElement(Tq.Track,f0({ref:r.trackRefHandler},l),r.props.children)),r.props.unslick?"":y,r.props.unslick?"":d)}),r.list=null,r.track=null,r.state=at(at({},Mq.default),{},{currentSlide:r.props.initialSlide,targetSlide:r.props.initialSlide?r.props.initialSlide:0,slideCount:Mi.default.Children.count(r.props.children)}),r.callbackTimers=[],r.clickable=!0,r.debouncedResize=null;var s=r.ssrInit();return r.state=at(at({},r.state),s),r}return Dq(t,[{key:"didPropsChange",value:function(r){for(var s=!1,o=0,a=Object.keys(this.props);o<a.length;o++){var l=a[o];if(!r.hasOwnProperty(l)){s=!0;break}if(!(Bl(r[l])==="object"||typeof r[l]=="function"||isNaN(r[l]))&&r[l]!==this.props[l]){s=!0;break}}return s||Mi.default.Children.count(this.props.children)!==Mi.default.Children.count(r.children)}}]),t}(Mi.default.Component);var Nq=function(n){return n.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},zq=Nq,Uq=zq,Gq=function(n){var e=/[height|width]$/;return e.test(n)},wP=function(n){var e="",t=Object.keys(n);return t.forEach(function(i,r){var s=n[i];i=Uq(i),Gq(i)&&typeof s=="number"&&(s=s+"px"),s===!0?e+=i:s===!1?e+="not "+i:e+="("+i+": "+s+")",r<t.length-1&&(e+=" and ")}),e},Hq=function(n){var e="";return typeof n=="string"?n:n instanceof Array?(n.forEach(function(t,i){e+=wP(t),i<n.length-1&&(e+=", ")}),e):wP(n)},Vq=Hq,t_,SP;function Wq(){if(SP)return t_;SP=1;function n(e){this.options=e,!e.deferSetup&&this.setup()}return n.prototype={constructor:n,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},t_=n,t_}var n_,AP;function XO(){if(AP)return n_;AP=1;function n(i,r){var s=0,o=i.length,a;for(s;s<o&&(a=r(i[s],s),a!==!1);s++);}function e(i){return Object.prototype.toString.apply(i)==="[object Array]"}function t(i){return typeof i=="function"}return n_={isFunction:t,isArray:e,each:n},n_}var i_,MP;function jq(){if(MP)return i_;MP=1;var n=Wq(),e=XO().each;function t(i,r){this.query=i,this.isUnconditional=r,this.handlers=[],this.mql=window.matchMedia(i);var s=this;this.listener=function(o){s.mql=o.currentTarget||o,s.assess()},this.mql.addListener(this.listener)}return t.prototype={constuctor:t,addHandler:function(i){var r=new n(i);this.handlers.push(r),this.matches()&&r.on()},removeHandler:function(i){var r=this.handlers;e(r,function(s,o){if(s.equals(i))return s.destroy(),!r.splice(o,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(i){i.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var i=this.matches()?"on":"off";e(this.handlers,function(r){r[i]()})}},i_=t,i_}var r_,bP;function Jq(){if(bP)return r_;bP=1;var n=jq(),e=XO(),t=e.each,i=e.isFunction,r=e.isArray;function s(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return s.prototype={constructor:s,register:function(o,a,l){var c=this.queries,d=l&&this.browserIsIncapable;return c[o]||(c[o]=new n(o,d)),i(a)&&(a={match:a}),r(a)||(a=[a]),t(a,function(h){i(h)&&(h={match:h}),c[o].addHandler(h)}),this},unregister:function(o,a){var l=this.queries[o];return l&&(a?l.removeHandler(a):(l.clear(),delete this.queries[o])),this}},r_=s,r_}var s_,CP;function Xq(){if(CP)return s_;CP=1;var n=Jq();return s_=new n,s_}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=o(F),t=sv,i=o(Vq),r=o(VA),s=Ie;function o(R){return R&&R.__esModule?R:{default:R}}function a(R){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},a(R)}function l(){return l=Object.assign?Object.assign.bind():function(R){for(var L=1;L<arguments.length;L++){var O=arguments[L];for(var V in O)Object.prototype.hasOwnProperty.call(O,V)&&(R[V]=O[V])}return R},l.apply(this,arguments)}function c(R,L){var O=Object.keys(R);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(R);L&&(V=V.filter(function(H){return Object.getOwnPropertyDescriptor(R,H).enumerable})),O.push.apply(O,V)}return O}function d(R){for(var L=1;L<arguments.length;L++){var O=arguments[L]!=null?arguments[L]:{};L%2?c(Object(O),!0).forEach(function(V){T(R,V,O[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(O)):c(Object(O)).forEach(function(V){Object.defineProperty(R,V,Object.getOwnPropertyDescriptor(O,V))})}return R}function h(R,L){if(!(R instanceof L))throw new TypeError("Cannot call a class as a function")}function p(R,L){for(var O=0;O<L.length;O++){var V=L[O];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(R,E(V.key),V)}}function m(R,L,O){return L&&p(R.prototype,L),O&&p(R,O),Object.defineProperty(R,"prototype",{writable:!1}),R}function y(R,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(L&&L.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),L&&g(R,L)}function g(R,L){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(V,H){return V.__proto__=H,V},g(R,L)}function x(R){var L=S();return function(){var V=M(R),H;if(L){var G=M(this).constructor;H=Reflect.construct(V,arguments,G)}else H=V.apply(this,arguments);return w(this,H)}}function w(R,L){if(L&&(a(L)==="object"||typeof L=="function"))return L;if(L!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(R)}function _(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function S(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S=function(){return!!R})()}function M(R){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},M(R)}function T(R,L,O){return L=E(L),L in R?Object.defineProperty(R,L,{value:O,enumerable:!0,configurable:!0,writable:!0}):R[L]=O,R}function E(R){var L=B(R,"string");return a(L)=="symbol"?L:String(L)}function B(R,L){if(a(R)!="object"||!R)return R;var O=R[Symbol.toPrimitive];if(O!==void 0){var V=O.call(R,L||"default");if(a(V)!="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(R)}var C=(0,s.canUseDOM)()&&Xq();n.default=function(R){y(O,R);var L=x(O);function O(V){var H;return h(this,O),H=L.call(this,V),T(_(H),"innerSliderRefHandler",function(G){return H.innerSlider=G}),T(_(H),"slickPrev",function(){return H.innerSlider.slickPrev()}),T(_(H),"slickNext",function(){return H.innerSlider.slickNext()}),T(_(H),"slickGoTo",function(G){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return H.innerSlider.slickGoTo(G,$)}),T(_(H),"slickPause",function(){return H.innerSlider.pause("paused")}),T(_(H),"slickPlay",function(){return H.innerSlider.autoPlay("play")}),H.state={breakpoint:null},H._responsiveMediaHandlers=[],H}return m(O,[{key:"media",value:function(H,G){C.register(H,G),this._responsiveMediaHandlers.push({query:H,handler:G})}},{key:"componentDidMount",value:function(){var H=this;if(this.props.responsive){var G=this.props.responsive.map(function(ee){return ee.breakpoint});G.sort(function(ee,oe){return ee-oe}),G.forEach(function(ee,oe){var k;oe===0?k=(0,i.default)({minWidth:0,maxWidth:ee}):k=(0,i.default)({minWidth:G[oe-1]+1,maxWidth:ee}),(0,s.canUseDOM)()&&H.media(k,function(){H.setState({breakpoint:ee})})});var $=(0,i.default)({minWidth:G.slice(-1)[0]});(0,s.canUseDOM)()&&this.media($,function(){H.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(H){C.unregister(H.query,H.handler)})}},{key:"render",value:function(){var H=this,G,$;this.state.breakpoint?($=this.props.responsive.filter(function(q){return q.breakpoint===H.state.breakpoint}),G=$[0].settings==="unslick"?"unslick":d(d(d({},r.default),this.props),$[0].settings)):G=d(d({},r.default),this.props),G.centerMode&&(G.slidesToScroll>1,G.slidesToScroll=1),G.fade&&(G.slidesToShow>1,G.slidesToScroll>1,G.slidesToShow=1,G.slidesToScroll=1);var ee=e.default.Children.toArray(this.props.children);ee=ee.filter(function(q){return typeof q=="string"?!!q.trim():!!q}),G.variableWidth&&(G.rows>1||G.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),G.variableWidth=!1);for(var oe=[],k=null,K=0;K<ee.length;K+=G.rows*G.slidesPerRow){for(var J=[],te=K;te<K+G.rows*G.slidesPerRow;te+=G.slidesPerRow){for(var X=[],ie=te;ie<te+G.slidesPerRow&&(G.variableWidth&&ee[ie].props.style&&(k=ee[ie].props.style.width),!(ie>=ee.length));ie+=1)X.push(e.default.cloneElement(ee[ie],{key:100*K+10*te+ie,tabIndex:-1,style:{width:"".concat(100/G.slidesPerRow,"%"),display:"inline-block"}}));J.push(e.default.createElement("div",{key:10*K+te},X))}G.variableWidth?oe.push(e.default.createElement("div",{key:K,style:{width:k}},J)):oe.push(e.default.createElement("div",{key:K},J))}if(G==="unslick"){var ve="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:ve},ee)}else oe.length<=G.slidesToShow&&!G.infinite&&(G.unslick=!0);return e.default.createElement(t.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},(0,s.filterSettings)(G)),oe)}}]),O}(e.default.Component)})(mO);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(mO);function t(i){return i&&i.__esModule?i:{default:i}}n.default=e.default})(pO);const Kq=h0(pO);const Yq=()=>{const n={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:2e3};return ze("div",{className:"carousel-container",children:[W("p",{className:Ri.sectionSubText,children:"Check it out"}),W("h2",{className:`${Ri.sectionHeadText} animate-text bg-gradient-to-r from-teal-500 via-purple-500 to-orange-500 bg-clip-text text-transparent font-black`,children:"Event Highlights"}),W(Kq,{...n,children:PY.map((e,t)=>W("div",{className:"carousel-slide",children:ze(Rl.div,{variants:Gd("","spring",t*.5,.75),className:"relative",children:[W("img",{src:e.image,alt:e.title,className:"w-full h-auto"}),ze("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black via-transparent to-transparent",children:[W("h3",{className:"text-white text-center font-bold text-lg",children:e.title}),W("p",{className:"text-white text-center text-sm",children:e.description})]})]})},e.id))})]})},Qq=()=>W("div",{className:"bg-black-100 rounded-[20px]",children:W("div",{className:`bg-tertiary rounded-2xl ${Ri.padding} min-h-[300px]`,children:W(Yq,{})})}),qq=Uu(Qq,"Feedbacks"),Vd={_origin:"https://api.emailjs.com"},Zq=(n,e="https://api.emailjs.com")=>{Vd._userID=n,Vd._origin=e},KO=(n,e,t)=>{if(!n)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class TP{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const YO=(n,e,t={})=>new Promise((i,r)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:o})=>{const a=new TP(o);a.status===200||a.text==="OK"?i(a):r(a)}),s.addEventListener("error",({target:o})=>{r(new TP(o))}),s.open("POST",Vd._origin+n,!0),Object.keys(t).forEach(o=>{s.setRequestHeader(o,t[o])}),s.send(e)}),$q=(n,e,t,i)=>{const r=i||Vd._userID;return KO(r,n,e),YO("/api/v1.0/email/send",JSON.stringify({lib_version:"3.12.1",user_id:r,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"})},eZ=n=>{let e;if(typeof n=="string"?e=document.querySelector(n):e=n,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},tZ=(n,e,t,i)=>{const r=i||Vd._userID,s=eZ(t);KO(r,n,e);const o=new FormData(s);return o.append("lib_version","3.12.1"),o.append("service_id",n),o.append("template_id",e),o.append("user_id",r),YO("/api/v1.0/email/send-form",o)},nZ={init:Zq,send:$q,sendForm:tZ};function QO(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=QO(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function vl(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=QO(n))&&(i&&(i+=" "),i+=e);return i}function iZ(n){if(!n||typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}iZ(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Ph=n=>typeof n=="number"&&!isNaN(n),Ll=n=>typeof n=="string",uo=n=>typeof n=="function",rZ=n=>Ll(n)||Ph(n),ww=n=>Ll(n)||uo(n)?n:null,sZ=(n,e)=>n===!1||Ph(n)&&n>0?n:e,Sw=n=>F.isValidElement(n)||Ll(n)||uo(n)||Ph(n);function oZ(n,e,t=300){let{scrollHeight:i,style:r}=n;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${t}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(e,t)})})}function aZ({enter:n,exit:e,appendPosition:t=!1,collapse:i=!0,collapseDuration:r=300}){return function({children:s,position:o,preventExitTransition:a,done:l,nodeRef:c,isIn:d,playToast:h}){let p=t?`${n}--${o}`:n,m=t?`${e}--${o}`:e,y=F.useRef(0);return F.useLayoutEffect(()=>{let g=c.current,x=p.split(" "),w=_=>{_.target===c.current&&(h(),g.removeEventListener("animationend",w),g.removeEventListener("animationcancel",w),y.current===0&&_.type!=="animationcancel"&&g.classList.remove(...x))};g.classList.add(...x),g.addEventListener("animationend",w),g.addEventListener("animationcancel",w)},[]),F.useEffect(()=>{let g=c.current,x=()=>{g.removeEventListener("animationend",x),i?oZ(g,l,r):l()};d||(a?x():(y.current=1,g.className+=` ${m}`,g.addEventListener("animationend",x)))},[d]),pt.createElement(pt.Fragment,null,s)}}function EP(n,e){return{content:qO(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function qO(n,e,t=!1){return F.isValidElement(n)&&!Ll(n.type)?F.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):uo(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function lZ({closeToast:n,theme:e,ariaLabel:t="close"}){return pt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":t},pt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},pt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function cZ({delay:n,isRunning:e,closeToast:t,type:i="default",hide:r,className:s,controlledProgress:o,progress:a,rtl:l,isIn:c,theme:d}){let h=r||o&&a===0,p={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};o&&(p.transform=`scaleX(${a})`);let m=vl("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":l}),y=uo(s)?s({rtl:l,type:i,defaultClassName:m}):vl(m,s),g={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{c&&t()}};return pt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},pt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${i}`}),pt.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:y,style:p,...g}))}var uZ=1,ZO=()=>`${uZ++}`;function fZ(n,e,t){let i=1,r=0,s=[],o=[],a=e,l=new Map,c=new Set,d=_=>(c.add(_),()=>c.delete(_)),h=()=>{o=Array.from(l.values()),c.forEach(_=>_())},p=({containerId:_,toastId:S,updateId:M})=>{let T=_?_!==n:n!==1,E=l.has(S)&&M==null;return T||E},m=(_,S)=>{l.forEach(M=>{var T;(S==null||S===M.props.toastId)&&((T=M.toggle)==null||T.call(M,_))})},y=_=>{var S,M;(M=(S=_.props)==null?void 0:S.onClose)==null||M.call(S,_.removalReason),_.isActive=!1},g=_=>{if(_==null)l.forEach(y);else{let S=l.get(_);S&&y(S)}h()},x=()=>{r-=s.length,s=[]},w=_=>{var S,M;let{toastId:T,updateId:E}=_.props,B=E==null;_.staleId&&l.delete(_.staleId),_.isActive=!0,l.set(T,_),h(),t(EP(_,B?"added":"updated")),B&&((M=(S=_.props).onOpen)==null||M.call(S))};return{id:n,props:a,observe:d,toggle:m,removeToast:g,toasts:l,clearQueue:x,buildToast:(_,S)=>{if(p(S))return;let{toastId:M,updateId:T,data:E,staleId:B,delay:C}=S,R=T==null;R&&r++;let L={...a,style:a.toastStyle,key:i++,...Object.fromEntries(Object.entries(S).filter(([V,H])=>H!=null)),toastId:M,updateId:T,data:E,isIn:!1,className:ww(S.className||a.toastClassName),progressClassName:ww(S.progressClassName||a.progressClassName),autoClose:S.isLoading?!1:sZ(S.autoClose,a.autoClose),closeToast(V){l.get(M).removalReason=V,g(M)},deleteToast(){let V=l.get(M);if(V!=null){if(t(EP(V,"removed")),l.delete(M),r--,r<0&&(r=0),s.length>0){w(s.shift());return}h()}}};L.closeButton=a.closeButton,S.closeButton===!1||Sw(S.closeButton)?L.closeButton=S.closeButton:S.closeButton===!0&&(L.closeButton=Sw(a.closeButton)?a.closeButton:!0);let O={content:_,props:L,staleId:B};a.limit&&a.limit>0&&r>a.limit&&R?s.push(O):Ph(C)?setTimeout(()=>{w(O)},C):w(O)},setProps(_){a=_},setToggle:(_,S)=>{let M=l.get(_);M&&(M.toggle=S)},isToastActive:_=>{var S;return(S=l.get(_))==null?void 0:S.isActive},getSnapshot:()=>o}}var Ei=new Map,Wd=[],Aw=new Set,dZ=n=>Aw.forEach(e=>e(n)),$O=()=>Ei.size>0;function hZ(){Wd.forEach(n=>tk(n.content,n.options)),Wd=[]}var pZ=(n,{containerId:e})=>{var t;return(t=Ei.get(e||1))==null?void 0:t.toasts.get(n)};function ek(n,e){var t;if(e)return!!((t=Ei.get(e))!=null&&t.isToastActive(n));let i=!1;return Ei.forEach(r=>{r.isToastActive(n)&&(i=!0)}),i}function mZ(n){if(!$O()){Wd=Wd.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||rZ(n))Ei.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Ei.get(n.containerId);e?e.removeToast(n.id):Ei.forEach(t=>{t.removeToast(n.id)})}}var gZ=(n={})=>{Ei.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function tk(n,e){Sw(n)&&($O()||Wd.push({content:n,options:e}),Ei.forEach(t=>{t.buildToast(n,e)}))}function vZ(n){var e;(e=Ei.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function nk(n,e){Ei.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function yZ(n){let e=n.containerId||1;return{subscribe(t){let i=fZ(e,n,dZ);Ei.set(e,i);let r=i.observe(t);return hZ(),()=>{r(),Ei.delete(e)}},setProps(t){var i;(i=Ei.get(e))==null||i.setProps(t)},getSnapshot(){var t;return(t=Ei.get(e))==null?void 0:t.getSnapshot()}}}function xZ(n){return Aw.add(n),()=>{Aw.delete(n)}}function _Z(n){return n&&(Ll(n.toastId)||Ph(n.toastId))?n.toastId:ZO()}function Rh(n,e){return tk(n,e),e.toastId}function cv(n,e){return{...e,type:e&&e.type||n,toastId:_Z(e)}}function uv(n){return(e,t)=>Rh(e,cv(n,t))}function Ht(n,e){return Rh(n,cv("default",e))}Ht.loading=(n,e)=>Rh(n,cv("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function wZ(n,{pending:e,error:t,success:i},r){let s;e&&(s=Ll(e)?Ht.loading(e,r):Ht.loading(e.render,{...r,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(c,d,h)=>{if(d==null){Ht.dismiss(s);return}let p={type:c,...o,...r,data:h},m=Ll(d)?{render:d}:d;return s?Ht.update(s,{...p,...m}):Ht(m.render,{...p,...m}),h},l=uo(n)?n():n;return l.then(c=>a("success",i,c)).catch(c=>a("error",t,c)),l}Ht.promise=wZ;Ht.success=uv("success");Ht.info=uv("info");Ht.error=uv("error");Ht.warning=uv("warning");Ht.warn=Ht.warning;Ht.dark=(n,e)=>Rh(n,cv("default",{theme:"dark",...e}));function SZ(n){mZ(n)}Ht.dismiss=SZ;Ht.clearWaitingQueue=gZ;Ht.isActive=ek;Ht.update=(n,e={})=>{let t=pZ(n,e);if(t){let{props:i,content:r}=t,s={delay:100,...i,...e,toastId:e.toastId||n,updateId:ZO()};s.toastId!==n&&(s.staleId=n);let o=s.render||r;delete s.render,Rh(o,s)}};Ht.done=n=>{Ht.update(n,{progress:1})};Ht.onChange=xZ;Ht.play=n=>nk(!0,n);Ht.pause=n=>nk(!1,n);function AZ(n){var e;let{subscribe:t,getSnapshot:i,setProps:r}=F.useRef(yZ(n)).current;r(n);let s=(e=F.useSyncExternalStore(t,i,i))==null?void 0:e.slice();function o(a){if(!s)return[];let l=new Map;return n.newestOnTop&&s.reverse(),s.forEach(c=>{let{position:d}=c.props;l.has(d)||l.set(d,[]),l.get(d).push(c)}),Array.from(l,c=>a(c[0],c[1]))}return{getToastToRender:o,isToastActive:ek,count:s==null?void 0:s.length}}function MZ(n){let[e,t]=F.useState(!1),[i,r]=F.useState(!1),s=F.useRef(null),o=F.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:d,closeOnClick:h}=n;vZ({id:n.toastId,containerId:n.containerId,fn:t}),F.useEffect(()=>{if(n.pauseOnFocusLoss)return p(),()=>{m()}},[n.pauseOnFocusLoss]);function p(){document.hasFocus()||w(),window.addEventListener("focus",x),window.addEventListener("blur",w)}function m(){window.removeEventListener("focus",x),window.removeEventListener("blur",w)}function y(B){if(n.draggable===!0||n.draggable===B.pointerType){_();let C=s.current;o.canCloseOnClick=!0,o.canDrag=!0,C.style.transition="none",n.draggableDirection==="x"?(o.start=B.clientX,o.removalDistance=C.offsetWidth*(n.draggablePercent/100)):(o.start=B.clientY,o.removalDistance=C.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function g(B){let{top:C,bottom:R,left:L,right:O}=s.current.getBoundingClientRect();B.nativeEvent.type!=="touchend"&&n.pauseOnHover&&B.clientX>=L&&B.clientX<=O&&B.clientY>=C&&B.clientY<=R?w():x()}function x(){t(!0)}function w(){t(!1)}function _(){o.didMove=!1,document.addEventListener("pointermove",M),document.addEventListener("pointerup",T)}function S(){document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",T)}function M(B){let C=s.current;if(o.canDrag&&C){o.didMove=!0,e&&w(),n.draggableDirection==="x"?o.delta=B.clientX-o.start:o.delta=B.clientY-o.start,o.start!==B.clientX&&(o.canCloseOnClick=!1);let R=n.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;C.style.transform=`translate3d(${R},0)`,C.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function T(){S();let B=s.current;if(o.canDrag&&o.didMove&&B){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){r(!0),n.closeToast(!0),n.collapseAll();return}B.style.transition="transform 0.2s, opacity 0.2s",B.style.removeProperty("transform"),B.style.removeProperty("opacity")}}let E={onPointerDown:y,onPointerUp:g};return a&&l&&(E.onMouseEnter=w,n.stacked||(E.onMouseLeave=x)),h&&(E.onClick=B=>{d&&d(B),o.canCloseOnClick&&c(!0)}),{playToast:x,pauseToast:w,isRunning:e,preventExitTransition:i,toastRef:s,eventHandlers:E}}var bZ=typeof window<"u"?F.useLayoutEffect:F.useEffect,fv=({theme:n,type:e,isLoading:t,...i})=>pt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function CZ(n){return pt.createElement(fv,{...n},pt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function TZ(n){return pt.createElement(fv,{...n},pt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function EZ(n){return pt.createElement(fv,{...n},pt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function PZ(n){return pt.createElement(fv,{...n},pt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function RZ(){return pt.createElement("div",{className:"Toastify__spinner"})}var Mw={info:TZ,warning:CZ,success:EZ,error:PZ,spinner:RZ},BZ=n=>n in Mw;function LZ({theme:n,type:e,isLoading:t,icon:i}){let r=null,s={theme:n,type:e};return i===!1||(uo(i)?r=i({...s,isLoading:t}):F.isValidElement(i)?r=F.cloneElement(i,s):t?r=Mw.spinner():BZ(e)&&(r=Mw[e](s))),r}var DZ=n=>{let{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:r,playToast:s}=MZ(n),{closeButton:o,children:a,autoClose:l,onClick:c,type:d,hideProgressBar:h,closeToast:p,transition:m,position:y,className:g,style:x,progressClassName:w,updateId:_,role:S,progress:M,rtl:T,toastId:E,deleteToast:B,isIn:C,isLoading:R,closeOnClick:L,theme:O,ariaLabel:V}=n,H=vl("Toastify__toast",`Toastify__toast-theme--${O}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":T},{"Toastify__toast--close-on-click":L}),G=uo(g)?g({rtl:T,position:y,type:d,defaultClassName:H}):vl(H,g),$=LZ(n),ee=!!M||!l,oe={closeToast:p,type:d,theme:O},k=null;return o===!1||(uo(o)?k=o(oe):F.isValidElement(o)?k=F.cloneElement(o,oe):k=lZ(oe)),pt.createElement(m,{isIn:C,done:B,position:y,preventExitTransition:t,nodeRef:i,playToast:s},pt.createElement("div",{id:E,tabIndex:0,onClick:c,"data-in":C,className:G,...r,style:x,ref:i,...C&&{role:S,"aria-label":V}},$!=null&&pt.createElement("div",{className:vl("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},$),qO(a,n,!e),k,!n.customProgressBar&&pt.createElement(cZ,{..._&&!ee?{key:`p-${_}`}:{},rtl:T,theme:O,delay:l,isRunning:e,isIn:C,closeToast:p,hide:h,type:d,className:w,controlledProgress:ee,progress:M||0})))},IZ=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),OZ=aZ(IZ("bounce",!0)),kZ={position:"top-right",transition:OZ,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function FZ(n){let e={...kZ,...n},t=n.stacked,[i,r]=F.useState(!0),s=F.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=AZ(e),{className:c,style:d,rtl:h,containerId:p,hotKeys:m}=e;function y(x){let w=vl("Toastify__toast-container",`Toastify__toast-container--${x}`,{"Toastify__toast-container--rtl":h});return uo(c)?c({position:x,rtl:h,defaultClassName:w}):vl(w,ww(c))}function g(){t&&(r(!0),Ht.play())}return bZ(()=>{var x;if(t){let w=s.current.querySelectorAll('[data-in="true"]'),_=12,S=(x=e.position)==null?void 0:x.includes("top"),M=0,T=0;Array.from(w).reverse().forEach((E,B)=>{let C=E;C.classList.add("Toastify__toast--stacked"),B>0&&(C.dataset.collapsed=`${i}`),C.dataset.pos||(C.dataset.pos=S?"top":"bot");let R=M*(i?.2:1)+(i?0:_*B);C.style.setProperty("--y",`${S?R:R*-1}px`),C.style.setProperty("--g",`${_}`),C.style.setProperty("--s",`${1-(i?T:0)}`),M+=C.offsetHeight,T+=.025})}},[i,l,t]),F.useEffect(()=>{function x(w){var _;let S=s.current;m(w)&&((_=S.querySelector('[tabIndex="0"]'))==null||_.focus(),r(!1),Ht.pause()),w.key==="Escape"&&(document.activeElement===S||S!=null&&S.contains(document.activeElement))&&(r(!0),Ht.play())}return document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[m]),pt.createElement("section",{ref:s,className:"Toastify",id:p,onMouseEnter:()=>{t&&(r(!1),Ht.pause())},onMouseLeave:g,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((x,w)=>{let _=w.length?{...d}:{...d,pointerEvents:"none"};return pt.createElement("div",{tabIndex:-1,className:y(x),"data-stacked":t,style:_,key:`c-${x}`},w.map(({content:S,props:M})=>pt.createElement(DZ,{...M,stacked:t,collapseAll:g,isIn:a(M.toastId,M.containerId),key:`t-${M.key}`},S)))}))}const NZ=()=>{const n=F.useRef(),[e,t]=F.useState({name:"",email:"",message:""}),[i,r]=F.useState(!1),s=a=>{const{target:l}=a,{name:c,value:d}=l;t({...e,[c]:d})},o=a=>{if(a.preventDefault(),!e.name||!e.email||!e.message){Ht.error("Please fill in all fields.");return}r(!0),nZ.send("service_90m5vpv","template_90m5vpv",{name:e.name,to_name:"Hardik Jain",email:e.email,to_email:"hardikhardikjain2004@gmail.com",message:e.message},"c9RvNLTdq6mlFFQIM").then(()=>{r(!1),Ht.success("Thank you for reaching out! We'll get back to you soon."),t({name:"",email:"",message:""})},l=>{r(!1),console.error(l),Ht.error("Oops, something went wrong. Please try again.")})};return ze("div",{className:"xl:mt-12 flex xl:flex-row flex-col-reverse gap-10 overflow-hidden",children:[W(FZ,{position:"top-center",style:{marginTop:"80px"},autoClose:5e3}),ze(Rl.div,{variants:nP("left","tween",.2,1),className:"flex-[0.75] bg-black-100 p-8 rounded-2xl",children:[W("p",{className:Ri.sectionSubText,children:"Let's Connect"}),W("h2",{className:`${Ri.sectionHeadText} animate-text bg-gradient-to-r from-teal-500 via-purple-500 to-orange-500 bg-clip-text text-transparent font-black`,children:"Reach Out."}),ze("form",{ref:n,onSubmit:o,className:"mt-12 flex flex-col gap-8",children:[ze("label",{className:"flex flex-col",children:[W("span",{className:"text-white font-medium mb-4",children:"Your Full Name"}),W("input",{type:"text",name:"name",value:e.name,onChange:s,placeholder:"What's your name?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})]}),ze("label",{className:"flex flex-col",children:[W("span",{className:"text-white font-medium mb-4",children:"Your Email Address"}),W("input",{type:"email",name:"email",value:e.email,onChange:s,placeholder:"What's your email address?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})]}),ze("label",{className:"flex flex-col",children:[W("span",{className:"text-white font-medium mb-4",children:"Your Message"}),W("textarea",{rows:7,name:"message",value:e.message,onChange:s,placeholder:"What's your message?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})]}),W("button",{type:"submit",className:"bg-tertiary py-3 px-8 rounded-xl outline-none w-fit text-white font-bold shadow-md shadow-primary",children:i?"Sending...":"Send Message"})]})]}),W(Rl.div,{variants:nP("right","tween",.2,1),className:"xl:flex-1 xl:h-auto md:h-[550px] h-[350px]",children:W(G7,{})})]})},zZ=Uu(NZ,"contact"),UZ="_cursor_1xkw8_1",GZ="_blinkingText_1xkw8_1",HZ={cursor:UZ,blinkingText:GZ},o_=30;function VZ({text:n,speed:e=o_,loop:t=!1,random:i=o_,delay:r=o_,cursor:s=!0,onFinished:o=()=>{},onStart:a=()=>{}}){const[l,c]=F.useState(0),[d,h]=F.useState(0);return Array.isArray(n)||(n=[n]),F.useEffect(()=>{setTimeout(()=>{d===0&&a(),d<n[l].length?h(d+1):l<n.length-1?setTimeout(()=>{h(0),c(l+1)},r):t?setTimeout(()=>{h(0),c(0)},r):o()},e+Math.random()*i)}),pt.createElement("span",null,n[l].substring(0,d),pt.createElement("span",{className:HZ.cursor},s&&""))}const Bh=()=>{const[n,e]=F.useState("");return ze("div",{className:"bg-black-200 sm:px-16 px-6 sm:py-12 py-10 min-h-[250px] mt-20",children:[ze("div",{className:"flex justify-center gap-6 mt-8",children:[W(ti,{target:"_blank",to:"https://www.linkedin.com/in/hardik-jain/",children:W(rO,{size:30,className:"hover:text-[#0e76a8] hover:translate-y-[-2px] hover:cursor-pointer transition-all ease-in duration-100"})}),W(ti,{target:"_blank",to:"https://twitter.com/hardik_jain",children:W(sO,{size:30,className:"hover:text-[#1DA1F2] hover:translate-y-[-2px] hover:cursor-pointer transition-all ease-in duration-100"})}),W(ti,{target:"_blank",to:"https://www.instagram.com/hardik_jain/",children:W(iO,{size:30,className:"hover:text-[#E1306C] hover:translate-y-[-2px] hover:cursor-pointer transition-all ease-in duration-100"})}),W(ti,{target:"_blank",to:"https://www.facebook.com/hardik.jain",children:W(nO,{size:30,className:"hover:text-[#1877F2] hover:translate-y-[-2px] hover:cursor-pointer transition-all ease-in duration-100"})})]}),ze("div",{className:"flex justify-center items-center mt-8",children:[W(ti,{to:"/",onClick:()=>{e(""),window.scrollTo(0,0)},children:W("img",{src:oO,alt:"logo",className:"w-28 h-28 object-contain"})}),ze("p",{className:"text-secondary text-[17px] leading-[30px] text-center select-none mt-4 sm:mt-0",children:[new Date().getFullYear(),"  Created by Hardik Jain."]})]}),W("div",{className:"w-full h-auto flex justify-center text-purple-500 font-bold self-start text-2xl mt-5",children:W(VZ,{text:["Thank's for visiting!","GDG on Campus PESCE"],loop:!0,speed:100,cursor:!1})})]})},WZ=()=>ze("div",{className:"relative z-0 bg-dark py-16",children:[" ",ze("div",{className:"relative z-10",children:[W("h2",{className:"text-center text-transparent text-4xl sm:text-5xl font-extrabold mb-6 mt-16 bg-gradient-to-r from-teal-500 via-purple-500 to-orange-500 bg-clip-text",children:"Meet Our Team"}),W("p",{className:"text-center text-gray-400 text-lg sm:text-xl max-w-3xl mx-auto mb-12",children:"Our team is a diverse group of passionate and talented individuals, working together to bring innovative solutions to life. Meet the incredible people behind our success."}),W("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-10 px-6 sm:px-12",children:RY.map((n,e)=>W("div",{className:"bg-tertiary rounded-2xl p-6 shadow-lg transform transition-all duration-300 hover:scale-105 hover:shadow-2xl",children:ze("div",{className:"flex flex-col items-center text-center",children:[W("div",{className:"relative w-36 h-36 mb-6",children:W("img",{src:n.image,alt:n.name,className:"w-full h-full rounded-full object-cover transition-all duration-200 transform hover:scale-110"})}),W("h3",{className:"text-white font-semibold text-xl mb-2",children:n.name}),W("p",{className:"text-teal-500 text-lg mb-1",children:n.role}),W("p",{className:"text-gray-400 text-sm mb-4",children:n.college}),W("a",{href:n.profileLink,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-8 py-3 text-white bg-teal-500 rounded-lg text-lg transition-transform duration-300 transform hover:scale-105",children:"View Profile"})]})},e))})]}),W(Ys,{})]}),jZ=()=>ze(m0,{children:[ze("div",{variants:nv(),children:[W("p",{className:Ri.sectionSubText,children:"Google Developer Group (GDG)"}),W("h5",{className:`${Ri.sectionHeadText} animate-text bg-gradient-to-r from-teal-500 via-purple-500 to-orange-500 bg-clip-text text-transparent font-black`,children:"Community Page"})]}),ze("div",{className:"flex items-center min-[1000px]:flex-row flex-col-reverse",children:[ze("p",{variants:Gd("","",.1,1),className:"mt-4 text-secondary text-[17px] max-w-3xl leading-[30px]",children:["The Google Developer Group (GDG) at PES College of Engineering, Mandya, is a vibrant community that connects students and tech enthusiasts with cutting-edge technology and global opportunities. As a part of the global GDG network, it hosts events that cover a wide range of topics, including mobile app development, web development, and participation in global competitions like the Google Solution Challenge. These activities are aimed at fostering innovation and technical excellence among its members.",W("br",{}),"One of the highlights of the community is its focus on practical learning through expert-led sessions and hands-on workshops. For instance, events like the Flutter Development Pathway introduce members to cross-platform app development using Flutter, while sessions on web development provide foundational knowledge and prepare students for international competitions. These initiatives not only enhance technical skills but also encourage problem-solving and creativity.",W("br",{}),"The leadership team of GDG PESCE includes dedicated individuals such as Kushala M Gowda, Gowtham CK, and others who organize and manage these activities. Their commitment ensures members can connect with industry experts, explore real-world applications, and build innovative projects. This community serves as a platform for networking, skill enhancement, and showcasing talents on a global stage.",W("br",{}),"To learn more about the GDG program and how to get involved, visit the official GDG website:"," ",W("a",{href:"https://developers.google.com/community",target:"_blank",rel:"noopener noreferrer",className:"animate-text bg-gradient-to-r from-teal-500 via-purple-500 to-orange-500 bg-clip-text text-transparent font-black",children:"GDG Official Site"}),"."]}),W("div",{className:"xs:w-[350px] xs:h-[350px] w-full h-full m-auto max-[1000px]:my-14",children:W("img",{src:SY,alt:"Community Logo",className:"w-full h-full object-contain"})})]})]}),JZ=Uu(jZ,"Communitya"),Lh=()=>ze("div",{className:"mt-20 flex flex-wrap gap-6 justify-center",children:[W(ti,{to:"/",className:"flex flex-col items-center justify-center p-6 bg-gray-800 text-white rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-300 w-full sm:w-60",children:W("span",{className:"text-lg font-medium",children:"Explore Home"})}),W(ti,{to:"/community",className:"flex flex-col items-center justify-center p-6 bg-gray-800 text-white rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-300 w-full sm:w-60",children:W("span",{className:"text-lg font-medium",children:"Explore Community"})}),W(ti,{to:"/team",className:"flex flex-col items-center justify-center p-6 bg-gray-800 text-white rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-300 w-full sm:w-60",children:W("span",{className:"text-lg font-medium",children:"Meet the Team"})}),W(ti,{to:"/about",className:"flex flex-col items-center justify-center p-6 bg-gray-800 text-white rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-300 w-full sm:w-60",children:W("span",{className:"text-lg font-medium",children:"About Us"})}),W(ti,{to:"/contact",className:"flex flex-col items-center justify-center p-6 bg-gray-800 text-white rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-300 w-full sm:w-60",children:W("span",{className:"text-lg font-medium",children:"Contact Us"})})]}),XZ=()=>ze("div",{className:"relative z-0 bg-primary",children:[W(Th,{}),ze("div",{className:"relative z-20 bg-no-repeat bg-center",children:[W(mY,{}),W(Ys,{})]}),ze("div",{className:"relative z-0",children:[W(lO,{}),W(Ys,{})]}),W(Lh,{}),W(Bh,{})]}),KZ=()=>ze("div",{className:"relative z-0 bg-primary",children:[W(Th,{}),ze("div",{className:"relative z-0",children:[W(JZ,{}),W(Ys,{})]}),ze("div",{className:"relative z-0",children:[W(qY,{}),W(Ys,{})]}),ze("div",{className:"relative z-0",children:[W(eQ,{}),W(Ys,{})]}),ze("div",{className:"relative z-0",children:[W(qq,{}),W(Ys,{})]}),W(Lh,{}),W(Bh,{})]}),YZ=()=>ze("div",{className:"relative z-0 bg-primary",children:[W(Th,{}),W(WZ,{}),W(Lh,{}),W(Bh,{})]}),QZ=()=>ze("div",{className:"relative z-0 bg-primary",children:[W(Th,{}),ze("div",{className:"relative z-0",children:[W(lO,{}),W(Ys,{})]}),W(Lh,{}),W(Bh,{})]}),qZ=()=>W("div",{className:"relative z-0 bg-primary",children:ze("div",{className:"relative z-0",children:[W(Th,{}),W(zZ,{}),W(Ys,{}),W(Lh,{}),W(Bh,{})]})}),ZZ=()=>{F.useEffect(()=>{const t=document.createElement("script");return t.type="module",t.src="https://cdn.jsdelivr.net/npm/@denserai/embed-chat@1/dist/web.min.js",t.onload=()=>{window.Chatbot.init({chatbotId:"481c9674-8c70-4451-ae13-db63491f873a",onMessageReceived:i=>{n(i)},onChatStart:()=>{e()}})},document.body.appendChild(t),()=>{document.body.removeChild(t)}},[]);const n=t=>{const i=JSON.parse(localStorage.getItem("chatHistory"))||[];i.push(t),localStorage.setItem("chatHistory",JSON.stringify(i))},e=()=>{(JSON.parse(localStorage.getItem("chatHistory"))||[]).forEach(i=>{window.Chatbot.addMessage(i)})};return null},$Z=()=>W(wz,{children:ze("div",{className:"pt-20",children:[" ",ze(pz,{children:[W(Ac,{path:"/",element:W(XZ,{})}),W(Ac,{path:"/community",element:W(KZ,{})}),W(Ac,{path:"/team",element:W(YZ,{})}),W(Ac,{path:"/about",element:W(QZ,{})}),W(Ac,{path:"/contact",element:W(qZ,{})})]}),W(ZZ,{})]})});a_.createRoot(document.getElementById("root")).render(W(pt.StrictMode,{children:W($Z,{})}));
